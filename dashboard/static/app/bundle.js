!function(t,e){"use strict";var a=function(t,e){var a=t/e*100;return Math.round(10*a)/10},r=function(t){var e=(t=t.toString()).substr(2,2);return["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"][Number(t.substr(4,2))]+"'"+e},n=function(t){var e=(t=t.toString()).substr(0,4);return["","January","February","March","April","May","June","July","August","September","October","November","December"][Number(t.substr(4,2))]+" "+e},i=function(t,e){return"CY"==e?["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"][t]:["","Jul","Aug","Sept","Oct","Nov","Dec","Jan","Feb","Mar","Apr","May","Jun"][t]},o=function(t,e){return e<10?t+"0"+e:t+""+e},c=function(t,e){t=t.toString();var a=Number(t.substr(4,2));return"CY"==e?a:a>=7?Math.abs(a-7)+1:a+6},s=function(t,e){return t=t.toString(),Number(t.substr(4,2))},l=function(t,e){return t=t.toString(),Number(t.substr(0,4))},d=function(t,e){var a=(t=t.toString()).substr(0,4),r=Number(t.substr(4,2));if("CY"==e)return a;if("FY"==e){if(r<=6){return Number(a)-1+"-"+a}return a+"-"+(Number(a)+1)}};!function(t){angular.extend(t,{per:a,generateLabelFromPeriod:r,generateFullLabelFromPeriod:n,getPeriodString:o,getYearLabelFromPeriod:d,getMonthFromPeriod:s,getYearFromPeriod:l,getMonthIndexFromPeriod:c,getMonthFromNumber:i})}(t.appHelpers||(t.appHelpers={}))}(window,document),window.angular.module("services").service("AnnualService",["$http",function(t){var e=function(t){return t.data};return{getAwpActivities:function(a){return t.get("planning/api/awpactivities",{params:{year:a}}).then(e)},getFundActivities:function(a){return t.get("planning/api/fundactivities",{params:{year:a}}).then(e)},getPriorityActivities:function(a){return t.get("planning/api/priorityactivities",{params:{year:a}}).then(e)}}}]),function(t){window.angular.module("services").service("ChartPDFExport",function(){return{export:function(t){d3.selectAll("svg .nv-line").style("fill","#ffffff").style("fill-opacity",0),d3.selectAll(".nvd3 .nv-background").style("fill","#ffffff").style("fill-opacity",0),d3.selectAll(".nvd3 .nv-axis line").style("stroke","#e5e5e5"),d3.selectAll(".nvd3 text").style("font","normal 13px Arial, sans-serif"),d3.selectAll(".nvd3 .nv-groups .nv-point").style("fill-opacity",0).style("stroke-width","0px"),d3.selectAll(".nvd3 .nv-y .zero line").style("stroke","#404040"),d3.selectAll(".nv-y .nv-axis g path.domain").style("stroke","#404040"),d3.selectAll(".legendQuant .label").style("font","normal 12px Arial, sans-serif");var e=new jsPDF("l","mm");e.addHTML(document.getElementById("pdfReport"),0,0,{format:"PNG"},function(){e.save(t)})}}})}(),function(t){window.angular.module("services").service("ChartSupportService",function(){function t(){d3.selectAll(".nv-multibar .nv-group").each(function(t){var e=d3.select(this);e.selectAll("text").remove(),e.selectAll(".nv-bar").each(function(t){var a=d3.select(this),r=a.attr("width");a.attr("height"),e.append("text").attr("transform",a.attr("transform")).text(function(){return parseFloat(t.y).toFixed(0)}).attr("y",function(){return this.getBBox().height,parseFloat(a.attr("y"))-10}).attr("x",function(){var t=this.getBBox().width;return parseFloat(a.attr("x"))+parseFloat(r)/2-t/2}).attr("class","bar-values")})})}return{getOptions:function(e){return{chart:{type:e,height:450,width:650,stacked:!1,showControls:!1,groupSpacing:.2,clipEdge:!1,interactiveLayer:{gravity:"s"},x:function(t){return t.x},y:function(t){return t.y},forceY:[0,110],xAxis:{axisLabel:"Years",tickFormat:function(t){return t}},yAxis:{axisLabel:"Coverage Rate (%)",ticks:10},dispatch:{renderEnd:function(){t()}},callback:function(t){},legend:{dispatch:{stateChange:function(){}}}}}},initLabels:t,clearLabels:function(){d3.selectAll(".nv-multibar .nv-group").each(function(t){d3.select(this).selectAll("text").remove()})}}})}(),function(t){window.angular.module("services").service("CoverageCalculator",function(){function t(t,e){return Math.round(t/e*100)}function e(t,e){return Math.round((t-e)/t*100)}return{calculateCoverageRate:t,calculateDropoutRate:e,calculateRedCategory:function(a,r,n){var i=t(a,n),o=e(a,r);return i>=90&&o>=0&&o<=10?1:i>=90&&(o<0||o>10)?2:i<90&&o>=0&&o<=10?3:i<90&&(o<0||o>10)?4:0}}})}(),window.angular.module("services").service("CoverageService",["$http",function(t){var e=function(t){return t.data};return{getDHIS2VaccineDoses:function(a,r,n){return t.get("coverage/api/dhis2vaccinedoses",{params:{period:a,vaccine:n,district:r}}).then(e)},getVaccineDoses:function(a,r){return t.get("coverage/api/vaccinedoses",{params:{period:a,vaccine:r}}).then(e)},getVaccineDosesByDistrict:function(a,r,n){return t.get("coverage/api/vaccinedoses",{params:{period:a,vaccine:n,district:r}}).then(e)},getVaccineDosesByPeriod:function(a){return t.get("coverage/api/vaccinedoses_by_period",{params:{startYear:a.startYear,endYear:a.endYear,vaccine:a.antigen,period:a.period,dose:a.dose,district:a.district,dataType:a.dataType,enableDistrictGrouping:a.enableDistrictGrouping}}).then(e)},getUnepiCoverage:function(a,r){return t.get("coverage/api/coverageannualized",{params:{period:a,district:r}}).then(e)},getDistrictMap:function(){return t.get("static/Uganda_admin.json").then(e)},getRedVaccineDoses:function(a,r){return t.get("coverage/api/vaccinedoses",{params:{period:a,vaccine:r}}).then(e)}}}]),function(t){t.module("services").service("FilterService",["$http",function(t){var e=function(t){return t.data};return{getMonths:function(){return t.get("/api/months").then(e)},getYear:function(){return t.get("planning/api/activityyear").then(e)},getVaccines:function(){return t.get("/api/vaccines/").then(e)},getDistricts:function(){return t.get("/api/districts").then(e)},getFridgeDistricts:function(){return t.get("coldchain/api/districts").then(e)},getFridgeCareLevels:function(){return t.get("coldchain/api/carelevels").then(e)},getFridgeQuarters:function(){return t.get("coldchain/api/quarters").then(e)},getLastPeriod:function(){return t.get("/api/lastperiod").then(e)},getPeriodRanges:function(){return t.get("coverage/api/period_ranges").then(e)},getAwpActivities:function(){return t.get("planning/api/awpactivities").then(e)},getFundActivities:function(){return t.get("planning/api/fundactivities").then(e)},getUnepiCoverage:function(){return t.get("coverage/api/coverageannualized").then(e)},getUnepiStock:function(){return t.get("api/stock/athandbydistrict").then(e)}}}]),t.module("services").service("MonthService",[function(){var t=function(t){var e={};return e.Jan=1,e.Feb=2,e.Mar=3,e.Apr=4,e.May=5,e.Jun=6,e.Jul=7,e.Aug=8,e.Sep=9,e.Oct=10,e.Nov=11,e.Dec=12,e[t]},e=function(e){var a=e.split(" "),r=t(a[0]),n=parseInt(a[1]);return new Date(n,r,1)};return monthDiff=function(t,e){var a;return a=12*(e.getFullYear()-t.getFullYear()),a-=t.getMonth()+1,(a+=e.getMonth())<=0?0:a},monthRangeDiff=function(t,a){return monthDiff(e(t),e(a))},{getMonthName:function(t){var e={};return e[1]="Jan",e[2]="Feb",e[3]="Mar",e[4]="Apr",e[5]="May",e[6]="Jun",e[7]="Jul",e[8]="Aug",e[9]="Sep",e[10]="Oct",e[11]="Nov",e[12]="Dec",e[t]},getMonthNumber:t,monthToDate:e,monthDiff:monthDiff,monthRangeDiff:monthRangeDiff}}])}(window.angular),window.angular.module("services").service("FridgeService",["$http",function(t){var e=function(t){return t.data};return{getFridgeCapacity:function(a,r,n,i){return t.get("coldchain/api/capacities",{params:{startQuarter:a,endQuarter:r,district:n,carelevel:i}}).then(e)},getFridgeDistrictCapacity:function(a,r,n,i){return t.get("coldchain/api/districtcapacities",{params:{startQuarter:a,endQuarter:r,district:n,carelevel:i}}).then(e)},getFridgeFacilityCapacity:function(a,r,n,i){return t.get("coldchain/api/facilitycapacities",{params:{startQuarter:a,endQuarter:r,district:n,carelevel:i}}).then(e)},getFridgeFunctionality:function(a,r,n,i){return t.get("coldchain/api/refrigerators",{params:{startQuarter:a,endQuarter:r,district:n,carelevel:i}}).then(e)},getFridgeImmunizingFacility:function(a,r,n,i){return t.get("coldchain/api/immunizingfacilities",{params:{startQuarter:a,endQuarter:r,district:n,carelevel:i}}).then(e)},getFridgeDistrictRefrigerator:function(a,r,n,i){return t.get("coldchain/api/districtrefrigerators",{params:{startQuarter:a,endQuarter:r,district:n,carelevel:i}}).then(e)},getFridgeFacilityRefrigerator:function(a,r,n,i){return t.get("coldchain/api/facilityrefrigerators",{params:{startQuarter:a,endQuarter:r,district:n,carelevel:i}}).then(e)},getFridgeDistrictImmunizingFacility:function(a,r,n,i){return t.get("coldchain/api/districtimmunizingfacilities",{params:{startQuarter:a,endQuarter:r,district:n,carelevel:i}}).then(e)},getFridgeCapacityMetrics:function(t){for(var e=0,a=0,r=0,n=0;n<t.length;n++){var i=t[n].surplus;i>30?e++:i<30&&i>=0?a++:i<0&&r++}return{surplus:e,sufficient:a,shortage:r,total:e+a+r}}}}]),window.angular.module("dashboard").controller("MainController",["$scope","FilterService","MonthService","$rootScope","$location",function(t,e,a,r,n){t.sortType="name",t.sortReverse=!1,t.searchText="",t.root={};var i=this;i.startMonth=i.startMonth?i.startMonth.name:"Nov 2015",i.endMonth=i.endMonth?i.endMonth.name:"Dec 2015",i.selectedVaccine="",i.selectedDistrict="",i.defaultPeriod="",e.getMonths().then(function(t){i.months=t,i.startMonth=i.months[0]});i.updateDoses=function(){i.dose=void 0,i.doses=["Dose 1","Dose 2","Dose 3"],0!=i.doses.length&&(i.dose=i.doses[i.doses.length-1])},i.antigens=Object.keys({ALL:[],HPV:["HPV1","HPV2"],DPT:["DPT1","DPT2","DPT3"],PCV:["PCV1","PCV2","PCV3"],IPV:[],OPV:["OPV1","OPV2","OPV3"],BCG:[],MEASLES:[],TT:["TT1","TT2"]}),"/coverage/redcategory"==n.path()?i.antigen="DPT":i.antigen="ALL",i.updateDoses(),e.getPeriodRanges().then(function(t){i.coverageYears=t.years,i.startYear=t.years[t.years.length-1],i.endYear=t.years[t.years.length-1],i.activeCoverageYear=t.years[t.years.length-1]});new Date;e.getLastPeriod().then(function(e){i.defaultPeriod=e,i.defaultMonth=parseInt(e.period.toString().substring(4,6)),t.defaultMonth=i.defaultMonth,t.defaultPeriod=e.period.toString();var r=e.period.toString(),n=parseInt(r.substring(4,6)),o=(a.getMonthName(n),0);for(var c in i.months)if(i.months[c].period==r){i.endMonth=i.months[c],o=c;break}var s=o-6+1;s<0&&(s=0),void 0!=i.months&&(i.startMonth=i.months[s])}),i.stockathand=0,e.getDistricts().then(function(t){-1==["/stock/distribution"].indexOf(n.path())&&t.unshift({name:"National"}),i.districts=t,i.selectedDistrict=i.districts[0],i.district=i.districts[0].name}),e.getVaccines().then(function(t){i.vaccines=t,i.selectedVaccine=i.vaccines[5]}),i.selectedYear="",e.getYear().then(function(t){i.years=t,i.selectedYear=i.years[0]}),i.startQuarter=i.startQuarter?i.startQuarter.name:"201601",i.endQuarter=i.endQuarter?i.endQuarter.name:"201603",i.selectedFridgeDistrict="",i.selectedFridgeCareLevel="",e.getFridgeDistricts().then(function(t){i.fridgeDistricts=t,i.selectedFridgeDistrict=i.fridgeDistricts[0]}),e.getFridgeCareLevels().then(function(t){i.fridgeCareLevels=t}),e.getFridgeQuarters().then(function(t){i.fridgeQuarters=t}),t.$watchGroup(["shell.endMonth","shell.selectedVaccine","shell.selectedDistrict"],function(t){t[0]&&t[1]&&t[2]&&i.endMonth&&r.$broadcast("refresh",i.startMonth,i.endMonth,i.selectedDistrict,i.selectedVaccine)}),t.$watchGroup(["shell.startYear","shell.endYear","shell.activeCoverageYear","shell.antigen","shell.dose","shell.district"],function(t){t[0]&&i.endMonth&&(r.$broadcast("refreshCoverage2",i.endMonth,i.startYear,i.endYear,i.activeCoverageYear,i.antigen,i.dose,i.district),r.$broadcast("refreshCoverage3",{endMonth:i.endMonth,startYear:i.startYear,endYear:i.endYear,activeCoverageYear:i.activeCoverageYear,antigen:i.antigen,dose:i.dose,district:i.district}))},!0),t.$watch("shell.endQuarter",function(){i.endQuarter&&r.$broadcast("refreshCapacity",i.startQuarter,i.endQuarter,i.selectedFridgeDistrict,i.selectedFridgeCareLevel)},!0),t.$watchGroup(["shell.endQuarter","shell.selectedFridgeDistrict","shell.selectedFridgeCareLevel"],function(t){t[0]&&t[1]&&i.endQuarter&&i.selectedFridgeDistrict&&r.$broadcast("refreshCapacity",i.startQuarter,i.endQuarter,i.selectedFridgeDistrict,i.selectedFridgeCareLevel)}),t.$watch("shell.years",function(){i.selectedYear&&r.$broadcast("refreshAwp",i.selectedYear)},!0),t.$watchGroup(["shell.years"],function(t){t[0]&&t[1]&&i.selectedYear&&r.$broadcast("refreshAwp",i.selectedYear)}),t.$watch("shell.coveragePeriod",function(){i.coveragePeriod&&r.$broadcast("refreshCoverage",i.coveragePeriod,i.selectedDistrict,i.selectedVaccine)},!0),t.$watchGroup(["shell.coveragePeriod","shell.selectedDistrict","shell.selectedVaccine"],function(t){t[0]&&t[1]&&t[2]&&i.coveragePeriod&&r.$broadcast("refreshCoverage",i.coveragePeriod,i.selectedDistrict,i.selectedVaccine)}),t.$watch("shell.coveragePeriod",function(){i.coveragePeriod&&i.selectedDistrict&&r.$broadcast("refreshUnepi",i.coveragePeriod,i.selectedDistrict,i.selectedVaccine)},!0),t.$watchGroup(["shell.coveragePeriod","shell.selectedDistrict","shell.selectedVaccine"],function(t){t[0]&&t[1]&&t[2]&&i.coveragePeriod&&i.selectedDistrict&&r.$broadcast("refreshUnepi",i.coveragePeriod,i.selectedDistrict,i.selectedVaccine)})}]),window.angular.module("services").service("MapSupportService",[function(){function t(t,e){return e.reduce(function(e,a){if(void 0==t||void 0==t[a[0]]||void 0==t[a[0]][a[1]])return e;var r=t[a[0]][a[1]];return e.totalPlanned+=r.planned,e.totalFirstDose+=r.first_dose,e.totalSecondDose+=r.second_dose,e.totalThirdDose+=r.third_dose,e.totalLastDose+=r.last_dose,e},{totalPlanned:0,totalFirstDose:0,totalSecondDose:0,totalThirdDose:0,totalLastDose:0})}var e=function(t,e){if(void 0!=t){if(e in t)return e;var a=Object.keys(t);return a[a.length-1]}},a=function(t,e,a,r,n){var i=[];for(yearIndex in t)if(!(yearIndex<e||yearIndex>r))for(monthIndex in t[yearIndex])yearIndex==e&&monthIndex<a||yearIndex==r&&monthIndex>n||i.push([yearIndex,monthIndex]);return i};return{createDistrictDataMap:function(t){var e={};for(var a in t){var r=t[a].period,n=t[a].total_first_dose,i=t[a].total_second_dose,o=t[a].total_third_dose,c=t[a].total_last_dose,s=t[a].total_planned,l=t[a].vaccine__name,d=t[a].district__name,u=Number(r.toString().substr(0,4)),g=Number(r.toString().substr(4,6));d in e||(e[d]={}),l in e[d]||(e[d][l]={}),u in e[d][l]||(e[d][l][u]={}),g in e[d][l][u]||(e[d][l][u][g]={}),e[d][l][u][g].first_dose=n,e[d][l][u][g].last_dose=c,e[d][l][u][g].second_dose=i,e[d][l][u][g].third_dose=o,e[d][l][u][g].planned=s}return e},getPeriodList:function(t,r,n){var i=[];if("MCY"==n)i.push([r.toString(),e(t[r],12)]);else if("MFY"==n){var o;(c=r+1)in t?(o=e(t[c],6),i.push([c.toString(),o])):(o=e(t[r],12),i.push([r.toString(),o]))}else if("ACY"==n)i.push.apply(i,a(t,r,1,r,e(t[r],12)));else if("AFY"==n){var c=r+1;c in t?i.push.apply(i,a(t,r,7,c,e(t[c],6))):i.push.apply(i,a(t,r,7,r,e(t[r],12)))}return i},calculateCoverageRate:function(e,a,r){var n=t(e,a),i=n.totalLastDose;return 1==r?i=n.totalFirstDose:2==r?i=n.totalSecondDose:3==r&&(i=n.totalThirdDose),i/n.totalPlanned*100},calculateDropoutRate:function(e,a){var r=t(e,a);return(r.totalFirstDose-r.totalLastDose)/r.totalFirstDose*100},calculateRedCategoryValue:function(e,a){var r=t(e,a),n=r.totalFirstDose/r.totalPlanned*100,i=(r.totalFirstDose-r.totalLastDose)/r.totalFirstDose*100;return n>=90&&i>=0&&i<=10?1:n>=90&&(i<0||i>10)?2:n<90&&i>=0&&i<=10?3:n<90&&(i<0||i>10)?4:0}}}]),window.angular.module("services").service("StockService",["$http",function(t){var e=function(t){return t.data};return{getStockByDistrict:function(a,r,n,i){return t.get("api/stock/athandbydistrict",{params:{startMonth:a,endMonth:r,district:n,vaccine:i}}).then(e)},getStockByMonth:function(a,r,n,i){return t.get("api/stock/athandbymonth",{params:{startMonth:a,endMonth:r,district:n,vaccine:i}}).then(e)},getStockMonthsLeft:function(a,r){return t.get("api/stock/stockmonthsleft",{params:{district:a,vaccine:r}}).then(e)},getStockByDistrictVaccine:function(a,r,n,i){return t.get("/api/stock/stockbydistrictvaccine",{params:{startMonth:a,endMonth:r,district:n,vaccine:i}}).then(e)},getStockedOut:function(a,r,n,i){return t.get("/api/stockedout",{params:{startMonth:a,endMonth:r,district:n,vaccine:i}}).then(e)},getUnepiStock:function(a,r){return t.get("api/stock/athandbydistrict",{params:{endMonth:a,district:r}}).then(e)}}}]),function(t){"use strict";function e(t,e,a,r,n){function i(){d3.selectAll(".nv-multibar .nv-group").each(function(t){var e=d3.select(this);e.selectAll("text").remove(),e.selectAll(".nv-bar").each(function(t){var a=d3.select(this),r=a.attr("width");a.attr("height");e.append("text").attr("transform",a.attr("transform")).text(function(){return parseFloat(t.y).toFixed(0)+"%"}).attr("y",function(){this.getBBox().height;return parseFloat(a.attr("y"))-10}).attr("x",function(){var t=this.getBBox().width;return parseFloat(a.attr("x"))+parseFloat(r)/2-t/2}).attr("class","bar-values")})})}var o=this;t.$on("refreshCoverage3",function(t,r){var n="ALL"==r.antigen?"Antigens":r.antigen,i=r.startYear==r.endYear?r.startYear:r.startYear+" - "+r.endYear;o.chartTitle=n+" Coverage for "+i,d3.selectAll(".nv-multibar .nv-group").each(function(t){d3.select(this).selectAll("text").remove()}),e.getVaccineDosesByPeriod(r).then(function(t){var e=t.reduce(function(t,e){var a=e.vaccine__name,r=e.period.toString().substr(0,4);return-1==o.yearIndexes.indexOf(r)&&o.yearIndexes.push(r),a in t||(t[a]={}),r in t[a]||(t[a][r]={totalActual:0,totalFirstDose:0,totalLastDose:0,totalPlanned:0,totalSecondDose:0}),t[a][r].totalActual+=e.total_actual,t[a][r].totalFirstDose+=e.total_first_dose,t[a][r].totalLastDose+=e.total_last_dose,t[a][r].totalPlanned+=e.total_planned,t[a][r].totalSecondDose+=e.total_second_dose,t},{}),r=[];for(var n in e){var i=[];for(var c in e[n]){var s=a.calculateCoverageRate(e[n][c].totalLastDose,e[n][c].totalPlanned),l=o.yearIndexes.indexOf(c);i.push({x:l,y:s})}r.push({key:n,values:i})}o.chartData=r})}),o.chartOptions={chart:{type:"multiBarChart",height:450,width:650,stacked:!1,showControls:!1,groupSpacing:.2,interactiveLayer:{gravity:"s"},x:function(t){return t.x},y:function(t){return t.y},forceY:[0,110],xAxis:{axisLabel:"Years",tickFormat:function(t){return o.yearIndexes[t]}},yAxis:{axisLabel:"Coverage Rate (%)",ticks:10},dispatch:{renderEnd:function(){i()}}}},o.chartData=[],o.yearIndexes=[],o.exportPDF=r.export,o.initLabels=i}window.angular.module("dashboard").controller("AnnualCoverageController",e),e.$inject=["$scope","CoverageService","CoverageCalculator","ChartPDFExport","$timeout"]}(),function(t){t.module("dashboard").controller("CoverageController",["$scope","$location","StockService","$rootScope","NgTableParams","FilterService","MonthService","CoverageService","MapSupportService",function(e,a,r,n,i,o,c,s,l){var d=this,u=e.$parent;u.child=e,d.path=a.path(),d.endtxt="",d.isLoading=!1,d.activeReportToggle="ACY",d.activeReportYear="CY",d.activeDistrict=void 0,d.sampleDistrictData={},e.isActive=function(t){return t===a.path()},e.updateReportToggle=function(t){d.activeReportToggle=t,d.activeReportYear=d.activeReportToggle.substr(1,2),d.updateMapWithVaccine(d.activeVaccine),setTimeout(function(){window.dispatchEvent(new Event("resize"))},3e3),u.child.chartTitle=d.getChartTitle(d.selectedAntigen)},e.isActiveReportToggle=function(t){return d.activeReportToggle==t},d.getVaccineDoses=function(t,e,a){u.child.hideMap=!0,u.child.mapPlaceholderMessage="Map loading. Please wait...",a="",d.district=a,d.vaccine=e,d.activeVaccine=e,"DPT"!=e&&"ALL"!=e||(d.activeVaccine="PENTA");var r,n=500,i=500;r="/coverage/redcategory"==d.path?function(t,e){return function(t){return 0==(t*=100)?"LightGray":1==t?"DarkGreen":2==t?"Yellow":3==t?"Orange":4==t?"Red":void 0}}:"/coverage/dropoutrate"==d.path?function(t,e){return function(t){return 0==(t*=100)?"LightGray":t>=0&&t<=10?"Green":t>=-10&&t<0||t>10&&t<=20?"Yellow":t<-10||t>20?"Red":void 0}}:function(t,e){return function(t){return 0==(t*=100)?"LightGray":t<50?"Red":t>=50&&t<90?"Yellow":t>=90?"DarkGreen":void 0}};var o=d3.scale.linear().domain([0,100]).interpolate(r);"/coverage/dropoutrate"==d.path?("drop_out_rate",d.endtxt="%"):"/coverage/coverage"==d.path&&("coverage_rate",d.endtxt="%"),"PENTA"==e?(d.vaccine="DPT3",d.vacdose="DPT1-DPT3"):"PCV"==e?(d.vaccine="PCV3",d.vacdose="PCV1-PCV3"):"BCG"==e?(d.vaccine="BCG",d.vacdose="BCG-MEASLES"):"OPV"==e?(d.vaccine="OPV3",d.vacdose="OPV0-OPV3"):"HPV"==e?(d.vaccine="HPV2",d.vacdose="HPV1-HPV2"):"MEASLES"==e?(d.vaccine="MEASLES",d.vacdose="BCG-MEASLES"):"TT"==e&&(d.vaccine="TT2",d.vacdose="TT1-TT2"),u.child.periodMonth=function(t){if(void 0==t)return"";var e=parseInt(t.slice(4,6));return c.getMonthName(e)+" "+t.slice(0,4)}(d.endMonth),u.child.thedose=d.vaccine,u.child.thevacdose=d.vacdose;d3.format(",");var g=d3.geo.mercator().scale(1),h=d3.geo.path().projection(g),p=d3.map(),f={endYear:t,dataType:"map"};s.getVaccineDosesByPeriod(f).then(function(t){var e=l.createDistrictDataMap(t);d.sampleDistrictData=e[Object.keys(e)[0]],p=d3.nest().key(function(t){return t.id}).rollup(function(t){return t[0]}).map(t),d3.json("static/app/components/coverage/data/ug_districts2.geojson",function(t,o){var c=function(t){var e=h.bounds(t),a=.95/Math.max((e[1][0]-e[0][0])/n,(e[1][1]-e[0][1])/i),r=d3.geo.bounds(t);return{scale:a,center:[(r[1][0]+r[0][0])/2,(r[1][1]+r[0][1])/2]}}(o);g.scale(c.scale).center(c.center).translate([n/2,i/2]);for(var s in e)for(var l=s.indexOf(" "),p=s.substring(0,l).toUpperCase(),f=0;f<o.features.length;f++){if(p==o.features[f].properties.dist){o.features[f].properties.field=e[s];break}}d3.select("#map").selectAll("*").remove();var v=d3.select("#map").append("svg").attr("width",n).attr("height",i);v.append("g").attr("class","features"),v.selectAll("path").data(o.features).enter().append("path").attr("d",h).on("mouseover",a).on("mouseout",r).style("cursor","pointer").style("stroke","#777"),d.updateMapWithVaccine(d.activeVaccine),u.child.hideMap=!1,u.child.$apply()});var a=function(t){var e=document.getElementById("tooltip");e.style.left=event.pageX+"px",e.style.top=event.pageY+"px",d3.select(this).style("fill","white"),d3.select("#tooltip").style("opacity",1),d3.select("#tooltip .name").text(t.properties.dist),d3.select("#tooltip .value").text(d3.format(".01f")(d.getDistrictValue(t))+d.endtxt)},r=function(t){d3.select(this).style("fill",d.getFillColor),d3.select("#tooltip").style("opacity",0)}}),d.drawLegend=function(t){d3.select("#gend").selectAll("*").remove();var e=d3.select("#gend").append("svg");e.append("g").attr("class","legendQuant").attr("transform","translate(20,20)");var a=d3.legend.color().labelFormat(d3.format(".2f")).shapeWidth(40).shapeHeight(20);if("/coverage/redcategory"==d.path){var r=function(t,e,a){return t+" ("+e+") ("+(e/a*100).toFixed()+"%)"},n=t.LightGray+t.DarkGreen+t.Yellow+t.Orange+t.Red;a.cells([0,1,2,3,4]).labels([r("No data",t.LightGray,n),r("CAT1",t.DarkGreen,n),r("CAT2",t.Yellow,n),r("CAT3",t.Orange,n),r("CAT4",t.Red,n)])}else"/coverage/dropoutrate"==d.path?a.cells([0,30,15,5]).labels(["No data ("+t.LightGray+")","<-10 & >20 ("+t.Red+")","(-10-0) & (10-20) ("+t.Yellow+")","0-10 ("+t.DarkGreen+")"]):a.cells(4).labels(["No data ("+t.LightGray+")","<50% ("+t.Red+")","50-89% ("+t.Yellow+")",">=90% ("+t.DarkGreen+")"]);a.scale(o),e.select(".legendQuant").call(a)},d.getMapTitle=function(t){var e="A"==d.activeReportToggle[0]?"Annualized":"Monthly",a=d.getLastMapPeriod(),r=appHelpers.generateFullLabelFromPeriod(a[0]+a[1]),n=void 0!=d.activeDose?d.activeDose:t,i="Coverage";return"/coverage/dropoutrate"==d.path?i="Dropout Rate":"/coverage/redcategory"==d.path&&(i="Red Categorization"),e+" "+i+" of "+n+" for "+r},d.updateMapWithVaccine=function(t){"DPT"!=t&&"ALL"!=t||(t="PENTA"),d.activeVaccine=t,u.child.mapTitle=d.getMapTitle(t),colorCounts={Red:0,Yellow:0,DarkGreen:0,LightGray:0,Orange:0};d3.select("#map svg").selectAll("path").style("fill",d.getFillColor),setTimeout(function(){d.drawLegend(colorCounts)},10)},d.getFillColor=function(t){var e=d.getDistrictValue(t),a=o(e);return a?(a in colorCounts&&(colorCounts[a]+=1),a):"LightGray"},d.getLastMapPeriod=function(){var e=d.sampleDistrictData[d.activeVaccine],a=l.getPeriodList(e,t,d.activeReportToggle);return a[a.length-1]},d.getDistrictValue=function(e){var a=e.properties.field;if(void 0==a||!(d.activeVaccine in a))return colorCounts.LightGray+=1,"LightGray";var r=a[d.activeVaccine],n=l.getPeriodList(r,t,d.activeReportToggle);return"/coverage/coverage"==d.path?l.calculateCoverageRate(r,n,d.getActiveDoseNumber()):"/coverage/dropoutrate"==d.path?l.calculateDropoutRate(r,n):"/coverage/redcategory"==d.path?l.calculateRedCategoryValue(r,n):void 0}},d.getRedVaccineDoses=function(e,a,r){r="",d.district=r,d.vaccine=a;var n=500,o=500,c="Red_category";u.child.district=d.district,u.child.vaccine=d.vaccine;var l=d3.format(","),g=d3.geo.mercator().scale(1),h=d3.geo.path().projection(g),p=d3.map(),f=d3.scale.quantize().range(["#008000","#FFFF00","#FFA500","#FF0000"]);s.getRedVaccineDoses(e,a).then(function(e){d.data=t.copy(e),f.domain([d3.min(e,function(t){return+t[c]}),d3.max(e,function(t){return+t[c]})]),p=d3.nest().key(function(t){return t.id}).rollup(function(t){return t[0]}).map(e);d3.select("#legend").attr("class","list-inline").selectAll("li.key").data(f.range()).enter().append("li").attr("class","key").style("border-top-color",String).text(function(t){return"#008000"==t?"CAT1":"#FFFF00"==t?"CAT2":"#FFA500"==t?"CAT3":"#FF0000"==t?"CAT4":void 0}),d3.json("static/app/components/coverage/data/ug_districts2.geojson",function(t,i){var s=function(t){var e=h.bounds(t),a=.95/Math.max((e[1][0]-e[0][0])/n,(e[1][1]-e[0][1])/o),r=d3.geo.bounds(t);return{scale:a,center:[(r[1][0]+r[0][0])/2,(r[1][1]+r[0][1])/2]}}(i);g.scale(s.scale).center(s.center).translate([n/2,o/2]);for(var l=0;l<e.length;l++)for(var d=e[l].district__name,u=d.indexOf(" "),p=d.substring(0,u).toUpperCase(),v=+e[l][c],m=0;m<i.features.length;m++){if(p==i.features[m].properties.dist){i.features[m].properties.field=v;break}}d3.select("#red").selectAll("*").remove();var y=d3.select("#red").append("svg").attr("width",n).attr("height",o);y.append("g").attr("class","features"),y.selectAll("path").data(i.features).enter().append("path").attr("d",h).on("mouseover",a).on("mouseout",r).style("cursor","pointer").style("stroke","#777").style("fill",function(t){var e=t.properties.field;return e?f(e):"#ccc"})});var a=function(t){var e=document.getElementById("tooltip");e.style.left=event.pageX+"px",e.style.top=event.pageY+"px",d3.select(this).style("fill","white"),d3.select("#tooltip").style("opacity",1),d3.select("#tooltip .name").text(t.properties.dist),t.properties.field?d3.select("#tooltip .value").text("CAT"+l(t.properties.field)):d3.select("#tooltip .value").text("No Data")},r=function(t){d3.select(this).style("fill",function(t){var e=t.properties.field;return e?f(e):"#ccc"}),d3.select("#tooltip").style("opacity",0)};tabledataAlldoses=d.data.filter(function(t){return t}),d.tableParamsDoses=new i({page:1,count:10},{filterDelay:0,counts:[],data:tabledataAlldoses})})},d.getVaccineDosesByDistrict=function(e,a,r){s.getVaccineDosesByDistrict(e,a,r).then(function(e){d.data=t.copy(e),u.child.dropedout=0,d.data.length>0&&(u.child.dropedout=d.data[0].drop_out_rate,u.child.underimmunized=d.data[0].under_immunized,d.data[0].access>=90?u.child.access="Good":u.child.access="Poor",u.child.dropedout<=10?u.child.utilization="Good":u.child.utilization="Poor",d.data[0].access>=90&&d.data[0].drop_out_rate<=10?u.redcategory="CAT1":d.data[0].access>=90&&d.data[0].drop_out_rate>10?u.redcategory="CAT2":d.data[0].access<90&&d.data[0].drop_out_rate<=10?u.redcategory="CAT3":d.data[0].access<90&&d.data[0].drop_out_rate>10&&(u.redcategory="CAT4"))})},d.getActiveDoseNumber=function(){return void 0!=d.activeDose?Number(d.activeDose.substr(d.activeDose.length-1,1)):0},d.computeRate=function(t,e){if("/coverage/coverage"==d.path){var a=d.getActiveDoseNumber(),r=t.last;return 1==a?r=t.first:2==a?r=t.second:3==a&&(r=t.third),r/e*100}if("/coverage/dropoutrate"==d.path)return(t.first-t.last)/t.first*100;if("/coverage/redcategory"==d.path){var n=t.first/e*100,i=(t.first-t.last)/t.first*100;return n>=90&&i>=0&&i<=10?1:n>=90&&(i<0||i>10)?2:n<90&&i>=0&&i<=10?3:n<90&&(i<0||i>10)?4:0}},d.getChartData=function(t,e,a,r){var n,i={},o={},c={},s={};for(var l in e){var u=e[l].period,g=e[l].total_last_dose,h=e[l].total_first_dose,p=e[l].total_second_dose,f=e[l].total_third_dose,v=e[l].total_planned,m=e[l].vaccine__name,y=e[l].district__name,D=appHelpers.getMonthFromPeriod(u,a),b=appHelpers.getYearFromPeriod(u,a),F=appHelpers.getYearLabelFromPeriod(u,a),_=appHelpers.getMonthIndexFromPeriod(u,a);if(!("CY"==a&&b>t.endYear)&&!("FY"==a&&b==t.startYear&&D<=6)){if(F in i||(i[F]={},o[F]={},c[F]={},s[F]={}),m in i[F]||(i[F][m]=[],o[F][m]={},c[F][m]={first_dose:0,second_dose:0,third_dose:0,last_dose:0,planned:0},s[F][m]={}),void 0==y||y in s[F][m]||(s[F][m][y]={first_dose:0,last_dose:0,planned:0}),r){if("/coverage/redcategory"==d.path){var C=s[F][m][y].first_dose+h,A=s[F][m][y].last_dose+g,k=s[F][m][y].planned+v;s[F][m][y].first_dose=C,s[F][m][y].last_dose=A,s[F][m][y].planned=k}else{var C=c[F][m].first_dose+h,A=c[F][m].last_dose+g,x=c[F][m].second_dose+p,w=c[F][m].third_dose+f,k=c[F][m].planned+v;c[F][m].first_dose=C,c[F][m].last_dose=A,c[F][m].second_dose=x,c[F][m].third_dose=w,c[F][m].planned=k}n=d.computeRate({first:C,second:x,third:w,last:A},k)}else n=d.computeRate({first:h,second:p,third:f,last:g},v);if("/coverage/redcategory"==d.path){var M=n;_ in o[F][m]||(o[F][m][_]={}),M in o[F][m][_]||(o[F][m][_][M]=[]),o[F][m][_][M].push(y)}else i[F][m].push({x:_,y:d3.format(".01f")(n)})}}var P=[];if("/coverage/redcategory"==d.path){var S=function(t,e,a){return{x:Number(t),y:d3.format(".01f")(e/a*100)}},Y=function(t,e){return t in e?e[t].length:0},L={1:[],2:[],3:[],4:[]};for(var F in o)for(var m in o[F])for(var _ in o[F][m]){var V=o[F][m][_],T=Y(1,V),Q=Y(2,V),N=Y(3,V),R=Y(4,V),$=T+Q+N+R;L[1].push(S(_,T,$)),L[2].push(S(_,Q,$)),L[3].push(S(_,N,$)),L[4].push(S(_,R,$))}P.push({key:"CAT1",color:"DarkGreen",values:d.fillMissingValues(L[1])}),P.push({key:"CAT2",color:"Yellow",values:d.fillMissingValues(L[2])}),P.push({key:"CAT3",color:"Orange",values:d.fillMissingValues(L[3])}),P.push({key:"CAT4",color:"Red",values:d.fillMissingValues(L[4])})}else for(var F in i)for(var m in i[F]){var I=m,B=d.fillMissingValues(i[F][m]);P.push({key:I,values:B})}return P},d.fillMissingValues=function(t){var e=_.range(1,13),a=t.map(function(t){return t.x});return e.filter(function(t){return a.indexOf(t)<0}).forEach(function(e){t.push({x:e,y:0})}),t.sort(function(t,e){return t.x-e.x})},d.getChartOptions=function(t){return{chart:{type:"lineChart",height:450,width:450,useInteractiveGuideline:!0,interactiveLayer:{gravity:"s"},x:function(t){return t.x},y:function(t){return t.y},forceY:[-10,150],dispatch:{stateChange:function(t){console.log("stateChange")},changeState:function(t){console.log("changeState")},tooltipShow:function(t){console.log("tooltipShow")},tooltipHide:function(t){console.log("tooltipHide")}},xAxis:{axisLabel:"Months",tickFormat:function(e){return appHelpers.getMonthFromNumber(e,t)}},yAxis:{axisLabel:"Percentage (%)"},callback:function(t){}}}},d.getChartTitle=function(t){var e="A"==d.activeReportToggle[0]?"Annualized":"Monthly",a=void 0!=d.activeDose?d.activeDose:t;a="ALL"==t?"antigens":a;var r="CY"==d.activeReportYear?"Calendar Year":"Financial year",n=void 0;return n="/coverage/dropoutrate"==d.path?"Dropout Rate":"/coverage/redcategory"==d.path?"Red Categorization":"Coverage","Trend of "+e+" "+n+" of "+a+" for "+d.activeCoverageYear+" "+r},d.getVaccineDosesByPeriod=function(t){s.getVaccineDosesByPeriod(t).then(function(a){e.optionsMCY=d.getChartOptions("CY"),e.optionsACY=d.getChartOptions("CY"),e.optionsMFY=d.getChartOptions("FY"),e.optionsAFY=d.getChartOptions("FY"),e.dataMCY=d.getChartData(t,a,"CY",!1),e.dataACY=d.getChartData(t,a,"CY",!0),e.dataMFY=d.getChartData(t,a,"FY",!1),e.dataAFY=d.getChartData(t,a,"FY",!0),u.child.chartTitle=d.getChartTitle(d.selectedAntigen)})},d.enablePDFDownload=function(){u.child.downloadPDF=function(){d3.selectAll("svg .nv-line").style("fill","#ffffff").style("fill-opacity",0),d3.selectAll(".nvd3 .nv-background").style("fill","#ffffff").style("fill-opacity",0),d3.selectAll(".nvd3 .nv-axis line").style("stroke","#e5e5e5"),d3.selectAll(".nvd3 text").style("font","normal 13px Arial, sans-serif"),d3.selectAll(".nvd3 .nv-groups .nv-point").style("fill-opacity",0).style("stroke-width","0px"),d3.selectAll(".nvd3 .nv-axis .zero line").style("stroke","#404040"),d3.selectAll(".nv-y .nv-axis g path.domain").style("stroke","#404040"),d3.selectAll(".legendQuant .label").style("font","normal 12px Arial, sans-serif");var t=new jsPDF("l","mm");t.addHTML(document.getElementById("pdfReport"),0,0,{format:"PNG"},function(){t.save("coverage-report.pdf")})}},e.$on("refreshCoverage2",function(t,e,a,r,n,i,o,c){if("vm"in t.currentScope){d.activeDistrict=c,d.activeDose=o,d.activeStartYear=a,d.activeEndYear=r,d.selectedAntigen=i,d.activeCoverageYear=n;var s=0;"/coverage/redcategory"==d.path&&(s=1),d.enablePDFDownload(),d.getVaccineDosesByDistrict(e.period,c,i),d.getVaccineDosesByPeriod({startYear:n,endYear:n,antigen:i,dose:o,district:c,enableDistrictGrouping:s}),n!=d.lastEndYear?d.getVaccineDoses(n,i,c):d.updateMapWithVaccine(i),d.lastEndYear=n}})}]).directive("reportYearToggles",function(){return{templateUrl:"static/app/components/coverage/report-year-toggles.html"}})}(window.angular),function(t){t.module("dashboard").controller("FridgeController",["$scope","FridgeService","$rootScope","NgTableParams","FilterService",function(e,a,r,n,i){var o=this,c=e.$parent;c.child=e,o.getFridgeAllDistrictCapacity=function(e,r,i,s){o.startQuarter=o.startQuarter?o.startQuarter:"201601",o.endQuarter=o.endQuarter?o.endQuarter:"201604",i="",o.carelevel=s,a.getFridgeDistrictCapacity(e,r,i,s).then(function(e){o.data=t.copy(e),tabledataAlldistricts=o.data.filter(function(t){return t}),o.tableParamsCapacityAlldistricts=new n({page:1,count:10},{filterDelay:0,counts:[],data:tabledataAlldistricts});var r=a.getFridgeCapacityMetrics(o.data);c.child.usurp=r.surplus,c.child.usufficient=r.sufficient,c.child.ushortage=r.shortage})},o.getFridgeDistrictCapacity=function(e,r,n,i){o.startQuarter&&o.startQuarter,o.endQuarter=o.endQuarter?o.endQuarter:"201604",district="",o.fridgeDistrict=n,o.carelevel=i,a.getFridgeDistrictCapacity(e,r,n,i).then(function(e){o.data=t.copy(e),c.child.fridgeDistrict=district;var a=[],r=[],n=[],i=[];c.child.available=0;for(var s=0;s<o.data.length;s++)r.push([o.data[s].quarter.slice(0,4)+"-Q"+o.data[s].quarter.slice(5,6),o.data[s].required]),n.push([o.data[s].quarter.slice(0,4)+"-Q"+o.data[s].quarter.slice(5,6),o.data[s].available]),i.push([o.data[s].quarter.slice(0,4)+"-Q"+o.data[s].quarter.slice(5,6),o.data[s].gap]),o.data[s].quarter&&(c.child.available=o.data[s].available);a.push({key:"Required",values:r,color:"#2A448A"}),a.push({key:"Available",values:n,color:"green"}),o.graph=a,o.options={chart:{type:"multiBarChart",height:450,margin:{top:20,right:20,bottom:45,left:45},clipEdge:!0,stacked:!0,x:function(t){return t[0]},y:function(t){return t[1]},showValues:!0,showYAxis:!1}}})},o.getFridgeFacilityCapacity=function(e,r,i,s){o.startQuarter&&o.startQuarter,o.endQuarter=o.endQuarter?o.endQuarter:"201604",district="",o.district=i,o.carelevel=s,a.getFridgeFacilityCapacity(e,r,i,s).then(function(e){o.data=t.copy(e),o.tableParams_f=new n({page:1,count:15},{filterDelay:0,counts:[],data:o.data}),c.child.fridgeDistrict=o.fridgeDistrict,c.child.carelevel=o.carelevel;var r=a.getFridgeCapacityMetrics(o.data);c.child.utsurp=r.surplus/r.total*100,c.child.utsufficient=r.sufficient/r.total*100,c.child.utshortage=r.shortage/r.total*100})},o.getFridgeAllDistrictRefrigerator=function(e,r,i,c){o.startQuarter=o.startQuarter?o.startQuarter:"201601",o.endQuarter=o.endQuarter?o.endQuarter:"201604",i="",o.fridgeDistrict=i,o.carelevel=c,a.getFridgeDistrictRefrigerator(e,r,i,c).then(function(e){o.data=t.copy(e),tabledataAlldistricts=o.data.filter(function(t){return t}),o.tableParamsFunctionalityAlldistricts=new n({page:1,count:10},{filterDelay:0,counts:[],data:tabledataAlldistricts})})},o.getFridgeDistrictRefrigerator=function(e,r,i,s){o.startQuarter=o.startQuarter?o.startQuarter:"201601",o.endQuarter=o.endQuarter?o.endQuarter:"201604",district="",o.carelevel=s,a.getFridgeDistrictRefrigerator(e,r,i,s).then(function(e){o.data=t.copy(e),tabledataAlldistricts=o.data.filter(function(t){return t}),o.tableParamsAlldistricts=new n({page:1,count:10},{filterDelay:0,counts:[],data:tabledataAlldistricts}),o.tableParams_d=new n({page:1,count:15},{filterDelay:0,counts:[],data:o.data});var a=[],r=[],i=[],s=[];c.child.functionality=0,c.child.fridgeDistrict=district;for(var l=0;l<o.data.length;l++)r.push([o.data[l].quarter.slice(0,4)+"-Q"+o.data[l].quarter.slice(5,6),o.data[l].number_existing]),i.push([o.data[l].quarter.slice(0,4)+"-Q"+o.data[l].quarter.slice(5,6),o.data[l].not_working]),s.push([o.data[l].quarter.slice(0,4)+"-Q"+o.data[l].quarter.slice(5,6),o.data[l].needs_maintenance]),o.data[l].quarter&&(c.child.functionality=(o.data[l].number_existing-o.data[l].not_working)/o.data[l].number_existing*100);a.push({key:"Existing",values:r,color:"green"}),a.push({key:"Not Working",values:i,color:"#2A448A"}),a.push({key:"Needs maintenance",values:s,color:"red"}),o.graphfunctionality=a,o.optionsfunctionality={chart:{type:"multiBarChart",height:450,margin:{top:20,right:20,bottom:45,left:45},showControls:!1,clipEdge:!0,stacked:!0,x:function(t){return t[0]},y:function(t){return t[1]},showValues:!0,showYAxis:!1}}})},o.getFridgeFacilityRefrigerator=function(e,r,i,s){o.startQuarter&&o.startQuarter,o.endQuarter=o.endQuarter?o.endQuarter:"201604",district="",o.district=i,o.carelevel=s,a.getFridgeFacilityRefrigerator(e,r,i,s).then(function(e){o.data=t.copy(e),tabledataAllfacilities=o.data.filter(function(t){return t}),o.tableParamsAllfacilities=new n({page:1,count:10},{filterDelay:0,counts:[],data:tabledataAllfacilities}),o.tableParams_f=new n({page:1,count:15},{filterDelay:0,counts:[],data:o.data}),c.child.fridgeDistrict=o.fridgeDistrict,c.child.carelevel=o.carelevel})},o.getFridgeAllDistrictImmunizingFacility=function(e,r,i,c){o.startQuarter=o.startQuarter?o.startQuarter:"201601",o.endQuarter=o.endQuarter?o.endQuarter:"201604",i="",o.carelevel=c,a.getFridgeDistrictImmunizingFacility(e,r,i,c).then(function(e){o.data=t.copy(e),allData=tabledataAlldistricts=o.data.filter(function(t){return t}),o.tableParamsImmunizingAlldistricts=new n({page:1,count:10},{filterDelay:0,counts:[],data:tabledataAlldistricts})})},o.getFridgeDistrictImmunizingFacility=function(e,r,i,s){o.startQuarter&&o.startQuarter,o.endQuarter=r.name,district="",o.district=i,o.carelevel=s,a.getFridgeDistrictImmunizingFacility(e,r,i,s).then(function(e){o.data=t.copy(e),tabledataAllfridge=o.data.filter(function(t){return t}),o.tableParamsAllfridge=new n({page:1,count:10},{filterDelay:0,counts:[],data:tabledataAllfridge}),o.tableParams_d=new n({page:1,count:15},{filterDelay:0,counts:[],data:o.data}),c.child.fridgeDistrict=district,c.child.quarter=r.name-2;for(var a=0;a<o.data.length;a++){var i=o.data[a].immunizing,s=o.data[a].Total_facilities-o.data[a].immunizing;c.child.facility=o.data[a].immunizing}o.optionsimmunizing={chart:{type:"pieChart",height:500,width:500,x:function(t){return t.key},y:function(t){return t.y},showLabels:!0,duration:500,labelThreshold:.01,labelSunbeamLayout:!0,legend:{margin:{top:5,right:35,bottom:5,left:0}}}},o.graphimmunizing=[{key:"Immunizing",y:i,color:"green"},{key:"Not Immunizing",y:s,color:"#2A448A"}]})},e.$on("refreshCapacity",function(t,e,a,r,n){e&&a&&r.district&&(o.getFridgeDistrictRefrigerator(e,a,r.district,n.group),o.getFridgeAllDistrictRefrigerator(e,a,r.district,n.group),o.getFridgeFacilityRefrigerator(e,a,r.district,n.group),o.getFridgeAllDistrictImmunizingFacility(e,a,r.district,n.group),o.getFridgeDistrictImmunizingFacility(e,a,r.district,n.group),o.getFridgeAllDistrictCapacity(e,a,r.district,n.group),o.getFridgeDistrictCapacity(e,a,r.district,n.group),o.getFridgeFacilityCapacity(e,a,r.district,n.group))})}])}(window.angular),function(t){t.module("dashboard").controller("PlanningController",["$scope","AnnualService","$rootScope","NgTableParams","FilterService",function(e,a,r,n,i){var o=this;e.$parent.child=e,o.getFundActivities=function(e){e="",o.year=e,a.getFundActivities(e).then(function(e){var a=[],r=[];o.data=t.copy(e),a=o.data.filter(function(t){return 1==t.fund}),r=o.data.filter(function(t){return 0==t.fund}),tabledatafund=o.data.filter(function(t){return t}),o.tableParamsfunded=new n({page:1,count:15},{filterDelay:0,counts:[],data:tabledatafund});for(var i=0,c=0,s=0;s<o.data.length;s++)1==o.data[s].fund?i++:0==o.data[s].fund&&c++;o.fundactivity={chart:{type:"pieChart",height:500,width:500,x:function(t){return t.key},y:function(t){return t.y},showLabels:!0,duration:500,labelThreshold:.01,labelSunbeamLayout:!0,legend:{margin:{top:5,right:35,bottom:5,left:0}}}},i==o.data.length?o.graphfundedactivities=[]:(o.tableParams_funded=new n({page:1,count:15},{filterDelay:0,counts:[],data:a}),o.tableParams_unfunded=new n({page:1,count:15},{filterDelay:0,counts:[],data:r}),o.graphfundedactivities=[{key:"Funded",y:i/o.data.length*100,color:"green"},{key:"Unfunded Activities",y:c/o.data.length*100,color:"red"}])})},o.getPriorityActivities=function(e){e="",o.year=e,a.getPriorityActivities(e).then(function(e){var a=[],r=[];o.data=t.copy(e),a=o.data.filter(function(t){return 1==t.fund}),r=o.data.filter(function(t){return 0==t.fund}),funded==o.data.length?o.graphfundedactivities=[]:(o.tableParams_priorityfund=new n({page:1,count:15},{filterDelay:0,counts:[],data:a}),o.tableParams_priorityunfunded=new n({page:1,count:15},{filterDelay:0,counts:[],data:r}));for(var i=[],c=[],s=[],l=[],d=[],u=[],g=[],h=[],p=0;p<o.data.length;p++)1==o.data[p].fund?(s.push([o.data[p].area,o.data[p].High]),l.push([o.data[p].area,o.data[p].Medium]),d.push([o.data[p].area,o.data[p].Low])):(u.push([o.data[p].area,o.data[p].High]),g.push([o.data[p].area,o.data[p].Medium]),h.push([o.data[p].area,o.data[p].Low]));i.push({key:"HIGH",values:s,color:"#2A448A"}),i.push({key:"MEDIUM",values:l,color:"green"}),i.push({key:"LOW",values:d,color:"yellow"}),o.prioritygraph=i,o.priorityoptions={chart:{type:"multiBarChart",height:450,width:500,clipEdge:!0,stacked:!0,x:function(t){return t[0]},y:function(t){return t[1]},showValues:!0,showYAxis:!0,showXAxis:!0,rotateLabels:55}},c.push({key:"HIGH",values:u,color:"#2A448A"}),c.push({key:"MEDIUM",values:g,color:"green"}),c.push({key:"LOW",values:h,color:"yellow"}),o.prioritygraphun=c,o.priorityoptionsun={chart:{type:"multiBarChart",height:450,width:500,clipEdge:!0,stacked:!0,x:function(t){return t[0]},y:function(t){return t[1]},showValues:!0,showYAxis:!0,showXAxis:!0,rotateLabels:55}}})},e.$on("refreshAwp",function(t,e){e.year&&(o.getFundActivities(e.year),o.getPriorityActivities(e.year))})}])}(window.angular),function(t){t.module("dashboard").controller("StockController",["$scope","StockService","$rootScope","NgTableParams","FilterService","MonthService","$location","ChartSupportService","ChartPDFExport","$timeout",function(e,a,r,n,i,o,c,s,l,d){var u=this,g=e.$parent;g.child=e,u.exportPDF=l.export,g.child.isActive=function(t){return t===c.path()},u.SortByKey=function(t,e){return t.sort(function(t,a){var r=t[e],n=a[e];return r<n?-1:r>n?1:0})},u.getStockByDistrict=function(e,r,i,c){u.startMonth&&u.startMonth,u.endMonth=u.endMonth?u.endMonth:"",i="",u.district="",u.vaccine=u.selectedVaccine?u.selectedVaccine.name:"",a.getStockByDistrict(e,r,i,c).then(function(e){var a=[],i=[],s=[],l=[],d=[];u.data=t.copy(e),a=u.data.filter(function(t){return 0==t.at_hand}),l=u.data.filter(function(t){return t.at_hand>t.stock_requirement__maximum}),s=u.data.filter(function(t){return t.at_hand>t.stock_requirement__minimum&&t.at_hand<t.stock_requirement__maximum}),i=u.data.filter(function(t){return t.at_hand<t.stock_requirement__minimum&&t.at_hand>0}),d=u.data.filter(function(t){return t}),tabledataAlldistricts=u.data.filter(function(t){return t}),u.tableParamsAlldistricts=new n({page:1,count:10},{filterDelay:0,counts:[],data:tabledataAlldistricts});for(var h=0,p=0,f=0,v=0,m="",y=0;y<u.data.length;y++)0==u.data[y].at_hand?(h++,m="Stocked Out"):u.data[y].at_hand>u.data[y].stock_requirement__minimum&&u.data[y].at_hand<u.data[y].stock_requirement__maximum?(p++,m="Within Range"):u.data[y].at_hand<u.data[y].stock_requirement__minimum&&u.data[y].at_hand>0?(f++,m="Below MIN"):u.data[y].at_hand>u.data[y].stock_requirement__maximum&&(v++,m="Above MAX"),u.data[y].status=m;g.child.stockedout=h/u.data.length*100;var D=new Date(o.monthToDate(r));D.setMonth(D.getMonth()-1),g.child.themonth=D,g.child.vaccine=c,u.options={chart:{type:"pieChart",height:500,width:500,x:function(t){return t.key},y:function(t){return t.y},showLabels:!0,duration:500,labelThreshold:.01,labelSunbeamLayout:!0,legend:{margin:{top:5,right:35,bottom:5,left:0}}}},h==u.data.length?u.graph=[]:(u.tableParams_so=new n({page:1,count:10},{filterDelay:0,counts:[],data:a}),u.tableParams_bm=new n({page:1,count:10},{filterDelay:0,counts:[],data:i}),u.tableParams_wr=new n({page:1,count:10},{filterDelay:0,counts:[],data:s}),u.tableParams_am=new n({page:1,count:10},{filterDelay:0,counts:[],data:l}),u.tableParams_search=new n({page:1,count:10},{filterDelay:0,counts:[],data:d}),u.graph=[{key:"Stocked Out",y:h/u.data.length*100,color:"#FF0000"},{key:"Within Range",y:p/u.data.length*100,color:"#FFFF00"},{key:"Below MIN",y:f/u.data.length*100,color:"#FFA500"},{key:"Above MAX",y:v/u.data.length*100,color:"#008000"}])})},u.getStockByDistrictVaccine=function(e,r,i,c){u.startMonth&&u.startMonth,u.endMonth=u.endMonth?u.endMonth:"Dec 2016",u.district=i,u.vaccine=c,a.getStockByDistrictVaccine(e,r,i,c).then(function(e){u.data=t.copy(e),u.tableParams=new n({page:1,count:15},{filterDelay:0,counts:[],data:u.data}),g.child.district=u.district,g.child.vaccine=u.vaccine;var a=[],i=[],c=[],s=[],l=[];g.child.refreshrate=0;for(f=0;f<u.data.length;f++)i.push([u.data[f].month,parseInt(u.data[f].received)]),c.push([u.data[f].month,u.data[f].ordered]),s.push([u.data[f].month,u.data[f].stock_requirement__minimum]),l.push([u.data[f].month,u.data[f].stock_requirement__maximum]),u.data[f].month==o.getMonthNumber(r.split(" ")[0])&&(g.child.refreshrate=0==u.data[f].ordered?0:u.data[f].received/u.data[f].ordered*100);a.push({key:"Min",values:s,color:"#A5E816"}),a.push({key:"Issued",values:i,color:"#1F77B4"}),a.push({key:"Ordered",values:c,color:"red"}),a.push({key:"Max",values:l,color:"#FF7F0E"}),u.graphDistribution=a,u.optionsDistribution={chart:{type:"lineChart",height:500,width:500,title:{enable:!0,text:"Abim"},showLegend:!0,stacked:!0,showControls:!0,margin:{top:20,right:20,bottom:85,left:65},forceY:[0,100],staggerLabels:!0,x:function(t){return t[0]},y:function(t){return t[1]},xAxis:{axisLabel:"Months",tickFormat:function(t){return o.getMonthName(t)},axisLabelDistance:10},useInteractiveGuideline:!0,dispatch:{stateChange:function(t){console.log("stateChange")},changeState:function(t){console.log("changeState")},tooltipShow:function(t){console.log("tooltipShow")},tooltipHide:function(t){console.log("tooltipHide")}},showValues:!0,valueFormat:function(t){return tickFormat(d3.format(",.1f"))},transitionDuration:500}};var d=[],h=[],p=[];g.child.coverage=0;for(var f=0;f<u.data.length;f++)h.push([u.data[f].month,u.data[f].consumed]),p.push([u.data[f].month,u.data[f].stock_requirement__target]),u.data[f].month==o.getMonthNumber(r.split(" ")[0])&&(g.child.coverage=0==u.data[f].stock_requirement__target?0:u.data[f].consumed/u.data[f].stock_requirement__target*100);d.push({key:"Actual Consumption",values:h}),d.push({key:"Planned consumption",values:p,color:"#FF7F0E"}),u.graphConsumption=d,u.optionsConsumption={chart:{type:"lineChart",height:500,width:500,title:{enable:!0,text:"Abim"},showLegend:!0,stacked:!0,showControls:!0,margin:{top:20,right:20,bottom:85,left:65},forceY:[0,100],staggerLabels:!0,x:function(t){return t[0]},y:function(t){return t[1]},xAxis:{axisLabel:"Months",tickFormat:function(t){return o.getMonthName(t)},axisLabelDistance:10},useInteractiveGuideline:!0,dispatch:{stateChange:function(t){console.log("stateChange")},changeState:function(t){console.log("changeState")},tooltipShow:function(t){console.log("tooltipShow")},tooltipHide:function(t){console.log("tooltipHide")}},showValues:!0,valueFormat:function(t){return tickFormat(d3.format(",.1f"))},transitionDuration:500}}})},e.$on("refresh",function(t,e,a,r,n){e.name&&a.name&&r.name&&n.name&&(u.getStockByDistrict(e.name,a.name,r.name,n.name),u.getStockByDistrictVaccine(e.name,a.name,r.name,n.name))})}])}(window.angular),function(t){"use strict";function e(e,a,r,n,i,o){function c(){n.clearLabels(),o(function(){n.initLabels(),d3.selectAll(".nv-multibar g").attr("clip-path","")},1e3)}var s=this,l=e.$parent;l.child=e,l.child.uptake=0,s.exportPDF=i.export,s.optionsUptake=function(){var t=n.getOptions("multiChart");return t.chart.color=["green","DodgerBlue","red","white"],t.chart.width=900,t.chart.margin={left:70,top:70},t.chart.legend.width=900,t.chart.xAxis.axisLabel="Months",t.chart.yAxis.axisLabel="",t.chart.xAxis.tickFormat=function(t){return appHelpers.getMonthFromNumber(t,"CY")},t.chart.valueFormat=function(t){return tickFormat(d3.format(".0f"))},t.chart.legend.dispatch.stateChange=function(){c()},t}(),e.$on("refresh",function(e,n,i,o,d){a.getStockByDistrictVaccine(n.name,i.name,o.name,d.name).then(function(e){s.data=t.copy(e);var a=[],n=[],o=[],d=[],u=[],g=0;l.child.uptake="0";for(var h=0;h<s.data.length;h++){var p=s.data[h];if(5!=p.period.toString().length){var f=appHelpers.getMonthIndexFromPeriod(p.period,"CY"),v=void 0==p.at_hand?p.total_at_hand:p.at_hand,m=void 0==p.received?p.total_received:p.received,y=void 0==p.consumed?p.total_consumed:p.consumed,D=void 0==p.stock_requirement__target?p.total_target:p.stock_requirement__target,b=v+m;g=Math.max(g,Number(D.toFixed(0))),n.push({x:f,y:Number(b.toFixed(0))}),o.push({x:f,y:Number(y.toFixed(0))}),d.push({x:f,y:Number(D.toFixed(0))}),u.push({x:f,y:0}),s.data[h].month==r.getMonthNumber(i.name.split(" ")[0])&&(l.child.uptake=0==m&&0==v?0:Math.round(y/b*100))}}a.push({key:"Available Stock",type:"bar",yAxis:1,values:n}),a.push({key:"Children Immunised",type:"bar",yAxis:1,values:o}),a.push({key:"Monthly Targets",type:"line",yAxis:1,values:d}),a.push({key:"",type:"line",yAxis:1,strokeWidth:0,values:u}),s.graphUptake=a,s.maxMonthlyTarget=g,c()})})}t.module("dashboard").controller("StockUptakeController",e),e.$inject=["$scope","StockService","MonthService","ChartSupportService","ChartPDFExport","$timeout"]}(window.angular),function(t){function e(e,a,r,n,i,o){var c=this;c.exportPDF=i.export,c.graphOptions=function(){var t=n.getOptions("multiBarChart");return t.chart.color=["green","DodgerBlue"],t.chart.width=900,t.chart.margin={left:70,top:70},t.chart.legend.width=900,t.chart.xAxis.axisLabel="Months",t.chart.yAxis.axisLabel="",t.chart.xAxis.tickFormat=function(t){return appHelpers.getMonthFromNumber(t,"CY")},t.chart.valueFormat=function(t){return tickFormat(d3.format(".0f"))},t}(),c.graphData=[],e.$on("refresh",function(e,r,n,i,o){a.getStockByDistrictVaccine(r.name,n.name,i.name,o.name).then(function(e){c.data=t.copy(e);for(var a=[],r=[],n=[],i=0;i<c.data.length;i++){var o=c.data[i];if(5!=o.period.toString().length){var s=appHelpers.getMonthIndexFromPeriod(o.period,"CY"),l=void 0==o.at_hand?o.total_at_hand:o.at_hand,d=void 0==o.received?o.total_received:o.received;r.push({x:s,y:Number(l.toFixed(0))}),n.push({x:s,y:Number(d.toFixed(0))})}}a.push({key:"Stock Balance",values:r}),a.push({key:"Supply By NMS",values:n}),c.graphData=a})})}t.module("dashboard").controller("StockoutTrendController",e),e.$inject=["$scope","StockService","MonthService","ChartSupportService","ChartPDFExport","$timeout"]}(window.angular),function(t){t.module("dashboard").controller("UnepiController",["$scope","CoverageService","StockService","MonthService","$rootScope","NgTableParams","FilterService","FridgeService","CoverageCalculator","$timeout",function(e,a,r,n,i,o,c,s,l,d){var u=this,g=e.$parent;g.child=e,u.getUnepiCoverage=function(t,e,r){var i={period:t,district:e},c=function(t,e,a){return t.reduce(function(t,r){return r.vaccine__name==a?t+r[e]:t},0)};a.getVaccineDosesByPeriod(i).then(function(a){var r=[],i=0,s=0;g.child.district=e,g.child.Gap=0,g.child.dropout_Penta=0,g.child.dropout_hpv=0,g.child.category=0,g.child.periodMonth=function(t){var e=parseInt(t.slice(4,6));return n.getMonthName(e)+" "+t.slice(0,4)}(t);for(var d in a){var h=a[d].period,p=a[d].total_last_dose,f=a[d].total_first_dose,v=(a[d].total_second_dose,a[d].total_planned),m=a[d].vaccine__name;if(h==t){var y=c(a,"total_last_dose",m),D=c(a,"total_planned",m),b=l.calculateCoverageRate(p,v),F=l.calculateDropoutRate(f,p),_=l.calculateRedCategory(f,p,v),C=l.calculateCoverageRate(y,D);switch(r.push({vaccine:m,planned_consumption:v,coverage_rate:b,avoc:C}),m){case"PENTA":i=b,g.child.dropout_Penta=F,g.child.category=_;break;case"PCV":s=b;break;case"HPV":g.child.dropout_hpv=F}}}g.child.Gap=i-s;var A={filterDelay:0,counts:[],data:r};u.tableParamsDoses=new o({page:1,count:10},A)})},u.getUnepiNationalStock=function(t,e){r.getUnepiStock(t,e).then(function(t){var e=[],a=0,r=t.reduce(function(t,e){return e.vaccine in t||(t[e.vaccine]={at_hand:0,stock_requirement__minimum:0,received:0,ordered:0,consumed:0,available_stock:0}),t[e.vaccine].at_hand+=e.at_hand,t[e.vaccine].stock_requirement__minimum+=e.stock_requirement__minimum,t[e.vaccine].received+=e.received,t[e.vaccine].ordered+=e.ordered,t[e.vaccine].consumed+=e.consumed,t[e.vaccine].available_stock+=e.available_stock,t},{});for(var n in r){var i=r[n].at_hand,c=r[n].stock_requirement__minimum,s=r[n].ordered,l=r[n].received,d=r[n].consumed,h=i+l,p=Math.round(i/c);0==p&&a++,e.push({vaccine:n,Months_stock:p,Refill_rate:0==s?0:Math.round(l/s*100),uptake_rate:0==h?0:Math.round(d/h*100)})}g.child.Antigen_stockedout=a;var f={filterDelay:0,counts:[],data:e};u.tableParamsStock=new o({page:1,count:10},f)})},u.getUnepiStock=function(e,a){u.endMonth=u.endMonth?u.endMonth:"",r.getUnepiStock(e,a).then(function(e){var a=[];u.data=t.copy(e),a=u.data.filter(function(t){return t}),u.tableParamsStock=new o({page:1,count:10},{filterDelay:0,counts:[],data:a}),g.child.Antigen_stockedout=0;for(var r=0;r<u.data.length;r++)0==u.data[r].Months_stock&&g.child.Antigen_stockedout++})},u.parseDistrict=function(t){return t.replace(" District","").toUpperCase()},u.getUnepiColdChainCapacity=function(t,e){e=u.parseDistrict(e),s.getFridgeFacilityCapacity(void 0,t,e,void 0).then(function(t){var e=s.getFridgeCapacityMetrics(t);g.child.metrics=e,g.child.per=appHelpers.per})},u.getUnepiColdChainFunctionality=function(t,e){e=u.parseDistrict(e),s.getFridgeDistrictRefrigerator(void 0,t,e,void 0).then(function(t){var e=t.reduce(function(t,e){return t.totalEquipment+=e.number_existing,t.totalWorkingWell+=e.working_well,t.totalNotWorkingWell+=e.not_working,t.totalNeedMaintenance+=e.needs_maintenance,t.totalFacilities+=e.total_facilities,t},{totalEquipment:0,totalFacilities:0,totalWorkingWell:0,totalNotWorkingWell:0,totalNeedMaintenance:0});g.child.numberOfColdchainEquipment=e.totalEquipment,g.child.numberOfFacilities=e.totalFacilities,g.child.numberWorkingWell=e.totalWorkingWell,g.child.numberNotWorkingWell=e.totalNotWorkingWell,g.child.numberNeedMaintenance=e.totalNeedMaintenance,g.child.per=appHelpers.per,g.child.numberWorking=e.totalEquipment-e.totalNotWorkingWell})},u.enablePDFDownload=function(){g.child.downloadPDF=function(){g.child.printView=!0,d(function(){var t=new jsPDF("p","mm");t.addHTML(document.getElementById("unepiReport"),function(){t.save("unepi-report.pdf")})},100),d(function(){g.child.printView=!1},1e3)}},e.$on("refresh",function(t,e,a,r,n){e.name&&a.name&&r.name&&n.name&&(u.getUnepiCoverage(a.period,r.name,n.name),"National"==r.name?u.getUnepiNationalStock(a.name,r.name,n.name):u.getUnepiStock(a.name,r.name,n.name),u.getUnepiColdChainCapacity(a.name,r.name),u.getUnepiColdChainFunctionality(a.name,r.name),u.enablePDFDownload())})}])}(window.angular);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi9oZWxwZXJzLmpzIiwic2hhcmVkL2FubnVhbFNlcnZpY2UuanMiLCJzaGFyZWQvY2hhcnRQREZFeHBvcnRTZXJ2aWNlLmpzIiwic2hhcmVkL2NoYXJ0U3VwcG9ydFNlcnZpY2UuanMiLCJzaGFyZWQvY292ZXJhZ2VDYWxjdWxhdG9yU2VydmljZS5qcyIsInNoYXJlZC9jb3ZlcmFnZVNlcnZpY2UuanMiLCJzaGFyZWQvZmlsdGVyU2VydmljZS5qcyIsInNoYXJlZC9mcmlkZ2VTZXJ2aWNlLmpzIiwic2hhcmVkL21haW5Db250cm9sbGVyLmpzIiwic2hhcmVkL21hcFN1cHBvcnRTZXJ2aWNlLmpzIiwic2hhcmVkL3N0b2NrU2VydmljZS5qcyIsImNvbXBvbmVudHMvY292ZXJhZ2UvYW5udWFsQ292ZXJhZ2VDb250cm9sbGVyLmpzIiwiY29tcG9uZW50cy9jb3ZlcmFnZS9jb3ZlcmFnZUNvbnRyb2xsZXIuanMiLCJjb21wb25lbnRzL2ZyaWRnZS9mcmlkZ2VDb250cm9sbGVyLmpzIiwiY29tcG9uZW50cy9wbGFubmluZy9QbGFubmluZ0NvbnRyb2xsZXIuanMiLCJjb21wb25lbnRzL3N0b2NrL3N0b2NrQ29udHJvbGxlci5qcyIsImNvbXBvbmVudHMvc3RvY2svc3RvY2tVcHRha2VDb250cm9sbGVyLmpzIiwiY29tcG9uZW50cy9zdG9jay9zdG9ja291dFRyZW5kQ29udHJvbGxlci5qcyIsImNvbXBvbmVudHMvdW5lcGkvVW5lcGlDb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbIndpbmRvdyIsImRvY3VtZW50IiwicGVyIiwidmFsdWUiLCJ0b3RhbCIsInBlcmNlbnRhZ2UiLCJNYXRoIiwicm91bmQiLCJnZW5lcmF0ZUxhYmVsRnJvbVBlcmlvZCIsInBlcmlvZCIsInllYXIiLCJ0b1N0cmluZyIsInN1YnN0ciIsIk51bWJlciIsImdlbmVyYXRlRnVsbExhYmVsRnJvbVBlcmlvZCIsImdldE1vbnRoRnJvbU51bWJlciIsInllYXJUeXBlIiwiZ2V0UGVyaW9kU3RyaW5nIiwibW9udGgiLCJnZXRNb250aEluZGV4RnJvbVBlcmlvZCIsImFicyIsImdldE1vbnRoRnJvbVBlcmlvZCIsImdldFllYXJGcm9tUGVyaW9kIiwiZ2V0WWVhckxhYmVsRnJvbVBlcmlvZCIsImFwcEhlbHBlcnMiLCJhbmd1bGFyIiwiZXh0ZW5kIiwicHVibGlzaEV4dGVybmFsQVBJIiwibW9kdWxlIiwic2VydmljZSIsIiRodHRwIiwiaGFuZGxlUmVzcG9uc2UiLCJyZXNwb25zZSIsImRhdGEiLCJnZXRBd3BBY3Rpdml0aWVzIiwiZ2V0IiwicGFyYW1zIiwidGhlbiIsImdldEZ1bmRBY3Rpdml0aWVzIiwiZ2V0UHJpb3JpdHlBY3Rpdml0aWVzIiwiZXhwb3J0IiwiZmlsZW5hbWUiLCJkMyIsInNlbGVjdEFsbCIsInN0eWxlIiwicGRmIiwianNQREYiLCJhZGRIVE1MIiwiZ2V0RWxlbWVudEJ5SWQiLCJmb3JtYXQiLCJzYXZlIiwiaW5pdExhYmVscyIsImVhY2giLCJncm91cCIsImciLCJzZWxlY3QiLCJ0aGlzIiwicmVtb3ZlIiwiYmFyIiwiYiIsImJhcldpZHRoIiwiYXR0ciIsImFwcGVuZCIsInRleHQiLCJwYXJzZUZsb2F0IiwieSIsInRvRml4ZWQiLCJnZXRCQm94IiwiaGVpZ2h0Iiwid2lkdGgiLCJnZXRPcHRpb25zIiwiY2hhcnRUeXBlIiwiY2hhcnQiLCJ0eXBlIiwic3RhY2tlZCIsInNob3dDb250cm9scyIsImdyb3VwU3BhY2luZyIsImNsaXBFZGdlIiwiaW50ZXJhY3RpdmVMYXllciIsImdyYXZpdHkiLCJ4IiwiZCIsImZvcmNlWSIsInhBeGlzIiwiYXhpc0xhYmVsIiwidGlja0Zvcm1hdCIsInlBeGlzIiwidGlja3MiLCJkaXNwYXRjaCIsInJlbmRlckVuZCIsImNhbGxiYWNrIiwibGVnZW5kIiwic3RhdGVDaGFuZ2UiLCJjbGVhckxhYmVscyIsImNhbGN1bGF0ZUNvdmVyYWdlUmF0ZSIsImNvbnN1bXB0aW9uIiwicGxhbm5lZCIsImNhbGN1bGF0ZURyb3BvdXRSYXRlIiwiZmlyc3REb3NlIiwibGFzdERvc2UiLCJjYWxjdWxhdGVSZWRDYXRlZ29yeSIsImFjY2VzcyIsImRyb3BvdXRSYXRlIiwiZ2V0REhJUzJWYWNjaW5lRG9zZXMiLCJkaXN0cmljdCIsInZhY2NpbmUiLCJnZXRWYWNjaW5lRG9zZXMiLCJnZXRWYWNjaW5lRG9zZXNCeURpc3RyaWN0IiwiZ2V0VmFjY2luZURvc2VzQnlQZXJpb2QiLCJzdGFydFllYXIiLCJlbmRZZWFyIiwiYW50aWdlbiIsImRvc2UiLCJkYXRhVHlwZSIsImVuYWJsZURpc3RyaWN0R3JvdXBpbmciLCJnZXRVbmVwaUNvdmVyYWdlIiwiZ2V0RGlzdHJpY3RNYXAiLCJnZXRSZWRWYWNjaW5lRG9zZXMiLCJnZXRNb250aHMiLCJnZXRZZWFyIiwiZ2V0VmFjY2luZXMiLCJnZXREaXN0cmljdHMiLCJnZXRGcmlkZ2VEaXN0cmljdHMiLCJnZXRGcmlkZ2VDYXJlTGV2ZWxzIiwiZ2V0RnJpZGdlUXVhcnRlcnMiLCJnZXRMYXN0UGVyaW9kIiwiZ2V0UGVyaW9kUmFuZ2VzIiwiZ2V0VW5lcGlTdG9jayIsImdldE1vbnRoTnVtYmVyIiwibW9udGhzIiwibW9udGhUb0RhdGUiLCJtb250aFllYXIiLCJwYXJ0cyIsInNwbGl0IiwicGFyc2VJbnQiLCJEYXRlIiwibW9udGhEaWZmIiwic3RhcnREYXRlIiwiZW5kRGF0ZSIsImdldEZ1bGxZZWFyIiwiZ2V0TW9udGgiLCJtb250aFJhbmdlRGlmZiIsImdldE1vbnRoTmFtZSIsImdldEZyaWRnZUNhcGFjaXR5Iiwic3RhcnRRdWFydGVyIiwiZW5kUXVhcnRlciIsImNhcmVsZXZlbCIsImdldEZyaWRnZURpc3RyaWN0Q2FwYWNpdHkiLCJnZXRGcmlkZ2VGYWNpbGl0eUNhcGFjaXR5IiwiZ2V0RnJpZGdlRnVuY3Rpb25hbGl0eSIsImdldEZyaWRnZUltbXVuaXppbmdGYWNpbGl0eSIsImdldEZyaWRnZURpc3RyaWN0UmVmcmlnZXJhdG9yIiwiZ2V0RnJpZGdlRmFjaWxpdHlSZWZyaWdlcmF0b3IiLCJnZXRGcmlkZ2VEaXN0cmljdEltbXVuaXppbmdGYWNpbGl0eSIsImdldEZyaWRnZUNhcGFjaXR5TWV0cmljcyIsInN1cnAiLCJzdWZmaWNpZW50Iiwic2hvcnRhZ2UiLCJpIiwibGVuZ3RoIiwic3VycGx1c1ZhbHVlIiwic3VycGx1cyIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCJGaWx0ZXJTZXJ2aWNlIiwiTW9udGhTZXJ2aWNlIiwiJHJvb3RTY29wZSIsIiRsb2NhdGlvbiIsInNvcnRUeXBlIiwic29ydFJldmVyc2UiLCJzZWFyY2hUZXh0Iiwicm9vdCIsInNoZWxsIiwic3RhcnRNb250aCIsIm5hbWUiLCJlbmRNb250aCIsInNlbGVjdGVkVmFjY2luZSIsInNlbGVjdGVkRGlzdHJpY3QiLCJkZWZhdWx0UGVyaW9kIiwidXBkYXRlRG9zZXMiLCJ1bmRlZmluZWQiLCJkb3NlcyIsImFudGlnZW5zIiwiT2JqZWN0Iiwia2V5cyIsIkFMTCIsIkhQViIsIkRQVCIsIlBDViIsIklQViIsIk9QViIsIkJDRyIsIk1FQVNMRVMiLCJUVCIsInBhdGgiLCJjb3ZlcmFnZVllYXJzIiwieWVhcnMiLCJhY3RpdmVDb3ZlcmFnZVllYXIiLCJkZWZhdWx0TW9udGgiLCJzdWJzdHJpbmciLCJtb250aF9udW1iZXIiLCJlbmRNb250aEluZGV4Iiwic3RhcnRNb250aEluZGV4Iiwic3RvY2thdGhhbmQiLCJpbmRleE9mIiwidW5zaGlmdCIsImRpc3RyaWN0cyIsInZhY2NpbmVzIiwic2VsZWN0ZWRZZWFyIiwic2VsZWN0ZWRGcmlkZ2VEaXN0cmljdCIsInNlbGVjdGVkRnJpZGdlQ2FyZUxldmVsIiwiZnJpZGdlRGlzdHJpY3RzIiwiZnJpZGdlQ2FyZUxldmVscyIsImZyaWRnZVF1YXJ0ZXJzIiwiJHdhdGNoR3JvdXAiLCIkYnJvYWRjYXN0IiwiJHdhdGNoIiwiY292ZXJhZ2VQZXJpb2QiLCJnZXRBZ2dyZWdhdGVzIiwicGVyaW9kTGlzdCIsInJlZHVjZSIsImFjYyIsIml0ZW0iLCJ0b3RhbFBsYW5uZWQiLCJ0b3RhbEZpcnN0RG9zZSIsImZpcnN0X2Rvc2UiLCJ0b3RhbFNlY29uZERvc2UiLCJzZWNvbmRfZG9zZSIsInRvdGFsVGhpcmREb3NlIiwidGhpcmRfZG9zZSIsInRvdGFsTGFzdERvc2UiLCJsYXN0X2Rvc2UiLCJnZXRMYXN0VmFsdWUiLCJkZWZhdWx0VmFsdWUiLCJnZXRWYWx1ZXNJblJhbmdlIiwidmFsdWVzIiwieWVhckluZGV4IiwibW9udGhJbmRleCIsInB1c2giLCJjcmVhdGVEaXN0cmljdERhdGFNYXAiLCJkYXRhRGlzdHJpY3RNYXAiLCJ0b3RhbF9maXJzdF9kb3NlIiwidG90YWxfc2Vjb25kX2Rvc2UiLCJ0b3RhbF90aGlyZF9kb3NlIiwidG90YWxfbGFzdF9kb3NlIiwidG90YWxfcGxhbm5lZCIsInZhY2NpbmVfX25hbWUiLCJkaXN0cmljdF9fbmFtZSIsInBlcmlvZFllYXIiLCJwZXJpb2RNb250aCIsImdldFBlcmlvZExpc3QiLCJyZXBvcnRUb2dnbGUiLCJsYXN0VmFsdWUiLCJuZXh0WWVhciIsImFwcGx5IiwiZG9zZU51bWJlciIsInJlc3VsdCIsImRvc2VWYWx1ZSIsImNhbGN1bGF0ZVJlZENhdGVnb3J5VmFsdWUiLCJyIiwiZ2V0U3RvY2tCeURpc3RyaWN0IiwiZ2V0U3RvY2tCeU1vbnRoIiwiZ2V0U3RvY2tNb250aHNMZWZ0IiwiZ2V0U3RvY2tCeURpc3RyaWN0VmFjY2luZSIsImdldFN0b2NrZWRPdXQiLCJBbm51YWxDb3ZlcmFnZUNvbnRyb2xsZXIiLCJDb3ZlcmFnZVNlcnZpY2UiLCJDb3ZlcmFnZUNhbGN1bGF0b3IiLCJDaGFydFBERkV4cG9ydCIsIiR0aW1lb3V0Iiwidm0iLCIkb24iLCJlIiwiYW50aWdlbkxhYmVsIiwieWVhclBlcmlvZCIsImNoYXJ0VGl0bGUiLCJ5ZWFySW5kZXhlcyIsInRvdGFsQWN0dWFsIiwidG90YWxfYWN0dWFsIiwiY2hhcnREYXRhIiwidmFjY2luZURhdGEiLCJjb3ZlcmFnZVJhdGUiLCJrZXkiLCJjaGFydE9wdGlvbnMiLCJleHBvcnRQREYiLCIkaW5qZWN0IiwiU3RvY2tTZXJ2aWNlIiwiTmdUYWJsZVBhcmFtcyIsIk1hcFN1cHBvcnRTZXJ2aWNlIiwic2hlbGxTY29wZSIsIiRwYXJlbnQiLCJjaGlsZCIsImVuZHR4dCIsImlzTG9hZGluZyIsImFjdGl2ZVJlcG9ydFRvZ2dsZSIsImFjdGl2ZVJlcG9ydFllYXIiLCJhY3RpdmVEaXN0cmljdCIsInNhbXBsZURpc3RyaWN0RGF0YSIsImlzQWN0aXZlIiwidmlld0xvY2F0aW9uIiwidXBkYXRlUmVwb3J0VG9nZ2xlIiwidXBkYXRlTWFwV2l0aFZhY2NpbmUiLCJhY3RpdmVWYWNjaW5lIiwic2V0VGltZW91dCIsImRpc3BhdGNoRXZlbnQiLCJFdmVudCIsImdldENoYXJ0VGl0bGUiLCJzZWxlY3RlZEFudGlnZW4iLCJpc0FjdGl2ZVJlcG9ydFRvZ2dsZSIsImhpZGVNYXAiLCJtYXBQbGFjZWhvbGRlck1lc3NhZ2UiLCJpbnRlcnBvbGF0ZUZ1bmN0aW9uIiwic3RhcnQiLCJlbmQiLCJ0IiwiY29sb3IiLCJzY2FsZSIsImxpbmVhciIsImRvbWFpbiIsImludGVycG9sYXRlIiwidmFjZG9zZSIsInNsaWNlIiwicGVyaW9kRGlzcGxheSIsInRoZWRvc2UiLCJ0aGV2YWNkb3NlIiwicHJvamVjdGlvbiIsImdlbyIsIm1lcmNhdG9yIiwiZGF0YUJ5SWQiLCJtYXAiLCJuZXN0IiwiaWQiLCJyb2xsdXAiLCJqc29uIiwiZXJyb3IiLCJzY2FsZUNlbnRlciIsImZlYXR1cmVzIiwiYmJveF9wYXRoIiwiYm91bmRzIiwibWF4IiwiYmJveF9mZWF0dXJlIiwiY2VudGVyIiwiY2FsY3VsYXRlU2NhbGVDZW50ZXIiLCJ0cmFuc2xhdGUiLCJkaXN0IiwicG9zIiwiZGF0YURpc3RyaWN0IiwidG9VcHBlckNhc2UiLCJqIiwicHJvcGVydGllcyIsImZpZWxkIiwic3ZnIiwiZW50ZXIiLCJvbiIsImhvdmVyb24iLCJob3Zlcm91dCIsIiRhcHBseSIsImRpdiIsImxlZnQiLCJldmVudCIsInBhZ2VYIiwidG9wIiwicGFnZVkiLCJnZXREaXN0cmljdFZhbHVlIiwiZ2V0RmlsbENvbG9yIiwiZHJhd0xlZ2VuZCIsImNvbG9yQ291bnRzIiwibGVnZW5kU3ZnIiwibGFiZWxGb3JtYXQiLCJzaGFwZVdpZHRoIiwic2hhcGVIZWlnaHQiLCJnZXRMYWJlbCIsInRvdGFscyIsIkxpZ2h0R3JheSIsIkRhcmtHcmVlbiIsIlllbGxvdyIsIk9yYW5nZSIsIlJlZCIsImNlbGxzIiwibGFiZWxzIiwiY2FsbCIsImdldE1hcFRpdGxlIiwiZHVyYXRpb24iLCJnZXRMYXN0TWFwUGVyaW9kIiwiZnVsbFBlcmlvZCIsImFjdGl2ZURvc2UiLCJ0YWIiLCJtYXBUaXRsZSIsImNvbG9yVmFsdWUiLCJkaXN0cmljdERhdGEiLCJnZXRBY3RpdmVEb3NlTnVtYmVyIiwidmFsdWVGb3JtYXQiLCJxdWFudGl6ZSIsInJhbmdlIiwiY29weSIsIm1pbiIsIlN0cmluZyIsImRhdGFWYWx1ZSIsInRhYmxlZGF0YUFsbGRvc2VzIiwiZmlsdGVyIiwidGFibGVQYXJhbXNEb3NlcyIsInBhZ2UiLCJjb3VudCIsImZpbHRlckRlbGF5IiwiY291bnRzIiwiZHJvcGVkb3V0IiwiZHJvcF9vdXRfcmF0ZSIsInVuZGVyaW1tdW5pemVkIiwidW5kZXJfaW1tdW5pemVkIiwidXRpbGl6YXRpb24iLCJyZWRjYXRlZ29yeSIsImNvbXB1dGVSYXRlIiwiYWN0aXZlRG9zZU51bWJlciIsImxhc3QiLCJmaXJzdCIsInNlY29uZCIsInRoaXJkIiwiZ2V0Q2hhcnREYXRhIiwicmVwb3J0WWVhciIsImN1bXVsYXRpdmUiLCJyYXRlIiwicGVyaW9kVmFsdWVzIiwicmVkQ2F0ZWdvcnlWYWx1ZXMiLCJyZWRDYXRlZ29yeVRvdGFscyIsImRhdGFNb250aCIsImRhdGFZZWFyIiwieWVhckxhYmVsIiwiY29tYmluZWRGaXJzdERvc2UiLCJjb21iaW5lZExhc3REb3NlIiwiY29tYmluZWRQbGFubmVkIiwiY29tYmluZWRTZWNvbmREb3NlIiwiY29tYmluZWRUaGlyZERvc2UiLCJjYXRlZ29yeSIsImdldFJlZENhdGVnb3J5VmFsdWVzIiwiY2F0RGlzdHJpY3RzIiwidG90YWxEaXN0cmljdHMiLCJnZXRUb3RhbFJlZENhdGVnb3J5RGlzdHJpY3RzIiwiY2F0IiwiY2F0ZWdvcnlWYWx1ZXMiLCIxIiwiMiIsIjMiLCI0IiwiY2F0MURpc3RyaWN0cyIsImNhdDJEaXN0cmljdHMiLCJjYXQzRGlzdHJpY3RzIiwiY2F0NERpc3RyaWN0cyIsImZpbGxNaXNzaW5nVmFsdWVzIiwibW9udGhJbmRleGVzIiwiXyIsImV4aXN0aW5nSW5kZXhlcyIsInYiLCJmb3JFYWNoIiwic29ydCIsImEiLCJnZXRDaGFydE9wdGlvbnMiLCJ1c2VJbnRlcmFjdGl2ZUd1aWRlbGluZSIsImNvbnNvbGUiLCJsb2ciLCJjaGFuZ2VTdGF0ZSIsInRvb2x0aXBTaG93IiwidG9vbHRpcEhpZGUiLCJvcHRpb25zTUNZIiwib3B0aW9uc0FDWSIsIm9wdGlvbnNNRlkiLCJvcHRpb25zQUZZIiwiZGF0YU1DWSIsImRhdGFBQ1kiLCJkYXRhTUZZIiwiZGF0YUFGWSIsImVuYWJsZVBERkRvd25sb2FkIiwiZG93bmxvYWRQREYiLCJjdXJyZW50U2NvcGUiLCJhY3RpdmVTdGFydFllYXIiLCJhY3RpdmVFbmRZZWFyIiwibGFzdEVuZFllYXIiLCJkaXJlY3RpdmUiLCJ0ZW1wbGF0ZVVybCIsIkZyaWRnZVNlcnZpY2UiLCJnZXRGcmlkZ2VBbGxEaXN0cmljdENhcGFjaXR5IiwiZnJpZGdlRGlzdHJpY3QiLCJ0YWJsZWRhdGFBbGxkaXN0cmljdHMiLCJ0YWJsZVBhcmFtc0NhcGFjaXR5QWxsZGlzdHJpY3RzIiwibWV0cmljcyIsInVzdXJwIiwidXN1ZmZpY2llbnQiLCJ1c2hvcnRhZ2UiLCJncmFwaGRhdGEiLCJzZXJpZXNSZXF1aXJlZCIsInNlcmllc0F2YWlsYWJsZSIsInNlcmllc0dhcCIsImF2YWlsYWJsZSIsInF1YXJ0ZXIiLCJyZXF1aXJlZCIsImdhcCIsImdyYXBoIiwib3B0aW9ucyIsIm1hcmdpbiIsInJpZ2h0IiwiYm90dG9tIiwic2hvd1ZhbHVlcyIsInNob3dZQXhpcyIsInRhYmxlUGFyYW1zX2YiLCJ1dHN1cnAiLCJ1dHN1ZmZpY2llbnQiLCJ1dHNob3J0YWdlIiwiZ2V0RnJpZGdlQWxsRGlzdHJpY3RSZWZyaWdlcmF0b3IiLCJ0YWJsZVBhcmFtc0Z1bmN0aW9uYWxpdHlBbGxkaXN0cmljdHMiLCJ0YWJsZVBhcmFtc0FsbGRpc3RyaWN0cyIsInRhYmxlUGFyYW1zX2QiLCJncmFwaGZ1bmN0aW9uYWxpdHlkYXRhIiwic2VyaWVzRXhpc3RpbmciLCJzZXJpZXNOb3RXb3JraW5nIiwic2VyaWVzbWFpbnRlbmFuY2UiLCJmdW5jdGlvbmFsaXR5IiwibnVtYmVyX2V4aXN0aW5nIiwibm90X3dvcmtpbmciLCJuZWVkc19tYWludGVuYW5jZSIsImdyYXBoZnVuY3Rpb25hbGl0eSIsIm9wdGlvbnNmdW5jdGlvbmFsaXR5IiwidGFibGVkYXRhQWxsZmFjaWxpdGllcyIsInRhYmxlUGFyYW1zQWxsZmFjaWxpdGllcyIsImdldEZyaWRnZUFsbERpc3RyaWN0SW1tdW5pemluZ0ZhY2lsaXR5IiwiYWxsRGF0YSIsInRhYmxlUGFyYW1zSW1tdW5pemluZ0FsbGRpc3RyaWN0cyIsInRhYmxlZGF0YUFsbGZyaWRnZSIsInRhYmxlUGFyYW1zQWxsZnJpZGdlIiwiSW1tdW5pemluZyIsImltbXVuaXppbmciLCJOb3RJbW11bml6aW5nIiwiVG90YWxfZmFjaWxpdGllcyIsImZhY2lsaXR5Iiwib3B0aW9uc2ltbXVuaXppbmciLCJzaG93TGFiZWxzIiwibGFiZWxUaHJlc2hvbGQiLCJsYWJlbFN1bmJlYW1MYXlvdXQiLCJncmFwaGltbXVuaXppbmciLCJBbm51YWxTZXJ2aWNlIiwidGFibGVkYXRhX2Z1bmRlZCIsInRhYmxlZGF0YV91bmZ1bmRlZCIsImZ1bmQiLCJ0YWJsZWRhdGFmdW5kIiwidGFibGVQYXJhbXNmdW5kZWQiLCJmdW5kZWQiLCJ1bmZ1bmRlZCIsImZ1bmRhY3Rpdml0eSIsImdyYXBoZnVuZGVkYWN0aXZpdGllcyIsInRhYmxlUGFyYW1zX2Z1bmRlZCIsInRhYmxlUGFyYW1zX3VuZnVuZGVkIiwidGFibGVkYXRhX3ByaW9yaXR5ZnVuZCIsInRhYmxlZGF0YV9wcmlvcml0eXVuZnVuZGVkIiwidGFibGVQYXJhbXNfcHJpb3JpdHlmdW5kIiwidGFibGVQYXJhbXNfcHJpb3JpdHl1bmZ1bmRlZCIsInByaW9yaXR5ZGF0YSIsInByaW9yaXR5ZGF0YXVuIiwiSGlnaHByaW9yaXR5IiwiTWVkaXVtcHJpb3JpdHkiLCJMb3dwcmlvcml0eSIsIkhpZ2hwcmlvcml0eXVuIiwiTWVkaXVtcHJpb3JpdHl1biIsIkxvd3ByaW9yaXR5dW4iLCJhcmVhIiwiSGlnaCIsIk1lZGl1bSIsIkxvdyIsInByaW9yaXR5Z3JhcGgiLCJwcmlvcml0eW9wdGlvbnMiLCJzaG93WEF4aXMiLCJyb3RhdGVMYWJlbHMiLCJwcmlvcml0eWdyYXBodW4iLCJwcmlvcml0eW9wdGlvbnN1biIsIkNoYXJ0U3VwcG9ydFNlcnZpY2UiLCJTb3J0QnlLZXkiLCJhcnJheSIsInRhYmxlZGF0YV9zbyIsInRhYmxlZGF0YV9ibSIsInRhYmxlZGF0YV93ciIsInRhYmxlZGF0YV9hbSIsInRhYmxlZGF0YV9zZWFyY2giLCJhdF9oYW5kIiwic3RvY2tfcmVxdWlyZW1lbnRfX21heGltdW0iLCJzdG9ja19yZXF1aXJlbWVudF9fbWluaW11bSIsIm5vdGhpbmciLCJ3aXRoaW4iLCJiZWxvd21pbmltdW0iLCJhYm92ZW1heGltdW0iLCJzdGF0dXMiLCJzdG9ja2Vkb3V0IiwiYmFsYW5jZU1vbnRoIiwic2V0TW9udGgiLCJ0aGVtb250aCIsInRhYmxlUGFyYW1zX3NvIiwidGFibGVQYXJhbXNfYm0iLCJ0YWJsZVBhcmFtc193ciIsInRhYmxlUGFyYW1zX2FtIiwidGFibGVQYXJhbXNfc2VhcmNoIiwidGFibGVQYXJhbXMiLCJncmFwaGRhdGFEaXN0cmlidXRpb24iLCJzZXJpZXNEaXN0cmlidXRpb24iLCJzZXJpZXNPcmRlcnMiLCJtaW5fc2VyaWVzRGlzdHJpYnV0aW9uIiwibWF4X3Nlcmllc0Rpc3RyaWJ1dGlvbiIsInJlZnJlc2hyYXRlIiwicmVjZWl2ZWQiLCJvcmRlcmVkIiwiZ3JhcGhEaXN0cmlidXRpb24iLCJvcHRpb25zRGlzdHJpYnV0aW9uIiwidGl0bGUiLCJlbmFibGUiLCJzaG93TGVnZW5kIiwic3RhZ2dlckxhYmVscyIsImF4aXNMYWJlbERpc3RhbmNlIiwidHJhbnNpdGlvbkR1cmF0aW9uIiwiZ3JhcGhkYXRhQ29uc3VtcHRpb24iLCJzZXJpZXNDb25zdW1wdGlvbiIsInRhcmdldF9zZXJpZXNDb25zdW1wdGlvbiIsImNvdmVyYWdlIiwiY29uc3VtZWQiLCJzdG9ja19yZXF1aXJlbWVudF9fdGFyZ2V0IiwiZ3JhcGhDb25zdW1wdGlvbiIsIm9wdGlvbnNDb25zdW1wdGlvbiIsIlN0b2NrVXB0YWtlQ29udHJvbGxlciIsInVwZGF0ZUxhYmVscyIsInVwdGFrZSIsIm9wdGlvbnNVcHRha2UiLCJ1cHRha2VPcHRpb25zIiwiZ3JhcGhkYXRhVXB0YWtlIiwic3RvY2tEYXRhIiwiaW1tdW5pc2F0aW9uRGF0YSIsIm1vbnRobHlUYXJnZXREYXRhIiwiZm9yY2VTdGFydFplcm9EYXRhIiwibWF4TW9udGhseVRhcmdldCIsImF0SGFuZCIsInRvdGFsX2F0X2hhbmQiLCJ0b3RhbF9yZWNlaXZlZCIsInRvdGFsX2NvbnN1bWVkIiwibW9udGhseVRhcmdldCIsInRvdGFsX3RhcmdldCIsInRvdGFsU3RvY2siLCJzdHJva2VXaWR0aCIsImdyYXBoVXB0YWtlIiwiU3RvY2tvdXRUcmVuZENvbnRyb2xsZXIiLCJncmFwaE9wdGlvbnMiLCJncmFwaERhdGEiLCJzdXBwbHlEYXRhIiwiZ2V0VmFsdWVTdW0iLCJhY2N1bXVsYXRvciIsInRhYmxlRGF0YSIsInBlbnRhQ1IiLCJwY3ZDUiIsIkdhcCIsImRyb3BvdXRfUGVudGEiLCJkcm9wb3V0X2hwdiIsImRhdGFQZXJpb2QiLCJyZWRDYXRlZ29yeSIsImF2b2MiLCJwbGFubmVkX2NvbnN1bXB0aW9uIiwiY292ZXJhZ2VfcmF0ZSIsInNldHRpbmdzIiwiZ2V0VW5lcGlOYXRpb25hbFN0b2NrIiwidGFibGVkYXRhQWxsc3RvY2siLCJzdG9ja2VkT3V0QW50aWdlbnMiLCJhdmFpbGFibGVfc3RvY2siLCJtaW5TdG9jayIsImF2YWlsYWJsZVN0b2NrIiwibW9udGhzU3RvY2siLCJNb250aHNfc3RvY2siLCJSZWZpbGxfcmF0ZSIsInVwdGFrZV9yYXRlIiwiQW50aWdlbl9zdG9ja2Vkb3V0IiwidGFibGVQYXJhbXNTdG9jayIsInBhcnNlRGlzdHJpY3QiLCJyZXBsYWNlIiwiZ2V0VW5lcGlDb2xkQ2hhaW5DYXBhY2l0eSIsImdldFVuZXBpQ29sZENoYWluRnVuY3Rpb25hbGl0eSIsImFnZ3JlZ2F0ZXMiLCJ0b3RhbEVxdWlwbWVudCIsInRvdGFsV29ya2luZ1dlbGwiLCJ3b3JraW5nX3dlbGwiLCJ0b3RhbE5vdFdvcmtpbmdXZWxsIiwidG90YWxOZWVkTWFpbnRlbmFuY2UiLCJ0b3RhbEZhY2lsaXRpZXMiLCJ0b3RhbF9mYWNpbGl0aWVzIiwibnVtYmVyT2ZDb2xkY2hhaW5FcXVpcG1lbnQiLCJudW1iZXJPZkZhY2lsaXRpZXMiLCJudW1iZXJXb3JraW5nV2VsbCIsIm51bWJlck5vdFdvcmtpbmdXZWxsIiwibnVtYmVyTmVlZE1haW50ZW5hbmNlIiwibnVtYmVyV29ya2luZyIsInByaW50VmlldyJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBQUEsRUFBQUMsR0FDQSxhQUVBLElBRUFDLEVBQUEsU0FBQUMsRUFBQUMsR0FDQSxJQUFBQyxFQUFBRixFQUFBQyxFQUFBLElBQ0EsT0FBQUUsS0FBQUMsTUFBQSxHQUFBRixHQUFBLElBR0FHLEVBQUEsU0FBQUMsR0FFQSxJQUFBQyxHQURBRCxFQUFBQSxFQUFBRSxZQUNBQyxPQUFBLEVBQUEsR0FJQSxPQURBLEdBQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE9BQUEsTUFBQSxNQUFBLE9BRkFDLE9BQUFKLEVBQUFHLE9BQUEsRUFBQSxLQUdBLElBQUFGLEdBR0FJLEVBQUEsU0FBQUwsR0FFQSxJQUFBQyxHQURB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b0NBQ0FDLFFBQ0E0RyxhQUFBQSxFQUNBQyxXQUFBQSxFQUNBekMsU0FBQUEsRUFDQTBDLFVBQUFBLEtBRUE3RyxLQUFBTixJQTBGQXFILDBCQXZGQSxTQUFBSixFQUFBQyxFQUFBekMsRUFBQTBDLEdBQ0EsT0FBQXBILEVBQUFLLElBQUEsb0NBQ0FDLFFBQ0E0RyxhQUFBQSxFQUNBQyxXQUFBQSxFQUNBekMsU0FBQUEsRUFDQTBDLFVBQUFBLEtBRUE3RyxLQUFBTixJQWdGQXNILHVCQTdFQSxTQUFBTCxFQUFBQyxFQUFBekMsRUFBQTBDLEdBQ0EsT0FBQXBILEVBQUFLLElBQUEsK0JBQ0FDLFFBQ0E0RyxhQUFBQSxFQUNBQyxXQUFBQSxFQUNBekMsU0FBQUEsRUFDQTBDLFVBQUFBLEtBRUE3RyxLQUFBTixJQXNFQXVILDRCQTlDQSxTQUFBTixFQUFBQyxFQUFBekMsRUFBQTBDLEdBQ0EsT0FBQXBILEVBQUFLLElBQUEsc0NBQ0FDLFFBQ0E0RyxhQUFBQSxFQUNBQyxXQUFBQSxFQUNBekMsU0FBQUEsRUFDQTBDLFVBQUFBLEtBRUE3RyxLQUFBTixJQXVDQXdILDhCQXJFQSxTQUFBUCxFQUFBQyxFQUFBekMsRUFBQTBDLEdBQ0EsT0FBQXBILEVBQUFLLElBQUEsdUNBQ0FDLFFBQ0E0RyxhQUFBQSxFQUNBQyxXQUFBQSxFQUNBekMsU0FBQUEsRUFDQTBDLFVBQUFBLEtBRUE3RyxLQUFBTixJQThEQXlILDhCQTNEQSxTQUFBUixFQUFBQyxFQUFBekMsRUFBQTBDLEdBQ0EsT0FBQXBILEVBQUFLLElBQUEsdUNBQ0FDLFFBQ0E0RyxhQUFBQSxFQUNBQyxXQUFBQSxFQUNBekMsU0FBQUEsRUFDQTBDLFVBQUFBLEtBRUE3RyxLQUFBTixJQW9EQTBILG9DQXZDQSxTQUFBVCxFQUFBQyxFQUFBekMsRUFBQTBDLEdBQ0EsT0FBQXBILEVBQUFLLElBQUEsOENBQ0FDLFFBQ0E0RyxhQUFBQSxFQUNBQyxXQUFBQSxFQUNBekMsU0FBQUEsRUFDQTBDLFVBQUFBLEtBRUE3RyxLQUFBTixJQWdDQTJILHlCQTdCQSxTQUFB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T0FFQWdHLEVBQUEzSixpQkFBQTRELEVBQUF0SyxPQUFBK0YsRUFBQXNFLEtBQUFyRSxFQUFBcUUsTUFFQSxZQUFBdEUsRUFBQXNFLEtBQ0FnRyxFQUFBcVksc0JBQUFwZSxFQUFBRCxLQUFBdEUsRUFBQXNFLEtBQUFyRSxFQUFBcUUsTUFFQWdHLEVBQUEvSSxjQUFBZ0QsRUFBQUQsS0FBQXRFLEVBQUFzRSxLQUFBckUsRUFBQXFFLE1BRUFnRyxFQUFBbVosMEJBQUFsZixFQUFBRCxLQUFBdEUsRUFBQXNFLE1BQ0FnRyxFQUFBb1osK0JBQUFuZixFQUFBRCxLQUFBdEUsRUFBQXNFLE1BQ0FnRyxFQUFBd00sMEJBeFFBLENBOFFBdGQsT0FBQXlCIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAod2luZG93LCBkb2N1bWVudCkge1xuICAgICAndXNlIHN0cmljdCc7XG5cbiAgICAgdmFyIGFwcEhlbHBlcnMgPSB3aW5kb3cuYXBwSGVscGVycyB8fCAod2luZG93LmFwcEhlbHBlcnMgPSB7fSk7XG5cbiAgICAgdmFyIHBlciA9IGZ1bmN0aW9uKHZhbHVlLCB0b3RhbCkge1xuICAgICAgICAgdmFyIHBlcmNlbnRhZ2UgPSAodmFsdWUvdG90YWwpICogMTAwO1xuICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQocGVyY2VudGFnZSAqIDEwKSAvIDEwO1xuICAgICB9O1xuXG4gICAgIHZhciBnZW5lcmF0ZUxhYmVsRnJvbVBlcmlvZCA9IGZ1bmN0aW9uKHBlcmlvZCkge1xuICAgICAgICAgcGVyaW9kID0gcGVyaW9kLnRvU3RyaW5nKCk7XG4gICAgICAgICB2YXIgeWVhciA9IHBlcmlvZC5zdWJzdHIoMiwyKTtcbiAgICAgICAgIHZhciBtb250aCA9IE51bWJlcihwZXJpb2Quc3Vic3RyKDQsMikpO1xuXG4gICAgICAgICB2YXIgbW9udGhzID0gWycnLCAnSmFuJywgJ0ZlYicsICdNYXInLCAnQXByJywgJ01heScsICdKdW4nLCAnSnVsJywgJ0F1ZycsICdTZXB0JywgJ09jdCcsICdOb3YnLCAnRGVjJ107XG4gICAgICAgICByZXR1cm4gbW9udGhzW21vbnRoXSArIFwiJ1wiK3llYXI7XG4gICAgfTtcblxuICAgIHZhciBnZW5lcmF0ZUZ1bGxMYWJlbEZyb21QZXJpb2QgPSBmdW5jdGlvbihwZXJpb2QpIHtcbiAgICAgICAgcGVyaW9kID0gcGVyaW9kLnRvU3RyaW5nKCk7XG4gICAgICAgIHZhciB5ZWFyID0gcGVyaW9kLnN1YnN0cigwLDQpO1xuICAgICAgICB2YXIgbW9udGggPSBOdW1iZXIocGVyaW9kLnN1YnN0cig0LDIpKTtcblxuICAgICAgICB2YXIgbW9udGhzID0gWycnLCAnSmFudWFyeScsICdGZWJydWFyeScsICdNYXJjaCcsICdBcHJpbCcsICdNYXknLCAnSnVuZScsXG4gICAgICAgICAgICAnSnVseScsICdBdWd1c3QnLCAnU2VwdGVtYmVyJywgJ09jdG9iZXInLCAnTm92ZW1iZXInLCAnRGVjZW1iZXInXTtcbiAgICAgICAgcmV0dXJuIG1vbnRoc1ttb250aF0gKyBcIiBcIit5ZWFyO1xuICAgfTtcblxuICAgIHZhciBnZXRNb250aEZyb21OdW1iZXIgPSBmdW5jdGlvbih2YWx1ZSwgeWVhclR5cGUpIHtcbiAgICAgICAgdmFyIG1vbnRocyA9IFsnJywgJ0phbicsICdGZWInLCAnTWFyJywgJ0FwcicsICdNYXknLCAnSnVuJywgJ0p1bCcsICdBdWcnLCAnU2VwdCcsICdPY3QnLCAnTm92JywgJ0RlYyddO1xuICAgICAgICB2YXIgbW9udGhzRlkgPSBbJycsICdKdWwnLCAnQXVnJywgJ1NlcHQnLCAnT2N0JywgJ05vdicsICdEZWMnLCAnSmFuJywgJ0ZlYicsICdNYXInLCAnQXByJywgJ01heScsICdKdW4nXTtcblxuICAgICAgICBpZiAoeWVhclR5cGUgPT0gJ0NZJykge1xuICAgICAgICAgICAgcmV0dXJuIG1vbnRoc1t2YWx1ZV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbW9udGhzRllbdmFsdWVdO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBnZXRQZXJpb2RTdHJpbmcgPSBmdW5jdGlvbih5ZWFyLCBtb250aCkge1xuICAgICAgICBpZiAobW9udGggPCAxMCkge1xuICAgICAgICAgICAgcmV0dXJuIHllYXIgKyBcIjBcIiArIG1vbnRoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHllYXIgKyBcIlwiICsgIG1vbnRoO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBnZXRNb250aEluZGV4RnJvbVBlcmlvZCA9IGZ1bmN0aW9uKHBlcmlvZCwgeWVhclR5cGUpIHtcbiAgICAgICAgcGVyaW9kID0gcGVyaW9kLnRvU3RyaW5nKCk7XG4gICAgICAgIHZhciBtb250aCA9IE51bWJlcihwZXJpb2Quc3Vic3RyKDQsMikpO1xuXG4gICAgICAgIGlmICh5ZWFyVHlwZSA9PSAnQ1knKSB7XG4gICAgICAgICAgICByZXR1cm4gbW9udGg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAobW9udGggPj0gNykge1xuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyhtb250aCAtIDcpICsgMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChtb250aCArIDYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBnZXRNb250aEZyb21QZXJpb2QgPSBmdW5jdGlvbihwZXJpb2QsIHllYXJUeXBlKSB7XG4gICAgICAgIHBlcmlvZCA9IHBlcmlvZC50b1N0cmluZygpO1xuICAgICAgICByZXR1cm4gTnVtYmVyKHBlcmlvZC5zdWJzdHIoNCwyKSk7XG4gICAgfTtcblxuICAgIHZhciBnZXRZZWFyRnJvbVBlcmlvZCA9IGZ1bmN0aW9uKHBlcmlvZCwgeWVhclR5cGUpIHtcbiAgICAgICAgcGVyaW9kID0gcGVyaW9kLnRvU3RyaW5nKCk7XG4gICAgICAgIHJldHVybiBOdW1iZXIocGVyaW9kLnN1YnN0cigwLDQpKTtcbiAgICB9O1xuXG4gICAgdmFyIGdldFllYXJMYWJlbEZyb21QZXJpb2QgPSBmdW5jdGlvbihwZXJpb2QsIHllYXJUeXBlKSB7XG4gICAgICAgIHBlcmlvZCA9IHBlcmlvZC50b1N0cmluZygpO1xuICAgICAgICB2YXIgeWVhciA9IHBlcmlvZC5zdWJzdHIoMCw0KTtcbiAgICAgICAgdmFyIG1vbnRoID0gTnVtYmVyKHBlcmlvZC5zdWJzdHIoNCwyKSk7XG5cbiAgICAgICAgaWYgKHllYXJUeXBlID09ICdDWScpIHtcbiAgICAgICAgICAgIHJldHVybiB5ZWFyO1xuICAgICAgICB9IGVsc2UgaWYgKHllYXJUeXBlID09ICdGWScpIHtcbiAgICAgICAgICAgIGlmIChtb250aCA8PSA2KSB7XG4gICAgICAgICAgICAgICAgdmFyIHByZXZZZWFyID0gTnVtYmVyKHllYXIpIC0gMTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJldlllYXIgKyBcIi1cIiArIHllYXI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBuZXh0WWVhciA9IE51bWJlcih5ZWFyKSArIDE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHllYXIgKyBcIi1cIiArIG5leHRZZWFyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuXG4gICAgIC8vIHB1Ymxpc2ggZXh0ZXJuYWwgQVBJIGJ5IGV4dGVuZGluZyBhcHBIZWxwZXJzXG4gICAgIGZ1bmN0aW9uIHB1Ymxpc2hFeHRlcm5hbEFQSShhcHBIZWxwZXJzKSB7XG4gICAgICAgICBhbmd1bGFyLmV4dGVuZChhcHBIZWxwZXJzLCB7XG4gICAgICAgICAgICAgJ3Blcic6IHBlcixcbiAgICAgICAgICAgICAnZ2VuZXJhdGVMYWJlbEZyb21QZXJpb2QnOiBnZW5lcmF0ZUxhYmVsRnJvbVBlcmlvZCxcbiAgICAgICAgICAgICAnZ2VuZXJhdGVGdWxsTGFiZWxGcm9tUGVyaW9kJzogZ2VuZXJhdGVGdWxsTGFiZWxGcm9tUGVyaW9kLFxuICAgICAgICAgICAgICdnZXRQZXJpb2RTdHJpbmcnOiBnZXRQZXJpb2RTdHJpbmcsXG4gICAgICAgICAgICAgJ2dldFllYXJMYWJlbEZyb21QZXJpb2QnOiBnZXRZZWFyTGFiZWxGcm9tUGVyaW9kLFxuICAgICAgICAgICAgICdnZXRNb250aEZyb21QZXJpb2QnOiBnZXRNb250aEZyb21QZXJpb2QsXG4gICAgICAgICAgICAgJ2dldFllYXJGcm9tUGVyaW9kJzogZ2V0WWVhckZyb21QZXJpb2QsXG4gICAgICAgICAgICAgJ2dldE1vbnRoSW5kZXhGcm9tUGVyaW9kJzogZ2V0TW9udGhJbmRleEZyb21QZXJpb2QsXG4gICAgICAgICAgICAgJ2dldE1vbnRoRnJvbU51bWJlcic6IGdldE1vbnRoRnJvbU51bWJlclxuICAgICAgICAgfSk7XG4gICAgIH1cblxuICAgICBwdWJsaXNoRXh0ZXJuYWxBUEkoYXBwSGVscGVycyk7XG5cbiB9KSh3aW5kb3csIGRvY3VtZW50KTtcbiIsIihmdW5jdGlvbiAoYW5ndWxhcikge1xuICAgIC8vICd1c2Ugc3RyaWN0Jztcbi8qKlxuICogQ3JlYXRlZCBieSBid2FtYWxhIG9uIDYvMi8yMDE3LlxuICovXG5hbmd1bGFyLm1vZHVsZSgnc2VydmljZXMnKS5zZXJ2aWNlKCdBbm51YWxTZXJ2aWNlJywgWyckaHR0cCcsXG4gICAgZnVuY3Rpb24oJGh0dHApIHtcbiAgICAgICAgdmFyIGhhbmRsZVJlc3BvbnNlID0gZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBnZXRBd3BBY3Rpdml0aWVzID0gZnVuY3Rpb24oeWVhcil7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCdwbGFubmluZy9hcGkvYXdwYWN0aXZpdGllcycsIHtcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgeWVhcjogeWVhclxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLnRoZW4oaGFuZGxlUmVzcG9uc2UpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBnZXRGdW5kQWN0aXZpdGllcyA9IGZ1bmN0aW9uKHllYXIpe1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgncGxhbm5pbmcvYXBpL2Z1bmRhY3Rpdml0aWVzJywge1xuICAgICAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgICAgICB5ZWFyOiB5ZWFyLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLnRoZW4oaGFuZGxlUmVzcG9uc2UpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBnZXRQcmlvcml0eUFjdGl2aXRpZXMgPSBmdW5jdGlvbih5ZWFyKXtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoJ3BsYW5uaW5nL2FwaS9wcmlvcml0eWFjdGl2aXRpZXMnLCB7XG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgICAgIHllYXI6IHllYXIsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkudGhlbihoYW5kbGVSZXNwb25zZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJue1xuICAgICAgICAgICAgJ2dldEF3cEFjdGl2aXRpZXMnOmdldEF3cEFjdGl2aXRpZXMsXG4gICAgICAgICAgICAnZ2V0RnVuZEFjdGl2aXRpZXMnOiBnZXRGdW5kQWN0aXZpdGllcyxcbiAgICAgICAgICAgICdnZXRQcmlvcml0eUFjdGl2aXRpZXMnOmdldFByaW9yaXR5QWN0aXZpdGllc1xuICAgICAgICB9O1xuICAgIH1cblxuXSlcbn0pKHdpbmRvdy5hbmd1bGFyKTtcbiIsIihmdW5jdGlvbiAoYW5ndWxhcikge1xuICAgIC8vICd1c2Ugc3RyaWN0JztcbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdzZXJ2aWNlcycpXG4gICAgLnNlcnZpY2UoJ0NoYXJ0UERGRXhwb3J0JywgQ2hhcnRQREZFeHBvcnQpO1xuXG5mdW5jdGlvbiBDaGFydFBERkV4cG9ydCgpIHtcbiAgICB2YXIgc2VydmljZSA9IHsnZXhwb3J0JzogZXhwb3J0UERGfTtcbiAgICByZXR1cm4gc2VydmljZTtcblxuICAgIGZ1bmN0aW9uIGV4cG9ydFBERihmaWxlbmFtZSkge1xuICAgICAgICBkMy5zZWxlY3RBbGwoXCJzdmcgLm52LWxpbmVcIilcbiAgICAgICAgICAgIC5zdHlsZShcImZpbGxcIiwgXCIjZmZmZmZmXCIpXG4gICAgICAgICAgICAuc3R5bGUoXCJmaWxsLW9wYWNpdHlcIiwgMCk7XG5cbiAgICAgICAgZDMuc2VsZWN0QWxsKFwiLm52ZDMgLm52LWJhY2tncm91bmRcIilcbiAgICAgICAgICAgIC5zdHlsZShcImZpbGxcIiwgXCIjZmZmZmZmXCIpXG4gICAgICAgICAgICAuc3R5bGUoXCJmaWxsLW9wYWNpdHlcIiwgMCk7XG5cbiAgICAgICAgZDMuc2VsZWN0QWxsKFwiLm52ZDMgLm52LWF4aXMgbGluZVwiKVxuICAgICAgICAgICAgLnN0eWxlKFwic3Ryb2tlXCIsIFwiI2U1ZTVlNVwiKTtcblxuICAgICAgICBkMy5zZWxlY3RBbGwoXCIubnZkMyB0ZXh0XCIpXG4gICAgICAgICAgICAuc3R5bGUoXCJmb250XCIsIFwibm9ybWFsIDEzcHggQXJpYWwsIHNhbnMtc2VyaWZcIik7XG5cbiAgICAgICAgZDMuc2VsZWN0QWxsKFwiLm52ZDMgLm52LWdyb3VwcyAubnYtcG9pbnRcIilcbiAgICAgICAgICAgIC5zdHlsZShcImZpbGwtb3BhY2l0eVwiLCAwKVxuICAgICAgICAgICAgLnN0eWxlKFwic3Ryb2tlLXdpZHRoXCIsIFwiMHB4XCIpO1xuXG4gICAgICAgIGQzLnNlbGVjdEFsbChcIi5udmQzIC5udi15IC56ZXJvIGxpbmVcIilcbiAgICAgICAgICAgIC5zdHlsZShcInN0cm9rZVwiLCBcIiM0MDQwNDBcIik7XG5cbiAgICAgICAgZDMuc2VsZWN0QWxsKFwiLm52LXkgLm52LWF4aXMgZyBwYXRoLmRvbWFpblwiKVxuICAgICAgICAgICAgLnN0eWxlKFwic3Ryb2tlXCIsIFwiIzQwNDA0MFwiKTtcblxuICAgICAgICBkMy5zZWxlY3RBbGwoXCIubGVnZW5kUXVhbnQgLmxhYmVsXCIpXG4gICAgICAgICAgICAuc3R5bGUoXCJmb250XCIsIFwibm9ybWFsIDEycHggQXJpYWwsIHNhbnMtc2VyaWZcIik7XG5cbiAgICAgICAgdmFyIHBkZiA9IG5ldyBqc1BERignbCcsICdtbScpO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHsgZm9ybWF0IDogJ1BORycgfTtcblxuICAgICAgICBwZGYuYWRkSFRNTChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBkZlJlcG9ydFwiKSwgMCwgMCwgb3B0aW9ucywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcGRmLnNhdmUoZmlsZW5hbWUpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG59KSh3aW5kb3cuYW5ndWxhcik7XG4iLCIoZnVuY3Rpb24gKGFuZ3VsYXIpIHtcbiAgICAvLyAndXNlIHN0cmljdCc7XG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnc2VydmljZXMnKVxuICAgIC5zZXJ2aWNlKCdDaGFydFN1cHBvcnRTZXJ2aWNlJywgQ2hhcnRTdXBwb3J0U2VydmljZSk7XG5cbmZ1bmN0aW9uIENoYXJ0U3VwcG9ydFNlcnZpY2UoKSB7XG4gICAgdmFyIHNlcnZpY2UgPSB7XG4gICAgICAgICdnZXRPcHRpb25zJzogZ2V0T3B0aW9ucyxcbiAgICAgICAgJ2luaXRMYWJlbHMnOiBpbml0TGFiZWxzLFxuICAgICAgICAnY2xlYXJMYWJlbHMnOiBjbGVhckxhYmVsc1xuICAgIH07XG5cbiAgICByZXR1cm4gc2VydmljZTtcblxuICAgIGZ1bmN0aW9uIGdldE9wdGlvbnMoY2hhcnRUeXBlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjaGFydDoge1xuICAgICAgICAgICAgICAgIHR5cGU6IGNoYXJ0VHlwZSxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDQ1MCxcbiAgICAgICAgICAgICAgICB3aWR0aDogNjUwLFxuICAgICAgICAgICAgICAgIC8vIG1hcmdpbjoge3RvcDogMTAwfSxcbiAgICAgICAgICAgICAgICBzdGFja2VkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzaG93Q29udHJvbHM6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGdyb3VwU3BhY2luZzogMC4yLFxuICAgICAgICAgICAgICAgIGNsaXBFZGdlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAvLyB1c2VJbnRlcmFjdGl2ZUd1aWRlbGluZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBpbnRlcmFjdGl2ZUxheWVyOiB7Z3Jhdml0eTogJ3MnfSxcbiAgICAgICAgICAgICAgICB4OiBmdW5jdGlvbihkKXsgcmV0dXJuIGQueDsgfSxcbiAgICAgICAgICAgICAgICB5OiBmdW5jdGlvbihkKXsgcmV0dXJuIGQueTsgfSxcbiAgICAgICAgICAgICAgICBmb3JjZVk6IFswLDExMF0sXG4gICAgICAgICAgICAgICAgeEF4aXM6IHtcbiAgICAgICAgICAgICAgICAgICAgYXhpc0xhYmVsOiAnWWVhcnMnLFxuICAgICAgICAgICAgICAgICAgICB0aWNrRm9ybWF0OiBmdW5jdGlvbihkKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB5QXhpczoge1xuICAgICAgICAgICAgICAgICAgICBheGlzTGFiZWw6ICdDb3ZlcmFnZSBSYXRlICglKScsXG4gICAgICAgICAgICAgICAgICAgIHRpY2tzOiAxMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZGlzcGF0Y2g6IHtcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyRW5kOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluaXRMYWJlbHMoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKGNoYXJ0KXtcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIiEhISBsaW5lQ2hhcnQgY2FsbGJhY2sgISEhXCIpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbGVnZW5kOiB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNoYW5nZTogZnVuY3Rpb24oKSB7fVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluaXRMYWJlbHMoKSB7XG4gICAgICAgIC8vIFlvdSBuZWVkIHRvIGFwcGx5IHRoaXMgb25jZSBhbGwgdGhlIGFuaW1hdGlvbnMgYXJlIGFscmVhZHkgZmluaXNoZWQuIE90aGVyd2lzZSBsYWJlbHMgd2lsbCBiZSBwbGFjZWQgd3JvbmdseS5cbiAgICAgICAgZDMuc2VsZWN0QWxsKCcubnYtbXVsdGliYXIgLm52LWdyb3VwJykuZWFjaChmdW5jdGlvbihncm91cCl7XG4gICAgICAgICAgdmFyIGcgPSBkMy5zZWxlY3QodGhpcyk7XG5cbiAgICAgICAgICAvLyBSZW1vdmUgcHJldmlvdXMgbGFiZWxzIGlmIHRoZXJlIGlzIGFueVxuICAgICAgICAgIGcuc2VsZWN0QWxsKCd0ZXh0JykucmVtb3ZlKCk7XG4gICAgICAgICAgZy5zZWxlY3RBbGwoJy5udi1iYXInKS5lYWNoKGZ1bmN0aW9uKGJhcil7XG4gICAgICAgICAgICB2YXIgYiA9IGQzLnNlbGVjdCh0aGlzKTtcbiAgICAgICAgICAgIHZhciBiYXJXaWR0aCA9IGIuYXR0cignd2lkdGgnKTtcbiAgICAgICAgICAgIHZhciBiYXJIZWlnaHQgPSBiLmF0dHIoJ2hlaWdodCcpO1xuXG4gICAgICAgICAgICBnLmFwcGVuZCgndGV4dCcpXG4gICAgICAgICAgICAgIC8vIFRyYW5zZm9ybXMgc2hpZnQgdGhlIG9yaWdpbiBwb2ludCB0aGVuIHRoZSB4IGFuZCB5IG9mIHRoZSBiYXJcbiAgICAgICAgICAgICAgLy8gaXMgYWx0ZXJlZCBieSB0aGlzIHRyYW5zZm9ybS4gSW4gb3JkZXIgdG8gYWxpZ24gdGhlIGxhYmVsc1xuICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIGFwcGx5IHRoaXMgdHJhbnNmb3JtIHRvIHRob3NlLlxuICAgICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgYi5hdHRyKCd0cmFuc2Zvcm0nKSlcbiAgICAgICAgICAgICAgLnRleHQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAvLyBUd28gZGVjaW1hbHMgZm9ybWF0XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoYmFyLnkpLnRvRml4ZWQoMCk7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIC5hdHRyKCd5JywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAvLyBDZW50ZXIgbGFiZWwgdmVydGljYWxseVxuICAgICAgICAgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmdldEJCb3goKS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoYi5hdHRyKCd5JykpIC0gMTA7IC8vIDEwIGlzIHRoZSBsYWJlbCdzIG1hZ2luIGZyb20gdGhlIGJhclxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAuYXR0cigneCcsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgLy8gQ2VudGVyIGxhYmVsIGhvcml6b250YWxseVxuICAgICAgICAgICAgICAgIHZhciB3aWR0aCA9IHRoaXMuZ2V0QkJveCgpLndpZHRoO1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KGIuYXR0cigneCcpKSArIChwYXJzZUZsb2F0KGJhcldpZHRoKSAvIDIpIC0gKHdpZHRoIC8gMik7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdiYXItdmFsdWVzJyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsZWFyTGFiZWxzKCkge1xuICAgICAgICBkMy5zZWxlY3RBbGwoJy5udi1tdWx0aWJhciAubnYtZ3JvdXAnKS5lYWNoKGZ1bmN0aW9uKGdyb3VwKXtcbiAgICAgICAgICB2YXIgZyA9IGQzLnNlbGVjdCh0aGlzKTtcbiAgICAgICAgICAvLyBSZW1vdmUgcHJldmlvdXMgbGFiZWxzIGlmIHRoZXJlIGlzIGFueVxuICAgICAgICAgIGcuc2VsZWN0QWxsKCd0ZXh0JykucmVtb3ZlKCk7XG4gICAgICB9KTtcbiAgICB9XG59XG59KSh3aW5kb3cuYW5ndWxhcik7XG4iLCIoZnVuY3Rpb24gKGFuZ3VsYXIpIHtcbiAgICAvLyAndXNlIHN0cmljdCc7XG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnc2VydmljZXMnKVxuICAgIC5zZXJ2aWNlKCdDb3ZlcmFnZUNhbGN1bGF0b3InLCBDb3ZlcmFnZUNhbGN1bGF0b3IpO1xuXG5mdW5jdGlvbiBDb3ZlcmFnZUNhbGN1bGF0b3IoKSB7XG5cbiAgICB2YXIgc2VydmljZSA9ICB7XG4gICAgICAgICdjYWxjdWxhdGVDb3ZlcmFnZVJhdGUnOiBjYWxjdWxhdGVDb3ZlcmFnZVJhdGUsXG4gICAgICAgICdjYWxjdWxhdGVEcm9wb3V0UmF0ZSc6IGNhbGN1bGF0ZURyb3BvdXRSYXRlLFxuICAgICAgICAnY2FsY3VsYXRlUmVkQ2F0ZWdvcnknOiBjYWxjdWxhdGVSZWRDYXRlZ29yeVxuICAgIH07XG5cbiAgICByZXR1cm4gc2VydmljZTtcblxuICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZUNvdmVyYWdlUmF0ZShjb25zdW1wdGlvbiwgcGxhbm5lZCkge1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCgoY29uc3VtcHRpb24gLyBwbGFubmVkKSAqIDEwMCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2FsY3VsYXRlRHJvcG91dFJhdGUoZmlyc3REb3NlLCBsYXN0RG9zZSkge1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCgoKGZpcnN0RG9zZSAtIGxhc3REb3NlKSAvIGZpcnN0RG9zZSkgKiAxMDApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZVJlZENhdGVnb3J5KGZpcnN0RG9zZSwgbGFzdERvc2UsIHBsYW5uZWQpIHtcbiAgICAgICAgdmFyIGFjY2VzcyA9IGNhbGN1bGF0ZUNvdmVyYWdlUmF0ZShmaXJzdERvc2UsIHBsYW5uZWQpO1xuICAgICAgICB2YXIgZHJvcG91dFJhdGUgPSBjYWxjdWxhdGVEcm9wb3V0UmF0ZShmaXJzdERvc2UsIGxhc3REb3NlKTtcblxuICAgICAgICBpZiAoYWNjZXNzID49IDkwICYmIGRyb3BvdXRSYXRlID49IDAgJiYgZHJvcG91dFJhdGUgPD0gMTApIHJldHVybiAxO1xuICAgICAgICBlbHNlIGlmIChhY2Nlc3MgPj0gOTAgJiYgKGRyb3BvdXRSYXRlIDwgMCB8fCBkcm9wb3V0UmF0ZSA+IDEwKSkgcmV0dXJuIDI7XG4gICAgICAgIGVsc2UgaWYgKGFjY2VzcyA8IDkwICYmIGRyb3BvdXRSYXRlID49IDAgJiYgZHJvcG91dFJhdGUgPD0gMTApIHJldHVybiAzO1xuICAgICAgICBlbHNlIGlmIChhY2Nlc3MgPCA5MCAmJiAoZHJvcG91dFJhdGUgPCAwIHx8IGRyb3BvdXRSYXRlID4gMTApKSByZXR1cm4gNDtcbiAgICAgICAgZWxzZSByZXR1cm4gMDtcbiAgICB9XG59XG59KSh3aW5kb3cuYW5ndWxhcik7XG4iLCIoZnVuY3Rpb24gKGFuZ3VsYXIpIHtcbiAgICAvLyAndXNlIHN0cmljdCc7XG5hbmd1bGFyLm1vZHVsZSgnc2VydmljZXMnKS5zZXJ2aWNlKCdDb3ZlcmFnZVNlcnZpY2UnLCBbJyRodHRwJyxcbiAgICBmdW5jdGlvbigkaHR0cCkge1xuICAgICAgICB2YXIgaGFuZGxlUmVzcG9uc2UgPSBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGdldERISVMyVmFjY2luZURvc2VzID0gZnVuY3Rpb24ocGVyaW9kLCBkaXN0cmljdCwgdmFjY2luZSkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnY292ZXJhZ2UvYXBpL2RoaXMydmFjY2luZWRvc2VzJywge1xuICAgICAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgICAgICBwZXJpb2Q6IHBlcmlvZCxcbiAgICAgICAgICAgICAgICAgICAgdmFjY2luZTogdmFjY2luZSxcbiAgICAgICAgICAgICAgICAgICAgZGlzdHJpY3Q6IGRpc3RyaWN0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkudGhlbihoYW5kbGVSZXNwb25zZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGdldFZhY2NpbmVEb3NlcyA9IGZ1bmN0aW9uKHBlcmlvZCwgdmFjY2luZSkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnY292ZXJhZ2UvYXBpL3ZhY2NpbmVkb3NlcycsIHtcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgcGVyaW9kOiBwZXJpb2QsXG4gICAgICAgICAgICAgICAgICAgIHZhY2NpbmU6IHZhY2NpbmVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KS50aGVuKGhhbmRsZVJlc3BvbnNlKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGdldFJlZFZhY2NpbmVEb3NlcyA9IGZ1bmN0aW9uKHBlcmlvZCwgdmFjY2luZSkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnY292ZXJhZ2UvYXBpL3ZhY2NpbmVkb3NlcycsIHtcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgcGVyaW9kOiBwZXJpb2QsXG4gICAgICAgICAgICAgICAgICAgIHZhY2NpbmU6IHZhY2NpbmVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KS50aGVuKGhhbmRsZVJlc3BvbnNlKTtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIHZhciBnZXRWYWNjaW5lRG9zZXNCeURpc3RyaWN0ID0gZnVuY3Rpb24ocGVyaW9kLCBkaXN0cmljdCwgdmFjY2luZSkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnY292ZXJhZ2UvYXBpL3ZhY2NpbmVkb3NlcycsIHtcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgcGVyaW9kOiBwZXJpb2QsXG4gICAgICAgICAgICAgICAgICAgIHZhY2NpbmU6IHZhY2NpbmUsXG4gICAgICAgICAgICAgICAgICAgIGRpc3RyaWN0OiBkaXN0cmljdFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLnRoZW4oaGFuZGxlUmVzcG9uc2UpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBnZXRWYWNjaW5lRG9zZXNCeVBlcmlvZCA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnY292ZXJhZ2UvYXBpL3ZhY2NpbmVkb3Nlc19ieV9wZXJpb2QnLCB7XG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0WWVhcjogcGFyYW1zLnN0YXJ0WWVhcixcbiAgICAgICAgICAgICAgICAgICAgZW5kWWVhcjogcGFyYW1zLmVuZFllYXIsXG4gICAgICAgICAgICAgICAgICAgIHZhY2NpbmU6IHBhcmFtcy5hbnRpZ2VuLFxuICAgICAgICAgICAgICAgICAgICBwZXJpb2Q6IHBhcmFtcy5wZXJpb2QsXG4gICAgICAgICAgICAgICAgICAgIGRvc2U6IHBhcmFtcy5kb3NlLFxuICAgICAgICAgICAgICAgICAgICBkaXN0cmljdDogcGFyYW1zLmRpc3RyaWN0LFxuICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogcGFyYW1zLmRhdGFUeXBlLFxuICAgICAgICAgICAgICAgICAgICBlbmFibGVEaXN0cmljdEdyb3VwaW5nOiBwYXJhbXMuZW5hYmxlRGlzdHJpY3RHcm91cGluZ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLnRoZW4oaGFuZGxlUmVzcG9uc2UpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBnZXRVbmVwaUNvdmVyYWdlID0gZnVuY3Rpb24ocGVyaW9kLCBkaXN0cmljdCkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnY292ZXJhZ2UvYXBpL2NvdmVyYWdlYW5udWFsaXplZCcsIHtcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgcGVyaW9kOiBwZXJpb2QsXG5cbiAgICAgICAgICAgICAgICAgICAgZGlzdHJpY3Q6IGRpc3RyaWN0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkudGhlbihoYW5kbGVSZXNwb25zZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGdldERpc3RyaWN0TWFwID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoJ3N0YXRpYy9VZ2FuZGFfYWRtaW4uanNvbicpLnRoZW4oaGFuZGxlUmVzcG9uc2UpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBcImdldERISVMyVmFjY2luZURvc2VzXCI6IGdldERISVMyVmFjY2luZURvc2VzLFxuICAgICAgICAgICAgXCJnZXRWYWNjaW5lRG9zZXNcIjogZ2V0VmFjY2luZURvc2VzLFxuICAgICAgICAgICAgXCJnZXRWYWNjaW5lRG9zZXNCeURpc3RyaWN0XCI6IGdldFZhY2NpbmVEb3Nlc0J5RGlzdHJpY3QsXG4gICAgICAgICAgICBcImdldFZhY2NpbmVEb3Nlc0J5UGVyaW9kXCI6IGdldFZhY2NpbmVEb3Nlc0J5UGVyaW9kLFxuICAgICAgICAgICAgXCJnZXRVbmVwaUNvdmVyYWdlXCI6Z2V0VW5lcGlDb3ZlcmFnZSxcbiAgICAgICAgICAgIFwiZ2V0RGlzdHJpY3RNYXBcIjogZ2V0RGlzdHJpY3RNYXAsXG4gICAgICAgICAgICBcImdldFJlZFZhY2NpbmVEb3Nlc1wiOmdldFJlZFZhY2NpbmVEb3Nlc1xuICAgICAgICB9O1xuICAgIH1cbl0pXG59KSh3aW5kb3cuYW5ndWxhcik7XG4iLCIoZnVuY3Rpb24gKGFuZ3VsYXIpIHtcbiAgICAvLyAndXNlIHN0cmljdCc7XG5hbmd1bGFyLm1vZHVsZSgnc2VydmljZXMnKS5zZXJ2aWNlKCdGaWx0ZXJTZXJ2aWNlJywgWyckaHR0cCcsXG4gICAgZnVuY3Rpb24oJGh0dHApIHtcbiAgICAgICAgdmFyIGhhbmRsZVJlc3BvbnNlID0gZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBnZXRNb250aHMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvbW9udGhzJykudGhlbihoYW5kbGVSZXNwb25zZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGdldERpc3RyaWN0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9kaXN0cmljdHMnKS50aGVuKGhhbmRsZVJlc3BvbnNlKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZ2V0VmFjY2luZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvdmFjY2luZXMvJykudGhlbihoYW5kbGVSZXNwb25zZSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZ2V0RnJpZGdlRGlzdHJpY3RzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCdjb2xkY2hhaW4vYXBpL2Rpc3RyaWN0cycpLnRoZW4oaGFuZGxlUmVzcG9uc2UpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBnZXRGcmlkZ2VDYXJlTGV2ZWxzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCdjb2xkY2hhaW4vYXBpL2NhcmVsZXZlbHMnKS50aGVuKGhhbmRsZVJlc3BvbnNlKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZ2V0RnJpZGdlUXVhcnRlcnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoJ2NvbGRjaGFpbi9hcGkvcXVhcnRlcnMnKS50aGVuKGhhbmRsZVJlc3BvbnNlKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZ2V0TGFzdFBlcmlvZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9sYXN0cGVyaW9kJykudGhlbihoYW5kbGVSZXNwb25zZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGdldFBlcmlvZFJhbmdlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnY292ZXJhZ2UvYXBpL3BlcmlvZF9yYW5nZXMnKS50aGVuKGhhbmRsZVJlc3BvbnNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBnZXRBd3BBY3Rpdml0aWVzPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgncGxhbm5pbmcvYXBpL2F3cGFjdGl2aXRpZXMnKS50aGVuKGhhbmRsZVJlc3BvbnNlKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZ2V0RnVuZEFjdGl2aXRpZXM9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCdwbGFubmluZy9hcGkvZnVuZGFjdGl2aXRpZXMnKS50aGVuKGhhbmRsZVJlc3BvbnNlKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGdldFVuZXBpQ292ZXJhZ2U9ZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoJ2NvdmVyYWdlL2FwaS9jb3ZlcmFnZWFubnVhbGl6ZWQnKS50aGVuKGhhbmRsZVJlc3BvbnNlKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGdldFVuZXBpU3RvY2s9ZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoJ2FwaS9zdG9jay9hdGhhbmRieWRpc3RyaWN0JykudGhlbihoYW5kbGVSZXNwb25zZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGdldFllYXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoJ3BsYW5uaW5nL2FwaS9hY3Rpdml0eXllYXInKS50aGVuKGhhbmRsZVJlc3BvbnNlKTtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBcImdldE1vbnRoc1wiOiBnZXRNb250aHMsXG4gICAgICAgICAgICBcImdldFllYXJcIjogZ2V0WWVhcixcbiAgICAgICAgICAgIFwiZ2V0VmFjY2luZXNcIjogZ2V0VmFjY2luZXMsXG4gICAgICAgICAgICBcImdldERpc3RyaWN0c1wiOiBnZXREaXN0cmljdHMsXG4gICAgICAgICAgICBcImdldEZyaWRnZURpc3RyaWN0c1wiOiBnZXRGcmlkZ2VEaXN0cmljdHMsXG4gICAgICAgICAgICBcImdldEZyaWRnZUNhcmVMZXZlbHNcIjogZ2V0RnJpZGdlQ2FyZUxldmVscyxcbiAgICAgICAgICAgIFwiZ2V0RnJpZGdlUXVhcnRlcnNcIjogZ2V0RnJpZGdlUXVhcnRlcnMsXG4gICAgICAgICAgICBcImdldExhc3RQZXJpb2RcIjogZ2V0TGFzdFBlcmlvZCxcbiAgICAgICAgICAgIFwiZ2V0UGVyaW9kUmFuZ2VzXCI6IGdldFBlcmlvZFJhbmdlcyxcbiAgICAgICAgICAgIFwiZ2V0QXdwQWN0aXZpdGllc1wiOiBnZXRBd3BBY3Rpdml0aWVzLFxuICAgICAgICAgICAgXCJnZXRGdW5kQWN0aXZpdGllc1wiOiBnZXRGdW5kQWN0aXZpdGllcyxcbiAgICAgICAgICAgIFwiZ2V0VW5lcGlDb3ZlcmFnZVwiOmdldFVuZXBpQ292ZXJhZ2UsXG4gICAgICAgICAgICBcImdldFVuZXBpU3RvY2tcIjpnZXRVbmVwaVN0b2NrXG4gICAgICAgIH07XG4gICAgfVxuXSlcblxuYW5ndWxhci5tb2R1bGUoJ3NlcnZpY2VzJykuc2VydmljZSgnTW9udGhTZXJ2aWNlJywgW1xuICAgIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBnZXRNb250aE5hbWUgPSBmdW5jdGlvbihtb250aCkge1xuICAgICAgICAgICAgdmFyIG1vbnRocyA9IHt9O1xuICAgICAgICAgICAgbW9udGhzWycxJ10gPSBcIkphblwiO1xuICAgICAgICAgICAgbW9udGhzWycyJ10gPSBcIkZlYlwiO1xuICAgICAgICAgICAgbW9udGhzWyczJ10gPSBcIk1hclwiO1xuICAgICAgICAgICAgbW9udGhzWyc0J10gPSBcIkFwclwiO1xuICAgICAgICAgICAgbW9udGhzWyc1J10gPSBcIk1heVwiO1xuICAgICAgICAgICAgbW9udGhzWyc2J10gPSBcIkp1blwiO1xuICAgICAgICAgICAgbW9udGhzWyc3J10gPSBcIkp1bFwiO1xuICAgICAgICAgICAgbW9udGhzWyc4J10gPSBcIkF1Z1wiO1xuICAgICAgICAgICAgbW9udGhzWyc5J10gPSBcIlNlcFwiO1xuICAgICAgICAgICAgbW9udGhzWycxMCddID0gXCJPY3RcIjtcbiAgICAgICAgICAgIG1vbnRoc1snMTEnXSA9IFwiTm92XCI7XG4gICAgICAgICAgICBtb250aHNbJzEyJ10gPSBcIkRlY1wiO1xuICAgICAgICAgICAgcmV0dXJuIG1vbnRoc1ttb250aF07XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGdldE1vbnRoTnVtYmVyID0gZnVuY3Rpb24obW9udGgpIHtcbiAgICAgICAgICAgIHZhciBtb250aHMgPSB7fTtcbiAgICAgICAgICAgIG1vbnRoc1snSmFuJ10gPSAxO1xuICAgICAgICAgICAgbW9udGhzWydGZWInXSA9IDI7XG4gICAgICAgICAgICBtb250aHNbJ01hciddID0gMztcbiAgICAgICAgICAgIG1vbnRoc1snQXByJ10gPSA0O1xuICAgICAgICAgICAgbW9udGhzWydNYXknXSA9IDU7XG4gICAgICAgICAgICBtb250aHNbJ0p1biddID0gNjtcbiAgICAgICAgICAgIG1vbnRoc1snSnVsJ10gPSA3O1xuICAgICAgICAgICAgbW9udGhzWydBdWcnXSA9IDg7XG4gICAgICAgICAgICBtb250aHNbJ1NlcCddID0gOTtcbiAgICAgICAgICAgIG1vbnRoc1snT2N0J10gPSAxMDtcbiAgICAgICAgICAgIG1vbnRoc1snTm92J10gPSAxMTtcbiAgICAgICAgICAgIG1vbnRoc1snRGVjJ10gPSAxMjtcbiAgICAgICAgICAgIHJldHVybiBtb250aHNbbW9udGhdO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBtb250aFRvRGF0ZSA9IGZ1bmN0aW9uKG1vbnRoWWVhcikge1xuICAgICAgICAgICAgdmFyIHBhcnRzID0gbW9udGhZZWFyLnNwbGl0KFwiIFwiKTtcbiAgICAgICAgICAgIHZhciBtb250aCA9IGdldE1vbnRoTnVtYmVyKHBhcnRzWzBdKTtcbiAgICAgICAgICAgIHZhciB5ZWFyID0gcGFyc2VJbnQocGFydHNbMV0pO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHllYXIsIG1vbnRoLCAxKTtcbiAgICAgICAgfTtcblxuICAgICAgICBtb250aERpZmYgPSBmdW5jdGlvbiAoc3RhcnREYXRlLCBlbmREYXRlKSB7XG4gICAgICAgICAgICB2YXIgbW9udGhzO1xuICAgICAgICAgICAgbW9udGhzID0gKGVuZERhdGUuZ2V0RnVsbFllYXIoKSAtIHN0YXJ0RGF0ZS5nZXRGdWxsWWVhcigpKSAqIDEyO1xuICAgICAgICAgICAgbW9udGhzIC09IHN0YXJ0RGF0ZS5nZXRNb250aCgpICsgMTtcbiAgICAgICAgICAgIG1vbnRocyArPSBlbmREYXRlLmdldE1vbnRoKCk7XG4gICAgICAgICAgICByZXR1cm4gbW9udGhzIDw9IDAgPyAwIDogbW9udGhzO1xuICAgICAgICB9O1xuXG4gICAgICAgIG1vbnRoUmFuZ2VEaWZmID0gZnVuY3Rpb24gKHN0YXJ0RGF0ZSwgZW5kRGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIG1vbnRoRGlmZihtb250aFRvRGF0ZShzdGFydERhdGUpLCBtb250aFRvRGF0ZShlbmREYXRlKSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFwiZ2V0TW9udGhOYW1lXCI6IGdldE1vbnRoTmFtZSxcbiAgICAgICAgICAgIFwiZ2V0TW9udGhOdW1iZXJcIjogZ2V0TW9udGhOdW1iZXIsXG4gICAgICAgICAgICBcIm1vbnRoVG9EYXRlXCI6IG1vbnRoVG9EYXRlLFxuICAgICAgICAgICAgXCJtb250aERpZmZcIjogbW9udGhEaWZmLFxuICAgICAgICAgICAgXCJtb250aFJhbmdlRGlmZlwiOiBtb250aFJhbmdlRGlmZixcbiAgICAgICAgfTtcbiAgICB9XG5dKVxufSkod2luZG93LmFuZ3VsYXIpO1xuIiwiKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG4gICAgLy8gJ3VzZSBzdHJpY3QnO1xuYW5ndWxhci5tb2R1bGUoJ3NlcnZpY2VzJykuc2VydmljZSgnRnJpZGdlU2VydmljZScsIFsnJGh0dHAnLFxuICAgIGZ1bmN0aW9uKCRodHRwKSB7XG4gICAgICAgIHZhciBoYW5kbGVSZXNwb25zZSA9IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZ2V0RnJpZGdlQ2FwYWNpdHkgPSBmdW5jdGlvbihzdGFydFF1YXJ0ZXIsIGVuZFF1YXJ0ZXIsIGRpc3RyaWN0LCBjYXJlbGV2ZWwpIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoJ2NvbGRjaGFpbi9hcGkvY2FwYWNpdGllcycsIHtcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRRdWFydGVyOiBzdGFydFF1YXJ0ZXIsXG4gICAgICAgICAgICAgICAgICAgIGVuZFF1YXJ0ZXI6IGVuZFF1YXJ0ZXIsXG4gICAgICAgICAgICAgICAgICAgIGRpc3RyaWN0OiBkaXN0cmljdCxcbiAgICAgICAgICAgICAgICAgICAgY2FyZWxldmVsOiBjYXJlbGV2ZWxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KS50aGVuKGhhbmRsZVJlc3BvbnNlKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZ2V0RnJpZGdlRGlzdHJpY3RDYXBhY2l0eSA9IGZ1bmN0aW9uKHN0YXJ0UXVhcnRlciwgZW5kUXVhcnRlciwgZGlzdHJpY3QsIGNhcmVsZXZlbCkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnY29sZGNoYWluL2FwaS9kaXN0cmljdGNhcGFjaXRpZXMnLCB7XG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0UXVhcnRlcjogc3RhcnRRdWFydGVyLFxuICAgICAgICAgICAgICAgICAgICBlbmRRdWFydGVyOiBlbmRRdWFydGVyLFxuICAgICAgICAgICAgICAgICAgICBkaXN0cmljdDogZGlzdHJpY3QsXG4gICAgICAgICAgICAgICAgICAgIGNhcmVsZXZlbDogY2FyZWxldmVsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkudGhlbihoYW5kbGVSZXNwb25zZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGdldEZyaWRnZUZhY2lsaXR5Q2FwYWNpdHkgPSBmdW5jdGlvbihzdGFydFF1YXJ0ZXIsIGVuZFF1YXJ0ZXIsIGRpc3RyaWN0LCBjYXJlbGV2ZWwpIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoJ2NvbGRjaGFpbi9hcGkvZmFjaWxpdHljYXBhY2l0aWVzJywge1xuICAgICAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgICAgICBzdGFydFF1YXJ0ZXI6IHN0YXJ0UXVhcnRlcixcbiAgICAgICAgICAgICAgICAgICAgZW5kUXVhcnRlcjogZW5kUXVhcnRlcixcbiAgICAgICAgICAgICAgICAgICAgZGlzdHJpY3Q6IGRpc3RyaWN0LFxuICAgICAgICAgICAgICAgICAgICBjYXJlbGV2ZWw6IGNhcmVsZXZlbFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLnRoZW4oaGFuZGxlUmVzcG9uc2UpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBnZXRGcmlkZ2VGdW5jdGlvbmFsaXR5ID0gZnVuY3Rpb24oc3RhcnRRdWFydGVyLCBlbmRRdWFydGVyLCBkaXN0cmljdCwgY2FyZWxldmVsKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCdjb2xkY2hhaW4vYXBpL3JlZnJpZ2VyYXRvcnMnLCB7XG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0UXVhcnRlcjogc3RhcnRRdWFydGVyLFxuICAgICAgICAgICAgICAgICAgICBlbmRRdWFydGVyOiBlbmRRdWFydGVyLFxuICAgICAgICAgICAgICAgICAgICBkaXN0cmljdDogZGlzdHJpY3QsXG4gICAgICAgICAgICAgICAgICAgIGNhcmVsZXZlbDogY2FyZWxldmVsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkudGhlbihoYW5kbGVSZXNwb25zZSk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBnZXRGcmlkZ2VEaXN0cmljdFJlZnJpZ2VyYXRvciA9IGZ1bmN0aW9uKHN0YXJ0UXVhcnRlciwgZW5kUXVhcnRlciwgZGlzdHJpY3QsIGNhcmVsZXZlbCkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnY29sZGNoYWluL2FwaS9kaXN0cmljdHJlZnJpZ2VyYXRvcnMnLCB7XG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0UXVhcnRlcjogc3RhcnRRdWFydGVyLFxuICAgICAgICAgICAgICAgICAgICBlbmRRdWFydGVyOiBlbmRRdWFydGVyLFxuICAgICAgICAgICAgICAgICAgICBkaXN0cmljdDogZGlzdHJpY3QsXG4gICAgICAgICAgICAgICAgICAgIGNhcmVsZXZlbDogY2FyZWxldmVsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkudGhlbihoYW5kbGVSZXNwb25zZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGdldEZyaWRnZUZhY2lsaXR5UmVmcmlnZXJhdG9yID0gZnVuY3Rpb24oc3RhcnRRdWFydGVyLCBlbmRRdWFydGVyLCBkaXN0cmljdCwgY2FyZWxldmVsKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCdjb2xkY2hhaW4vYXBpL2ZhY2lsaXR5cmVmcmlnZXJhdG9ycycsIHtcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRRdWFydGVyOiBzdGFydFF1YXJ0ZXIsXG4gICAgICAgICAgICAgICAgICAgIGVuZFF1YXJ0ZXI6IGVuZFF1YXJ0ZXIsXG4gICAgICAgICAgICAgICAgICAgIGRpc3RyaWN0OiBkaXN0cmljdCxcbiAgICAgICAgICAgICAgICAgICAgY2FyZWxldmVsOiBjYXJlbGV2ZWxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KS50aGVuKGhhbmRsZVJlc3BvbnNlKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZ2V0RnJpZGdlSW1tdW5pemluZ0ZhY2lsaXR5ID0gZnVuY3Rpb24oc3RhcnRRdWFydGVyLCBlbmRRdWFydGVyLCBkaXN0cmljdCwgY2FyZWxldmVsKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCdjb2xkY2hhaW4vYXBpL2ltbXVuaXppbmdmYWNpbGl0aWVzJywge1xuICAgICAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgICAgICBzdGFydFF1YXJ0ZXI6IHN0YXJ0UXVhcnRlcixcbiAgICAgICAgICAgICAgICAgICAgZW5kUXVhcnRlcjogZW5kUXVhcnRlcixcbiAgICAgICAgICAgICAgICAgICAgZGlzdHJpY3Q6IGRpc3RyaWN0LFxuICAgICAgICAgICAgICAgICAgICBjYXJlbGV2ZWw6IGNhcmVsZXZlbFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLnRoZW4oaGFuZGxlUmVzcG9uc2UpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgZ2V0RnJpZGdlRGlzdHJpY3RJbW11bml6aW5nRmFjaWxpdHkgPSBmdW5jdGlvbihzdGFydFF1YXJ0ZXIsIGVuZFF1YXJ0ZXIsIGRpc3RyaWN0LCBjYXJlbGV2ZWwpIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoJ2NvbGRjaGFpbi9hcGkvZGlzdHJpY3RpbW11bml6aW5nZmFjaWxpdGllcycsIHtcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRRdWFydGVyOiBzdGFydFF1YXJ0ZXIsXG4gICAgICAgICAgICAgICAgICAgIGVuZFF1YXJ0ZXI6IGVuZFF1YXJ0ZXIsXG4gICAgICAgICAgICAgICAgICAgIGRpc3RyaWN0OiBkaXN0cmljdCxcbiAgICAgICAgICAgICAgICAgICAgY2FyZWxldmVsOiBjYXJlbGV2ZWxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KS50aGVuKGhhbmRsZVJlc3BvbnNlKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZ2V0RnJpZGdlQ2FwYWNpdHlNZXRyaWNzID0gZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgdmFyIHN1cnAgPSAwO1xuICAgICAgICAgICAgdmFyIHN1ZmZpY2llbnQgPSAwO1xuICAgICAgICAgICAgdmFyIHNob3J0YWdlID0gMDtcblxuICAgICAgICAgICAgZm9yKHZhciBpPTA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgICAgICB2YXIgc3VycGx1c1ZhbHVlID0gZGF0YVtpXS5zdXJwbHVzXG4gICAgICAgICAgICAgICAgaWYgKHN1cnBsdXNWYWx1ZSA+IDMwKSBzdXJwKys7XG4gICAgICAgICAgICAgICAgZWxzZSBpZihzdXJwbHVzVmFsdWUgPDMwICYmIHN1cnBsdXNWYWx1ZSA+PSAwKSBzdWZmaWNpZW50Kys7XG4gICAgICAgICAgICAgICAgZWxzZSBpZihzdXJwbHVzVmFsdWUgPCAwKSBzaG9ydGFnZSsrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICdzdXJwbHVzJzogc3VycCxcbiAgICAgICAgICAgICAgICAnc3VmZmljaWVudCc6IHN1ZmZpY2llbnQsXG4gICAgICAgICAgICAgICAgJ3Nob3J0YWdlJzogc2hvcnRhZ2UsXG4gICAgICAgICAgICAgICAgJ3RvdGFsJzogc3VycCArIHN1ZmZpY2llbnQgKyBzaG9ydGFnZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgXCJnZXRGcmlkZ2VDYXBhY2l0eVwiOiBnZXRGcmlkZ2VDYXBhY2l0eSxcbiAgICAgICAgICAgIFwiZ2V0RnJpZGdlRGlzdHJpY3RDYXBhY2l0eVwiOiBnZXRGcmlkZ2VEaXN0cmljdENhcGFjaXR5LFxuICAgICAgICAgICAgXCJnZXRGcmlkZ2VGYWNpbGl0eUNhcGFjaXR5XCI6IGdldEZyaWRnZUZhY2lsaXR5Q2FwYWNpdHksXG4gICAgICAgICAgICBcImdldEZyaWRnZUZ1bmN0aW9uYWxpdHlcIjogZ2V0RnJpZGdlRnVuY3Rpb25hbGl0eSxcbiAgICAgICAgICAgIFwiZ2V0RnJpZGdlSW1tdW5pemluZ0ZhY2lsaXR5XCI6IGdldEZyaWRnZUltbXVuaXppbmdGYWNpbGl0eSxcbiAgICAgICAgICAgIFwiZ2V0RnJpZGdlRGlzdHJpY3RSZWZyaWdlcmF0b3JcIjpnZXRGcmlkZ2VEaXN0cmljdFJlZnJpZ2VyYXRvcixcbiAgICAgICAgICAgIFwiZ2V0RnJpZGdlRmFjaWxpdHlSZWZyaWdlcmF0b3JcIjpnZXRGcmlkZ2VGYWNpbGl0eVJlZnJpZ2VyYXRvcixcbiAgICAgICAgICAgIFwiZ2V0RnJpZGdlRGlzdHJpY3RJbW11bml6aW5nRmFjaWxpdHlcIjpnZXRGcmlkZ2VEaXN0cmljdEltbXVuaXppbmdGYWNpbGl0eSxcbiAgICAgICAgICAgIFwiZ2V0RnJpZGdlQ2FwYWNpdHlNZXRyaWNzXCI6IGdldEZyaWRnZUNhcGFjaXR5TWV0cmljc1xuICAgICAgICB9O1xuICAgIH1cbl0pXG59KSh3aW5kb3cuYW5ndWxhcik7XG4iLCIoZnVuY3Rpb24gKGFuZ3VsYXIpIHtcbiAgICAvLyAndXNlIHN0cmljdCc7XG5hbmd1bGFyLm1vZHVsZSgnZGFzaGJvYXJkJylcbiAgICAuY29udHJvbGxlcignTWFpbkNvbnRyb2xsZXInLCBbJyRzY29wZScsICdGaWx0ZXJTZXJ2aWNlJywgJ01vbnRoU2VydmljZScsICckcm9vdFNjb3BlJywgJyRsb2NhdGlvbicsXG4gICAgZnVuY3Rpb24oJHNjb3BlLCBGaWx0ZXJTZXJ2aWNlLCBNb250aFNlcnZpY2UsICRyb290U2NvcGUsICRsb2NhdGlvbilcbiAgICB7XG4gICAgICAgICRzY29wZS5zb3J0VHlwZSAgICAgPSAnbmFtZSc7IC8vIHNldCB0aGUgZGVmYXVsdCBzb3J0IHR5cGVcbiAgICAgICAgJHNjb3BlLnNvcnRSZXZlcnNlICA9IGZhbHNlOyAgLy8gc2V0IHRoZSBkZWZhdWx0IHNvcnQgb3JkZXJcbiAgICAgICAgJHNjb3BlLnNlYXJjaFRleHQgICA9ICcnOyAgICAgLy8gc2V0IHRoZSBkZWZhdWx0IHNlYXJjaC9maWx0ZXIgdGVybVxuXG4gICAgICAgICRzY29wZS5yb290ID0ge307XG4gICAgICAgIHZhciBzaGVsbCA9IHRoaXM7XG5cbiAgICAgICAgLy89PT0gU3RvY2sgTWFuYWdlbWVudCA9PT09PT09XG4gICAgICAgIHNoZWxsLnN0YXJ0TW9udGggPSBzaGVsbC5zdGFydE1vbnRoID8gc2hlbGwuc3RhcnRNb250aC5uYW1lIDogXCJOb3YgMjAxNVwiO1xuICAgICAgICBzaGVsbC5lbmRNb250aCA9IHNoZWxsLmVuZE1vbnRoID8gc2hlbGwuZW5kTW9udGgubmFtZSA6IFwiRGVjIDIwMTVcIjtcbiAgICAgICAgc2hlbGwuc2VsZWN0ZWRWYWNjaW5lID0gXCJcIjtcbiAgICAgICAgc2hlbGwuc2VsZWN0ZWREaXN0cmljdCA9IFwiXCI7XG4gICAgICAgIHNoZWxsLmRlZmF1bHRQZXJpb2QgPSBcIlwiO1xuXG4gICAgICAgIEZpbHRlclNlcnZpY2UuZ2V0TW9udGhzKCkudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICBzaGVsbC5tb250aHMgPSBkYXRhO1xuICAgICAgICAgICAgc2hlbGwuc3RhcnRNb250aCA9IHNoZWxsLm1vbnRoc1swXTtcbiAgICAgICAgICAgIC8vc2hlbGwuZW5kTW9udGggPSBzaGVsbC5tb250aHNbZGVmYXVsdE1vbnRoXTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQWRkIEFudGlnZW4gZmlsdGVycyB2YWx1ZXNcbiAgICAgICAgdmFyIGFudGlnZW5zID0ge1xuICAgICAgICAgICAgXCJBTExcIjogW10sXG4gICAgICAgICAgICBcIkhQVlwiOiBbXCJIUFYxXCIsIFwiSFBWMlwiXSxcbiAgICAgICAgICAgIFwiRFBUXCI6IFtcIkRQVDFcIiwgXCJEUFQyXCIsIFwiRFBUM1wiXSxcbiAgICAgICAgICAgIFwiUENWXCI6IFtcIlBDVjFcIiwgXCJQQ1YyXCIsIFwiUENWM1wiXSxcbiAgICAgICAgICAgIFwiSVBWXCI6IFtdLFxuICAgICAgICAgICAgXCJPUFZcIjogW1wiT1BWMVwiLCBcIk9QVjJcIiwgXCJPUFYzXCJdLFxuICAgICAgICAgICAgXCJCQ0dcIjogW10sXG4gICAgICAgICAgICBcIk1FQVNMRVNcIjogW10sXG4gICAgICAgICAgICBcIlRUXCI6IFtcIlRUMVwiLCBcIlRUMlwiXVxuICAgICAgICB9XG5cbiAgICAgICAgc2hlbGwudXBkYXRlRG9zZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNoZWxsLmRvc2UgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBzaGVsbC5kb3NlcyA9IFsnRG9zZSAxJywgJ0Rvc2UgMicsICdEb3NlIDMnXTsvL2FudGlnZW5zW3NoZWxsLmFudGlnZW5dXG5cbiAgICAgICAgICAgIGlmIChzaGVsbC5kb3Nlcy5sZW5ndGggIT0gMCkge1xuICAgICAgICAgICAgICAgIHNoZWxsLmRvc2UgPSBzaGVsbC5kb3Nlc1tzaGVsbC5kb3Nlcy5sZW5ndGgtMV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgc2hlbGwuYW50aWdlbnMgPSBPYmplY3Qua2V5cyhhbnRpZ2Vucyk7XG5cbiAgICAgICAgaWYgKCRsb2NhdGlvbi5wYXRoKCkgPT0gJy9jb3ZlcmFnZS9yZWRjYXRlZ29yeScpIHtcbiAgICAgICAgICAgIHNoZWxsLmFudGlnZW4gPSBcIkRQVFwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2hlbGwuYW50aWdlbiA9IFwiQUxMXCI7XG4gICAgICAgIH1cbiAgICAgICAgc2hlbGwudXBkYXRlRG9zZXMoKTtcblxuICAgICAgICBGaWx0ZXJTZXJ2aWNlLmdldFBlcmlvZFJhbmdlcygpLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgc2hlbGwuY292ZXJhZ2VZZWFycyA9IGRhdGEueWVhcnNcbiAgICAgICAgICAgIHNoZWxsLnN0YXJ0WWVhciA9IGRhdGEueWVhcnNbZGF0YS55ZWFycy5sZW5ndGgtMV1cbiAgICAgICAgICAgIHNoZWxsLmVuZFllYXIgPSBkYXRhLnllYXJzW2RhdGEueWVhcnMubGVuZ3RoLTFdXG4gICAgICAgICAgICBzaGVsbC5hY3RpdmVDb3ZlcmFnZVllYXIgPSBkYXRhLnllYXJzW2RhdGEueWVhcnMubGVuZ3RoLTFdXG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBGaWx0ZXJTZXJ2aWNlLmdldExhc3RQZXJpb2QoKS50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgIHNoZWxsLmRlZmF1bHRQZXJpb2QgPSBkYXRhO1xuICAgICAgICAgICAgc2hlbGwuZGVmYXVsdE1vbnRoID0gcGFyc2VJbnQoZGF0YS5wZXJpb2QudG9TdHJpbmcoKS5zdWJzdHJpbmcoNCwgNikpO1xuICAgICAgICAgICAgJHNjb3BlLmRlZmF1bHRNb250aCA9IHNoZWxsLmRlZmF1bHRNb250aDtcbiAgICAgICAgICAgICRzY29wZS5kZWZhdWx0UGVyaW9kID0gZGF0YS5wZXJpb2QudG9TdHJpbmcoKTtcblxuICAgICAgICAgICAgdmFyIHBlcmlvZCA9IGRhdGEucGVyaW9kLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB2YXIgbW9udGhfbnVtYmVyID0gcGFyc2VJbnQocGVyaW9kLnN1YnN0cmluZyg0LDYpKTtcbiAgICAgICAgICAgIHZhciBtb250aF9sYWJlbCA9IE1vbnRoU2VydmljZS5nZXRNb250aE5hbWUobW9udGhfbnVtYmVyKTtcbiAgICAgICAgICAgIC8vc2hlbGwuZW5kTW9udGggPSB7eWVhcjpwZXJpb2Quc3Vic3RyaW5nKDAsNCksIHBlcmlvZDpwZXJpb2QsIG5hbWU6bW9udGhfbGFiZWwsIG1vbnRoOm1vbnRoX251bWJlciwgXCIkJGhhc2hLZXlcIjpcIm9iamVjdDoxODZcIn1cbiAgICAgICAgICAgIC8vc2hlbGwuZW5kTW9udGggPSBzaGVsbC5tb250aHNbc2hlbGwuZGVmYXVsdE1vbnRoLTFdO1xuXG4gICAgICAgICAgICB2YXIgZW5kTW9udGhJbmRleCA9IDA7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgaW4gc2hlbGwubW9udGhzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNoZWxsLm1vbnRoc1tpXS5wZXJpb2QgPT0gcGVyaW9kKSB7XG4gICAgICAgICAgICAgICAgICAgIHNoZWxsLmVuZE1vbnRoID0gc2hlbGwubW9udGhzW2ldO1xuICAgICAgICAgICAgICAgICAgICBlbmRNb250aEluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL3NldCB0aGUgc3RhcnQgcGVyaW9kIHRvIDYgbW9udGhzIGJhY2sgYnkgZGVmYXVsdFxuICAgICAgICAgICAgdmFyIHN0YXJ0TW9udGhJbmRleCA9IChlbmRNb250aEluZGV4IC0gNikgKyAxO1xuICAgICAgICAgICAgaWYgKHN0YXJ0TW9udGhJbmRleCA8IDApIHtcbiAgICAgICAgICAgICAgICBzdGFydE1vbnRoSW5kZXggPSAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc2hlbGwubW9udGhzICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHNoZWxsLnN0YXJ0TW9udGggPSBzaGVsbC5tb250aHNbc3RhcnRNb250aEluZGV4XTtcbiAgICAgICAgICAgIH1cblxuXG5cblxuXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiZGVyZVwiK0pTT04uc3RyaW5naWZ5KHNoZWxsLm1vbnRoc1sxM10pKTtcblxuICAgICAgICB9KTtcblxuICAgICAgICBzaGVsbC5zdG9ja2F0aGFuZCA9IDA7XG5cblxuXG4gICAgICAgIEZpbHRlclNlcnZpY2UuZ2V0RGlzdHJpY3RzKCkudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICB2YXIgZGlzdHJpY3RTcGVjaWZpY1BhdGhzID0gW1xuICAgICAgICAgICAgICAgICcvc3RvY2svZGlzdHJpYnV0aW9uJyxcbiAgICAgICAgICAgICAgICAvLyAnL3N0b2NrL3VwdGFrZXJhdGUnLFxuICAgICAgICAgICAgICAgIC8vICcvdW5lcGkvZG93bmxvYWQnXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgaWYgKGRpc3RyaWN0U3BlY2lmaWNQYXRocy5pbmRleE9mKCRsb2NhdGlvbi5wYXRoKCkpID09IC0xKSB7XG4gICAgICAgICAgICAgICAgZGF0YS51bnNoaWZ0KHsnbmFtZSc6ICdOYXRpb25hbCd9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2hlbGwuZGlzdHJpY3RzID0gZGF0YTtcbiAgICAgICAgICAgIHNoZWxsLnNlbGVjdGVkRGlzdHJpY3QgPSBzaGVsbC5kaXN0cmljdHNbMF07XG4gICAgICAgICAgICBzaGVsbC5kaXN0cmljdCA9IHNoZWxsLmRpc3RyaWN0c1swXS5uYW1lO1xuICAgICAgICB9KTtcblxuICAgICAgICBGaWx0ZXJTZXJ2aWNlLmdldFZhY2NpbmVzKCkudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICBzaGVsbC52YWNjaW5lcyA9IGRhdGE7XG4gICAgICAgICAgICBzaGVsbC5zZWxlY3RlZFZhY2NpbmUgPSBzaGVsbC52YWNjaW5lc1s1XTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy89PT09IEVuZCBTdG9jayBNYW5hZ2VtZW50ID09PT09XG5cblxuICAgICAgICAvLz09PT09PT09UGxhbm5pbmc9PT09PT09PT1cbiAgICAgICAgc2hlbGwuc2VsZWN0ZWRZZWFyID0gXCJcIjtcbiAgICAgICAgRmlsdGVyU2VydmljZS5nZXRZZWFyKCkudGhlbihmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgIHNoZWxsLnllYXJzID0gZGF0YTtcbiAgICAgICAgICAgIHNoZWxsLnNlbGVjdGVkWWVhciA9IHNoZWxsLnllYXJzWzBdO1xuICAgICAgICB9KTtcblxuXG4gICAgICAgIC8vPT09IENvbGQgY2hhaW4gPT09PT09XG4gICAgICAgIHNoZWxsLnN0YXJ0UXVhcnRlciA9IHNoZWxsLnN0YXJ0UXVhcnRlciA/IHNoZWxsLnN0YXJ0UXVhcnRlci5uYW1lIDogXCIyMDE2MDFcIjtcbiAgICAgICAgc2hlbGwuZW5kUXVhcnRlciA9IHNoZWxsLmVuZFF1YXJ0ZXIgPyBzaGVsbC5lbmRRdWFydGVyLm5hbWUgOiBcIjIwMTYwM1wiO1xuICAgICAgICBzaGVsbC5zZWxlY3RlZEZyaWRnZURpc3RyaWN0ID0gXCJcIjtcbiAgICAgICAgc2hlbGwuc2VsZWN0ZWRGcmlkZ2VDYXJlTGV2ZWwgPSBcIlwiO1xuXG5cbiAgICAgICAgRmlsdGVyU2VydmljZS5nZXRGcmlkZ2VEaXN0cmljdHMoKS50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgIHNoZWxsLmZyaWRnZURpc3RyaWN0cyA9IGRhdGE7XG4gICAgICAgICAgICBzaGVsbC5zZWxlY3RlZEZyaWRnZURpc3RyaWN0ID0gc2hlbGwuZnJpZGdlRGlzdHJpY3RzWzBdO1xuICAgICAgICB9KTtcblxuICAgICAgICBGaWx0ZXJTZXJ2aWNlLmdldEZyaWRnZUNhcmVMZXZlbHMoKS50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgIHNoZWxsLmZyaWRnZUNhcmVMZXZlbHMgPSBkYXRhO1xuICAgICAgICAgICAgLy9zaGVsbC5zZWxlY3RlZEZyaWRnZUNhcmVMZXZlbCA9IHNoZWxsLmZyaWRnZUNhcmVMZXZlbHNbMF07XG4gICAgICAgIH0pO1xuXG4gICAgICAgIEZpbHRlclNlcnZpY2UuZ2V0RnJpZGdlUXVhcnRlcnMoKS50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgIHNoZWxsLmZyaWRnZVF1YXJ0ZXJzID0gZGF0YTtcbiAgICAgICAgICAgLy8gc2hlbGwuc2VsZWN0ZWRGcmlkZ2VRdWFydGVyID0gc2hlbGwuZnJpZGdlUXVhcnRlcnNbM107XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vPT09PSBFbmQgQ29sZCBDaGFpbiA9PT09PT09XG5cblxuLy8gICAgICAgICRzY29wZS4kd2F0Y2goJ3NoZWxsLmVuZE1vbnRoJywgZnVuY3Rpb24oKSB7XG4vLyAgICAgICAgICAgIGlmIChzaGVsbC5lbmRNb250aCkge1xuLy8gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdyZWZyZXNoJywgc2hlbGwuc3RhcnRNb250aCwgc2hlbGwuZW5kTW9udGgsIHNoZWxsLnNlbGVjdGVkRGlzdHJpY3QsIHNoZWxsLnNlbGVjdGVkVmFjY2luZSk7XG4vLyAgICAgICAgICAgIH1cbi8vICAgICAgICB9LCB0cnVlKTtcblxuICAgICAgICAkc2NvcGUuJHdhdGNoR3JvdXAoWydzaGVsbC5lbmRNb250aCcsICdzaGVsbC5zZWxlY3RlZFZhY2NpbmUnLCAnc2hlbGwuc2VsZWN0ZWREaXN0cmljdCddLCBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgaWYoZGF0YVswXSAmJiBkYXRhWzFdICYmIGRhdGFbMl0pe1xuICAgICAgICAgICAgICAgIGlmIChzaGVsbC5lbmRNb250aCkge1xuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ3JlZnJlc2gnLCBzaGVsbC5zdGFydE1vbnRoLCBzaGVsbC5lbmRNb250aCwgc2hlbGwuc2VsZWN0ZWREaXN0cmljdCwgc2hlbGwuc2VsZWN0ZWRWYWNjaW5lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRzY29wZS4kd2F0Y2hHcm91cChcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAnc2hlbGwuc3RhcnRZZWFyJyxcbiAgICAgICAgICAgICAgICAnc2hlbGwuZW5kWWVhcicsXG4gICAgICAgICAgICAgICAgJ3NoZWxsLmFjdGl2ZUNvdmVyYWdlWWVhcicsXG4gICAgICAgICAgICAgICAgJ3NoZWxsLmFudGlnZW4nLFxuICAgICAgICAgICAgICAgICdzaGVsbC5kb3NlJyxcbiAgICAgICAgICAgICAgICAnc2hlbGwuZGlzdHJpY3QnXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICAgICAgaWYoZGF0YVswXSl7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaGVsbC5lbmRNb250aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdyZWZyZXNoQ292ZXJhZ2UyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGVsbC5lbmRNb250aCwgLy9CYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoZWxsLnN0YXJ0WWVhcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGVsbC5lbmRZZWFyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoZWxsLmFjdGl2ZUNvdmVyYWdlWWVhcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGVsbC5hbnRpZ2VuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoZWxsLmRvc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hlbGwuZGlzdHJpY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgncmVmcmVzaENvdmVyYWdlMycsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRNb250aDogc2hlbGwuZW5kTW9udGgsIC8vQmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydFllYXI6IHNoZWxsLnN0YXJ0WWVhcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRZZWFyOiBzaGVsbC5lbmRZZWFyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUNvdmVyYWdlWWVhcjogc2hlbGwuYWN0aXZlQ292ZXJhZ2VZZWFyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFudGlnZW46IHNoZWxsLmFudGlnZW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9zZTogc2hlbGwuZG9zZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXN0cmljdDogc2hlbGwuZGlzdHJpY3RcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRydWVcbiAgICAgICAgKTtcblxuICAgICAgICAkc2NvcGUuJHdhdGNoKCdzaGVsbC5lbmRRdWFydGVyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoc2hlbGwuZW5kUXVhcnRlcikge1xuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgncmVmcmVzaENhcGFjaXR5Jywgc2hlbGwuc3RhcnRRdWFydGVyLCBzaGVsbC5lbmRRdWFydGVyLCBzaGVsbC5zZWxlY3RlZEZyaWRnZURpc3RyaWN0LCBzaGVsbC5zZWxlY3RlZEZyaWRnZUNhcmVMZXZlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRydWUpO1xuXG4gICAgICAgICRzY29wZS4kd2F0Y2hHcm91cChbJ3NoZWxsLmVuZFF1YXJ0ZXInLCAnc2hlbGwuc2VsZWN0ZWRGcmlkZ2VEaXN0cmljdCcsICdzaGVsbC5zZWxlY3RlZEZyaWRnZUNhcmVMZXZlbCddLCBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgIGlmKGRhdGFbMF0gJiYgZGF0YVsxXSl7XG4gICAgICAgICAgICAgICAgaWYgKHNoZWxsLmVuZFF1YXJ0ZXIgJiYgc2hlbGwuc2VsZWN0ZWRGcmlkZ2VEaXN0cmljdCkge1xuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ3JlZnJlc2hDYXBhY2l0eScsIHNoZWxsLnN0YXJ0UXVhcnRlciwgc2hlbGwuZW5kUXVhcnRlciwgc2hlbGwuc2VsZWN0ZWRGcmlkZ2VEaXN0cmljdCwgc2hlbGwuc2VsZWN0ZWRGcmlkZ2VDYXJlTGV2ZWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgICRzY29wZS4kd2F0Y2goJ3NoZWxsLnllYXJzJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGlmIChzaGVsbC5zZWxlY3RlZFllYXIpe1xuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgncmVmcmVzaEF3cCcsIHNoZWxsLnNlbGVjdGVkWWVhcilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdHJ1ZSk7XG5cbiAgICAgICAgJHNjb3BlLiR3YXRjaEdyb3VwKFsnc2hlbGwueWVhcnMnXSwgZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICBpZihkYXRhWzBdICYmIGRhdGFbMV0pe1xuICAgICAgICAgICAgICAgIGlmIChzaGVsbC5zZWxlY3RlZFllYXIpIHtcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdyZWZyZXNoQXdwJywgc2hlbGwuc2VsZWN0ZWRZZWFyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRzY29wZS4kd2F0Y2goJ3NoZWxsLmNvdmVyYWdlUGVyaW9kJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoc2hlbGwuY292ZXJhZ2VQZXJpb2QpIHtcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ3JlZnJlc2hDb3ZlcmFnZScsIHNoZWxsLmNvdmVyYWdlUGVyaW9kLCBzaGVsbC5zZWxlY3RlZERpc3RyaWN0LCBzaGVsbC5zZWxlY3RlZFZhY2NpbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0cnVlKTtcblxuICAgICAgICAkc2NvcGUuJHdhdGNoR3JvdXAoWydzaGVsbC5jb3ZlcmFnZVBlcmlvZCcsICdzaGVsbC5zZWxlY3RlZERpc3RyaWN0JywgJ3NoZWxsLnNlbGVjdGVkVmFjY2luZSddLCBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgIGlmKGRhdGFbMF0gJiYgZGF0YVsxXSAmJiBkYXRhWzJdKXtcbiAgICAgICAgICAgICAgICBpZiAoc2hlbGwuY292ZXJhZ2VQZXJpb2QpIHtcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdyZWZyZXNoQ292ZXJhZ2UnLCBzaGVsbC5jb3ZlcmFnZVBlcmlvZCwgc2hlbGwuc2VsZWN0ZWREaXN0cmljdCwgc2hlbGwuc2VsZWN0ZWRWYWNjaW5lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRzY29wZS4kd2F0Y2goJ3NoZWxsLmNvdmVyYWdlUGVyaW9kJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoc2hlbGwuY292ZXJhZ2VQZXJpb2QgJiYgc2hlbGwuc2VsZWN0ZWREaXN0cmljdCkge1xuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgncmVmcmVzaFVuZXBpJywgc2hlbGwuY292ZXJhZ2VQZXJpb2QsIHNoZWxsLnNlbGVjdGVkRGlzdHJpY3QsIHNoZWxsLnNlbGVjdGVkVmFjY2luZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRydWUpO1xuXG4gICAgICAgICRzY29wZS4kd2F0Y2hHcm91cChbJ3NoZWxsLmNvdmVyYWdlUGVyaW9kJywgJ3NoZWxsLnNlbGVjdGVkRGlzdHJpY3QnLCAnc2hlbGwuc2VsZWN0ZWRWYWNjaW5lJ10sIGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgaWYoZGF0YVswXSAmJiBkYXRhWzFdICYmIGRhdGFbMl0pe1xuICAgICAgICAgICAgICAgIGlmIChzaGVsbC5jb3ZlcmFnZVBlcmlvZCAmJiBzaGVsbC5zZWxlY3RlZERpc3RyaWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgncmVmcmVzaFVuZXBpJywgc2hlbGwuY292ZXJhZ2VQZXJpb2QsIHNoZWxsLnNlbGVjdGVkRGlzdHJpY3QsIHNoZWxsLnNlbGVjdGVkVmFjY2luZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuXG4gICAgfVxuXSk7XG59KSh3aW5kb3cuYW5ndWxhcik7XG4iLCIoZnVuY3Rpb24gKGFuZ3VsYXIpIHtcbiAgICAvLyAndXNlIHN0cmljdCc7XG5hbmd1bGFyLm1vZHVsZSgnc2VydmljZXMnKS5zZXJ2aWNlKCdNYXBTdXBwb3J0U2VydmljZScsIFtcbiAgICBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgY3JlYXRlRGlzdHJpY3REYXRhTWFwID0gZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgdmFyIGRhdGFEaXN0cmljdE1hcCA9IHt9O1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpIGluIGRhdGEpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGVyaW9kID0gZGF0YVtpXS5wZXJpb2Q7XG4gICAgICAgICAgICAgICAgdmFyIGZpcnN0X2Rvc2UgPSBkYXRhW2ldLnRvdGFsX2ZpcnN0X2Rvc2U7XG4gICAgICAgICAgICAgICAgdmFyIHNlY29uZF9kb3NlID0gZGF0YVtpXS50b3RhbF9zZWNvbmRfZG9zZTtcbiAgICAgICAgICAgICAgICB2YXIgdGhpcmRfZG9zZSA9IGRhdGFbaV0udG90YWxfdGhpcmRfZG9zZTtcbiAgICAgICAgICAgICAgICB2YXIgbGFzdF9kb3NlID0gZGF0YVtpXS50b3RhbF9sYXN0X2Rvc2U7XG4gICAgICAgICAgICAgICAgdmFyIHBsYW5uZWQgPSBkYXRhW2ldLnRvdGFsX3BsYW5uZWQ7XG4gICAgICAgICAgICAgICAgdmFyIHZhY2NpbmUgPSBkYXRhW2ldLnZhY2NpbmVfX25hbWU7XG4gICAgICAgICAgICAgICAgdmFyIGRpc3RyaWN0ID0gZGF0YVtpXS5kaXN0cmljdF9fbmFtZTtcbiAgICAgICAgICAgICAgICB2YXIgcGVyaW9kWWVhciA9IE51bWJlcihwZXJpb2QudG9TdHJpbmcoKS5zdWJzdHIoMCwgNCkpO1xuICAgICAgICAgICAgICAgIHZhciBwZXJpb2RNb250aCA9IE51bWJlcihwZXJpb2QudG9TdHJpbmcoKS5zdWJzdHIoNCwgNikpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCEgKGRpc3RyaWN0IGluIGRhdGFEaXN0cmljdE1hcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YURpc3RyaWN0TWFwW2Rpc3RyaWN0XSA9IHt9O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghICh2YWNjaW5lIGluIGRhdGFEaXN0cmljdE1hcFtkaXN0cmljdF0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFEaXN0cmljdE1hcFtkaXN0cmljdF1bdmFjY2luZV0gPSB7fTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoISAocGVyaW9kWWVhciBpbiBkYXRhRGlzdHJpY3RNYXBbZGlzdHJpY3RdW3ZhY2NpbmVdKSkge1xuICAgICAgICAgICAgICAgICAgICBkYXRhRGlzdHJpY3RNYXBbZGlzdHJpY3RdW3ZhY2NpbmVdW3BlcmlvZFllYXJdID0ge307XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCEgKHBlcmlvZE1vbnRoIGluIGRhdGFEaXN0cmljdE1hcFtkaXN0cmljdF1bdmFjY2luZV1bcGVyaW9kWWVhcl0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFEaXN0cmljdE1hcFtkaXN0cmljdF1bdmFjY2luZV1bcGVyaW9kWWVhcl1bcGVyaW9kTW9udGhdID0ge307XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGF0YURpc3RyaWN0TWFwW2Rpc3RyaWN0XVt2YWNjaW5lXVtwZXJpb2RZZWFyXVtwZXJpb2RNb250aF0uZmlyc3RfZG9zZSA9IGZpcnN0X2Rvc2U7XG4gICAgICAgICAgICAgICAgZGF0YURpc3RyaWN0TWFwW2Rpc3RyaWN0XVt2YWNjaW5lXVtwZXJpb2RZZWFyXVtwZXJpb2RNb250aF0ubGFzdF9kb3NlID0gbGFzdF9kb3NlO1xuICAgICAgICAgICAgICAgIGRhdGFEaXN0cmljdE1hcFtkaXN0cmljdF1bdmFjY2luZV1bcGVyaW9kWWVhcl1bcGVyaW9kTW9udGhdLnNlY29uZF9kb3NlID0gc2Vjb25kX2Rvc2U7XG4gICAgICAgICAgICAgICAgZGF0YURpc3RyaWN0TWFwW2Rpc3RyaWN0XVt2YWNjaW5lXVtwZXJpb2RZZWFyXVtwZXJpb2RNb250aF0udGhpcmRfZG9zZSA9IHRoaXJkX2Rvc2U7XG4gICAgICAgICAgICAgICAgZGF0YURpc3RyaWN0TWFwW2Rpc3RyaWN0XVt2YWNjaW5lXVtwZXJpb2RZZWFyXVtwZXJpb2RNb250aF0ucGxhbm5lZCA9IHBsYW5uZWQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBkYXRhRGlzdHJpY3RNYXA7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGdldFBlcmlvZExpc3QgPSBmdW5jdGlvbihkYXRhLCBlbmRZZWFyLCByZXBvcnRUb2dnbGUpIHtcbiAgICAgICAgICAgIHZhciBwZXJpb2RMaXN0ID0gW107XG5cbiAgICAgICAgICAgIGlmIChyZXBvcnRUb2dnbGUgPT0gJ01DWScpIHtcbiAgICAgICAgICAgICAgICBwZXJpb2RMaXN0LnB1c2goXG4gICAgICAgICAgICAgICAgICAgIFtlbmRZZWFyLnRvU3RyaW5nKCksICBnZXRMYXN0VmFsdWUoZGF0YVtlbmRZZWFyXSwgMTIpXVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVwb3J0VG9nZ2xlID09ICdNRlknKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5leHRZZWFyID0gZW5kWWVhciArIDE7XG4gICAgICAgICAgICAgICAgdmFyIGxhc3RWYWx1ZTtcblxuICAgICAgICAgICAgICAgIGlmIChuZXh0WWVhciBpbiBkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RWYWx1ZSA9IGdldExhc3RWYWx1ZShkYXRhW25leHRZZWFyXSwgNik7XG4gICAgICAgICAgICAgICAgICAgIHBlcmlvZExpc3QucHVzaChbbmV4dFllYXIudG9TdHJpbmcoKSwgbGFzdFZhbHVlXSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGFzdFZhbHVlID0gZ2V0TGFzdFZhbHVlKGRhdGFbZW5kWWVhcl0sIDEyKTtcbiAgICAgICAgICAgICAgICAgICAgcGVyaW9kTGlzdC5wdXNoKFtlbmRZZWFyLnRvU3RyaW5nKCksIGxhc3RWYWx1ZV0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSBlbHNlIGlmIChyZXBvcnRUb2dnbGUgPT0gJ0FDWScpIHtcbiAgICAgICAgICAgICAgICBwZXJpb2RMaXN0LnB1c2guYXBwbHkocGVyaW9kTGlzdCxcbiAgICAgICAgICAgICAgICAgICAgZ2V0VmFsdWVzSW5SYW5nZShcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRZZWFyLFxuICAgICAgICAgICAgICAgICAgICAgICAgMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZFllYXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRMYXN0VmFsdWUoZGF0YVtlbmRZZWFyXSwgMTIpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJlcG9ydFRvZ2dsZSA9PSAnQUZZJykge1xuICAgICAgICAgICAgICAgIHZhciBuZXh0WWVhciA9IGVuZFllYXIgKyAxO1xuXG4gICAgICAgICAgICAgICAgaWYgKG5leHRZZWFyIGluIGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgcGVyaW9kTGlzdC5wdXNoLmFwcGx5KHBlcmlvZExpc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRWYWx1ZXNJblJhbmdlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kWWVhcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA3LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRZZWFyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldExhc3RWYWx1ZShkYXRhW25leHRZZWFyXSwgNilcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwZXJpb2RMaXN0LnB1c2guYXBwbHkocGVyaW9kTGlzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldFZhbHVlc0luUmFuZ2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRZZWFyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kWWVhcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRMYXN0VmFsdWUoZGF0YVtlbmRZZWFyXSwgMTIpXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBwZXJpb2RMaXN0O1xuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIGdldEFnZ3JlZ2F0ZXMoZGF0YSwgcGVyaW9kTGlzdCkge1xuICAgICAgICAgICAgcmV0dXJuIHBlcmlvZExpc3QucmVkdWNlKGZ1bmN0aW9uKGFjYywgcGVyaW9kKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgPT0gdW5kZWZpbmVkIHx8IGRhdGFbcGVyaW9kWzBdXSA9PSB1bmRlZmluZWQgfHwgZGF0YVtwZXJpb2RbMF1dW3BlcmlvZFsxXV0gPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgICAgIHZhciBpdGVtID0gZGF0YVtwZXJpb2RbMF1dW3BlcmlvZFsxXV07XG4gICAgICAgICAgICAgICAgYWNjLnRvdGFsUGxhbm5lZCArPSBpdGVtLnBsYW5uZWQ7XG4gICAgICAgICAgICAgICAgYWNjLnRvdGFsRmlyc3REb3NlICs9IGl0ZW0uZmlyc3RfZG9zZTtcbiAgICAgICAgICAgICAgICBhY2MudG90YWxTZWNvbmREb3NlICs9IGl0ZW0uc2Vjb25kX2Rvc2U7XG4gICAgICAgICAgICAgICAgYWNjLnRvdGFsVGhpcmREb3NlICs9IGl0ZW0udGhpcmRfZG9zZTtcbiAgICAgICAgICAgICAgICBhY2MudG90YWxMYXN0RG9zZSArPSBpdGVtLmxhc3RfZG9zZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgfSwge3RvdGFsUGxhbm5lZDogMCwgdG90YWxGaXJzdERvc2U6MCwgdG90YWxTZWNvbmREb3NlOjAsIHRvdGFsVGhpcmREb3NlOjAsIHRvdGFsTGFzdERvc2U6MH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNhbGN1bGF0ZUNvdmVyYWdlUmF0ZSA9IGZ1bmN0aW9uKGRhdGEsIHBlcmlvZExpc3QsIGRvc2VOdW1iZXIpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBnZXRBZ2dyZWdhdGVzKGRhdGEsIHBlcmlvZExpc3QpO1xuICAgICAgICAgICAgdmFyIGRvc2VWYWx1ZSA9IHJlc3VsdC50b3RhbExhc3REb3NlO1xuICAgICAgICAgICAgaWYgKGRvc2VOdW1iZXIgPT0gMSkgZG9zZVZhbHVlID0gcmVzdWx0LnRvdGFsRmlyc3REb3NlO1xuICAgICAgICAgICAgZWxzZSBpZiAoZG9zZU51bWJlciA9PSAyKSBkb3NlVmFsdWUgPSByZXN1bHQudG90YWxTZWNvbmREb3NlO1xuICAgICAgICAgICAgZWxzZSBpZiAoZG9zZU51bWJlciA9PSAzKSBkb3NlVmFsdWUgPSByZXN1bHQudG90YWxUaGlyZERvc2U7XG4gICAgICAgICAgICByZXR1cm4gKGRvc2VWYWx1ZSAvIHJlc3VsdC50b3RhbFBsYW5uZWQpICogMTAwO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBjYWxjdWxhdGVEcm9wb3V0UmF0ZSA9IGZ1bmN0aW9uKGRhdGEsIHBlcmlvZExpc3QpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBnZXRBZ2dyZWdhdGVzKGRhdGEsIHBlcmlvZExpc3QpO1xuICAgICAgICAgICAgcmV0dXJuICgocmVzdWx0LnRvdGFsRmlyc3REb3NlIC0gcmVzdWx0LnRvdGFsTGFzdERvc2UpIC8gcmVzdWx0LnRvdGFsRmlyc3REb3NlKSAqIDEwMDtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgY2FsY3VsYXRlUmVkQ2F0ZWdvcnlWYWx1ZSA9IGZ1bmN0aW9uKGRhdGEsIHBlcmlvZExpc3QpIHtcbiAgICAgICAgICAgIHZhciByID0gZ2V0QWdncmVnYXRlcyhkYXRhLCBwZXJpb2RMaXN0KTtcbiAgICAgICAgICAgIHZhciBhY2Nlc3MgPSAoci50b3RhbEZpcnN0RG9zZSAvIHIudG90YWxQbGFubmVkKSAqIDEwMDtcbiAgICAgICAgICAgIHZhciBkcm9wb3V0UmF0ZSA9ICgoci50b3RhbEZpcnN0RG9zZSAtIHIudG90YWxMYXN0RG9zZSkgLyByLnRvdGFsRmlyc3REb3NlKSAqIDEwMDtcblxuICAgICAgICAgICAgaWYgKGFjY2VzcyA+PSA5MCAmJiBkcm9wb3V0UmF0ZSA+PSAwICYmIGRyb3BvdXRSYXRlIDw9IDEwKSByZXR1cm4gMTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGFjY2VzcyA+PSA5MCAmJiAoZHJvcG91dFJhdGUgPCAwIHx8IGRyb3BvdXRSYXRlID4gMTApKSByZXR1cm4gMjtcbiAgICAgICAgICAgIGVsc2UgaWYgKGFjY2VzcyA8IDkwICYmIGRyb3BvdXRSYXRlID49IDAgJiYgZHJvcG91dFJhdGUgPD0gMTApIHJldHVybiAzO1xuICAgICAgICAgICAgZWxzZSBpZiAoYWNjZXNzIDwgOTAgJiYgKGRyb3BvdXRSYXRlIDwgMCB8fCBkcm9wb3V0UmF0ZSA+IDEwKSkgcmV0dXJuIDQ7XG4gICAgICAgICAgICBlbHNlIHJldHVybiAwO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBnZXRMYXN0VmFsdWUgPSBmdW5jdGlvbihkLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChkID09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKGRlZmF1bHRWYWx1ZSBpbiBkKSByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgICAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhkKTtcbiAgICAgICAgICAgIHJldHVybiBrZXlzW2tleXMubGVuZ3RoLTFdO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBnZXRWYWx1ZXNJblJhbmdlID0gZnVuY3Rpb24oZGF0YSwgc3RhcnRZZWFyLCBzdGFydE1vbnRoLCBlbmRZZWFyLCBlbmRNb250aCkge1xuICAgICAgICAgICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgICAgICAgICAgZm9yICh5ZWFySW5kZXggaW4gZGF0YSkge1xuICAgICAgICAgICAgICAgIGlmICh5ZWFySW5kZXggPCBzdGFydFllYXIgfHwgeWVhckluZGV4ID4gZW5kWWVhcikgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICBmb3IgKG1vbnRoSW5kZXggaW4gZGF0YVt5ZWFySW5kZXhdKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh5ZWFySW5kZXggPT0gc3RhcnRZZWFyICYmIG1vbnRoSW5kZXggPCBzdGFydE1vbnRoKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHllYXJJbmRleCA9PSBlbmRZZWFyICYmIG1vbnRoSW5kZXggPiBlbmRNb250aCkgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlcy5wdXNoKFt5ZWFySW5kZXgsIG1vbnRoSW5kZXhdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBcImNyZWF0ZURpc3RyaWN0RGF0YU1hcFwiOiBjcmVhdGVEaXN0cmljdERhdGFNYXAsXG4gICAgICAgICAgICBcImdldFBlcmlvZExpc3RcIjogZ2V0UGVyaW9kTGlzdCxcbiAgICAgICAgICAgIFwiY2FsY3VsYXRlQ292ZXJhZ2VSYXRlXCI6IGNhbGN1bGF0ZUNvdmVyYWdlUmF0ZSxcbiAgICAgICAgICAgIFwiY2FsY3VsYXRlRHJvcG91dFJhdGVcIjogY2FsY3VsYXRlRHJvcG91dFJhdGUsXG4gICAgICAgICAgICBcImNhbGN1bGF0ZVJlZENhdGVnb3J5VmFsdWVcIjogY2FsY3VsYXRlUmVkQ2F0ZWdvcnlWYWx1ZVxuICAgICAgICB9O1xuICAgIH1cbl0pXG59KSh3aW5kb3cuYW5ndWxhcik7XG4iLCIoZnVuY3Rpb24gKGFuZ3VsYXIpIHtcbiAgICAvLyAndXNlIHN0cmljdCc7XG5hbmd1bGFyLm1vZHVsZSgnc2VydmljZXMnKS5zZXJ2aWNlKCdTdG9ja1NlcnZpY2UnLCBbJyRodHRwJyxcbiAgICBmdW5jdGlvbigkaHR0cCkge1xuICAgICAgICB2YXIgaGFuZGxlUmVzcG9uc2UgPSBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGdldFN0b2NrQnlEaXN0cmljdCA9IGZ1bmN0aW9uKHN0YXJ0TW9udGgsIGVuZE1vbnRoLCBkaXN0cmljdCwgdmFjY2luZSkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnYXBpL3N0b2NrL2F0aGFuZGJ5ZGlzdHJpY3QnLCB7XG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0TW9udGg6IHN0YXJ0TW9udGgsXG4gICAgICAgICAgICAgICAgICAgIGVuZE1vbnRoOiBlbmRNb250aCxcbiAgICAgICAgICAgICAgICAgICAgZGlzdHJpY3Q6IGRpc3RyaWN0LFxuICAgICAgICAgICAgICAgICAgICB2YWNjaW5lOiB2YWNjaW5lXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkudGhlbihoYW5kbGVSZXNwb25zZSk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBnZXRVbmVwaVN0b2NrID0gZnVuY3Rpb24oZW5kTW9udGgsIGRpc3RyaWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCdhcGkvc3RvY2svYXRoYW5kYnlkaXN0cmljdCcsIHtcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgZW5kTW9udGg6IGVuZE1vbnRoLFxuICAgICAgICAgICAgICAgICAgICBkaXN0cmljdDogZGlzdHJpY3RcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KS50aGVuKGhhbmRsZVJlc3BvbnNlKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZ2V0U3RvY2tCeU1vbnRoID0gZnVuY3Rpb24oc3RhcnRNb250aCwgZW5kTW9udGgsIGRpc3RyaWN0LCB2YWNjaW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCdhcGkvc3RvY2svYXRoYW5kYnltb250aCcsIHtcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRNb250aDogc3RhcnRNb250aCxcbiAgICAgICAgICAgICAgICAgICAgZW5kTW9udGg6IGVuZE1vbnRoLFxuICAgICAgICAgICAgICAgICAgICBkaXN0cmljdDogZGlzdHJpY3QsXG4gICAgICAgICAgICAgICAgICAgIHZhY2NpbmU6IHZhY2NpbmVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KS50aGVuKGhhbmRsZVJlc3BvbnNlKTtcbiAgICAgICAgfTtcbiAgICAgICAgIHZhciBnZXRTdG9ja0J5RGlzdHJpY3RWYWNjaW5lID0gZnVuY3Rpb24oc3RhcnRNb250aCwgZW5kTW9udGgsIGRpc3RyaWN0LCB2YWNjaW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3N0b2NrL3N0b2NrYnlkaXN0cmljdHZhY2NpbmUnLCB7XG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0TW9udGg6IHN0YXJ0TW9udGgsXG4gICAgICAgICAgICAgICAgICAgIGVuZE1vbnRoOiBlbmRNb250aCxcbiAgICAgICAgICAgICAgICAgICAgZGlzdHJpY3Q6IGRpc3RyaWN0LFxuICAgICAgICAgICAgICAgICAgICB2YWNjaW5lOiB2YWNjaW5lXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkudGhlbihoYW5kbGVSZXNwb25zZSk7XG4gICAgICAgIH07XG4gICAgICAgICAgdmFyIGdldFN0b2NrZWRPdXQgPSBmdW5jdGlvbihzdGFydE1vbnRoLCBlbmRNb250aCwgZGlzdHJpY3QsIHZhY2NpbmUpIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvc3RvY2tlZG91dCcsIHtcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRNb250aDogc3RhcnRNb250aCxcbiAgICAgICAgICAgICAgICAgICAgZW5kTW9udGg6IGVuZE1vbnRoLFxuICAgICAgICAgICAgICAgICAgICBkaXN0cmljdDogZGlzdHJpY3QsXG4gICAgICAgICAgICAgICAgICAgIHZhY2NpbmU6IHZhY2NpbmVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KS50aGVuKGhhbmRsZVJlc3BvbnNlKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGdldFN0b2NrTW9udGhzTGVmdCA9IGZ1bmN0aW9uKGRpc3RyaWN0LCB2YWNjaW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCdhcGkvc3RvY2svc3RvY2ttb250aHNsZWZ0Jywge1xuICAgICAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgICAgICBkaXN0cmljdDogZGlzdHJpY3QsXG4gICAgICAgICAgICAgICAgICAgIHZhY2NpbmU6IHZhY2NpbmVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KS50aGVuKGhhbmRsZVJlc3BvbnNlKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFwiZ2V0U3RvY2tCeURpc3RyaWN0XCI6IGdldFN0b2NrQnlEaXN0cmljdCxcbiAgICAgICAgICAgIFwiZ2V0U3RvY2tCeU1vbnRoXCI6IGdldFN0b2NrQnlNb250aCxcbiAgICAgICAgICAgIFwiZ2V0U3RvY2tNb250aHNMZWZ0XCI6IGdldFN0b2NrTW9udGhzTGVmdCxcbiAgICAgICAgICAgIFwiZ2V0U3RvY2tCeURpc3RyaWN0VmFjY2luZVwiOiBnZXRTdG9ja0J5RGlzdHJpY3RWYWNjaW5lLFxuICAgICAgICAgICAgXCJnZXRTdG9ja2VkT3V0XCI6IGdldFN0b2NrZWRPdXQsXG4gICAgICAgICAgICBcImdldFVuZXBpU3RvY2tcIjpnZXRVbmVwaVN0b2NrXG4gICAgICAgIH07XG4gICAgfVxuXSlcbn0pKHdpbmRvdy5hbmd1bGFyKTtcbiIsIihmdW5jdGlvbiAoYW5ndWxhcikge1xuICAgICd1c2Ugc3RyaWN0JztcbmFuZ3VsYXIubW9kdWxlKCdkYXNoYm9hcmQnKS5jb250cm9sbGVyKCdBbm51YWxDb3ZlcmFnZUNvbnRyb2xsZXInLCBBbm51YWxDb3ZlcmFnZUNvbnRyb2xsZXIpO1xuXG5Bbm51YWxDb3ZlcmFnZUNvbnRyb2xsZXIuJGluamVjdCA9IFtcbiAgICAnJHNjb3BlJyxcbiAgICAnQ292ZXJhZ2VTZXJ2aWNlJyxcbiAgICAnQ292ZXJhZ2VDYWxjdWxhdG9yJyxcbiAgICAnQ2hhcnRQREZFeHBvcnQnLFxuICAgICckdGltZW91dCdcbl07XG5mdW5jdGlvbiBBbm51YWxDb3ZlcmFnZUNvbnRyb2xsZXIoJHNjb3BlLCBDb3ZlcmFnZVNlcnZpY2UsIENvdmVyYWdlQ2FsY3VsYXRvciwgQ2hhcnRQREZFeHBvcnQsICR0aW1lb3V0KSB7XG4gICAgdmFyIHZtID0gdGhpcztcbiAgICAkc2NvcGUuJG9uKCdyZWZyZXNoQ292ZXJhZ2UzJywgdXBkYXRlQ2hhcnQpO1xuXG4gICAgdm0uY2hhcnRPcHRpb25zID0gZ2V0Q2hhcnRPcHRpb25zKCk7XG4gICAgdm0uY2hhcnREYXRhID0gW107XG4gICAgdm0ueWVhckluZGV4ZXMgPSBbXTtcbiAgICB2bS5leHBvcnRQREYgPSBDaGFydFBERkV4cG9ydC5leHBvcnQ7XG4gICAgdm0uaW5pdExhYmVscyA9IGluaXRMYWJlbHM7XG5cbiAgICBmdW5jdGlvbiB1cGRhdGVDaGFydChlLCBwYXJhbXMpIHtcbiAgICAgICAgdmFyIGFudGlnZW5MYWJlbCA9IHBhcmFtcy5hbnRpZ2VuID09ICdBTEwnID8gJ0FudGlnZW5zJyA6IHBhcmFtcy5hbnRpZ2VuO1xuICAgICAgICB2YXIgeWVhclBlcmlvZCA9IHBhcmFtcy5zdGFydFllYXIgPT0gcGFyYW1zLmVuZFllYXJcbiAgICAgICAgICAgID8gcGFyYW1zLnN0YXJ0WWVhciA6IGAke3BhcmFtcy5zdGFydFllYXJ9IC0gJHtwYXJhbXMuZW5kWWVhcn1gO1xuICAgICAgICB2bS5jaGFydFRpdGxlID0gYCR7YW50aWdlbkxhYmVsfSBDb3ZlcmFnZSBmb3IgJHt5ZWFyUGVyaW9kfWA7XG4gICAgICAgIGNsZWFyTGFiZWxzKCk7XG5cbiAgICAgICAgQ292ZXJhZ2VTZXJ2aWNlLmdldFZhY2NpbmVEb3Nlc0J5UGVyaW9kKHBhcmFtcykudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAvKiBBZ2dyZWdhdGUgdGhlIGRhdGEgYmFzZWQgb24gcGVyaW9kICovXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gZGF0YS5yZWR1Y2UoZnVuY3Rpb24oYWNjLCBpdGVtKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhY2NpbmUgPSBpdGVtLnZhY2NpbmVfX25hbWU7XG4gICAgICAgICAgICAgICAgdmFyIHllYXIgPSBpdGVtLnBlcmlvZC50b1N0cmluZygpLnN1YnN0cigwLDQpO1xuICAgICAgICAgICAgICAgIGlmICh2bS55ZWFySW5kZXhlcy5pbmRleE9mKHllYXIpID09IC0xKSB2bS55ZWFySW5kZXhlcy5wdXNoKHllYXIpO1xuICAgICAgICAgICAgICAgIGlmICghICh2YWNjaW5lIGluIGFjYykpIGFjY1t2YWNjaW5lXSA9IHt9O1xuICAgICAgICAgICAgICAgIGlmICghICh5ZWFyIGluIGFjY1t2YWNjaW5lXSkpXG4gICAgICAgICAgICAgICAgICAgIGFjY1t2YWNjaW5lXVt5ZWFyXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsQWN0dWFsOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxGaXJzdERvc2U6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbExhc3REb3NlOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxQbGFubmVkOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxTZWNvbmREb3NlOiAwXG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBhY2NbdmFjY2luZV1beWVhcl0udG90YWxBY3R1YWwgKz0gaXRlbS50b3RhbF9hY3R1YWw7XG4gICAgICAgICAgICAgICAgYWNjW3ZhY2NpbmVdW3llYXJdLnRvdGFsRmlyc3REb3NlICs9IGl0ZW0udG90YWxfZmlyc3RfZG9zZTtcbiAgICAgICAgICAgICAgICBhY2NbdmFjY2luZV1beWVhcl0udG90YWxMYXN0RG9zZSArPSBpdGVtLnRvdGFsX2xhc3RfZG9zZTtcbiAgICAgICAgICAgICAgICBhY2NbdmFjY2luZV1beWVhcl0udG90YWxQbGFubmVkICs9IGl0ZW0udG90YWxfcGxhbm5lZDtcbiAgICAgICAgICAgICAgICBhY2NbdmFjY2luZV1beWVhcl0udG90YWxTZWNvbmREb3NlICs9IGl0ZW0udG90YWxfc2Vjb25kX2Rvc2U7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgfSwge30pO1xuXG4gICAgICAgICAgICAvKiBDYWxjdWxhdGUgUmF0ZXMgZm9yIHRoZSByZXN1bHRzICovXG4gICAgICAgICAgICB2YXIgY2hhcnREYXRhID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciB2YWNjaW5lIGluIHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHZhciB2YWNjaW5lRGF0YSA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIHllYXIgaW4gcmVzdWx0W3ZhY2NpbmVdKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb3ZlcmFnZVJhdGUgPSBDb3ZlcmFnZUNhbGN1bGF0b3IuY2FsY3VsYXRlQ292ZXJhZ2VSYXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W3ZhY2NpbmVdW3llYXJdLnRvdGFsTGFzdERvc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbdmFjY2luZV1beWVhcl0udG90YWxQbGFubmVkXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpID0gdm0ueWVhckluZGV4ZXMuaW5kZXhPZih5ZWFyKTtcbiAgICAgICAgICAgICAgICAgICAgdmFjY2luZURhdGEucHVzaCh7eDogaSwgeTogY292ZXJhZ2VSYXRlfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2hhcnREYXRhLnB1c2goe2tleTogdmFjY2luZSwgdmFsdWVzOiB2YWNjaW5lRGF0YX0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2bS5jaGFydERhdGEgPSBjaGFydERhdGE7XG4gICAgICAgICAgICAvLyAkdGltZW91dChmdW5jdGlvbigpIHsoKTsgfSwgMjAwMCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldENoYXJ0T3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNoYXJ0OiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ211bHRpQmFyQ2hhcnQnLFxuICAgICAgICAgICAgICAgIGhlaWdodDogNDUwLFxuICAgICAgICAgICAgICAgIHdpZHRoOiA2NTAsXG4gICAgICAgICAgICAgICAgc3RhY2tlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hvd0NvbnRyb2xzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBncm91cFNwYWNpbmc6IDAuMixcbiAgICAgICAgICAgICAgICAvLyB1c2VJbnRlcmFjdGl2ZUd1aWRlbGluZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBpbnRlcmFjdGl2ZUxheWVyOiB7Z3Jhdml0eTogJ3MnfSxcbiAgICAgICAgICAgICAgICB4OiBmdW5jdGlvbihkKXsgcmV0dXJuIGQueDsgfSxcbiAgICAgICAgICAgICAgICB5OiBmdW5jdGlvbihkKXsgcmV0dXJuIGQueTsgfSxcbiAgICAgICAgICAgICAgICBmb3JjZVk6IFswLDExMF0sXG4gICAgICAgICAgICAgICAgeEF4aXM6IHtcbiAgICAgICAgICAgICAgICAgICAgYXhpc0xhYmVsOiAnWWVhcnMnLFxuICAgICAgICAgICAgICAgICAgICB0aWNrRm9ybWF0OiBmdW5jdGlvbihkKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2bS55ZWFySW5kZXhlc1tkXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgeUF4aXM6IHtcbiAgICAgICAgICAgICAgICAgICAgYXhpc0xhYmVsOiAnQ292ZXJhZ2UgUmF0ZSAoJSknLFxuICAgICAgICAgICAgICAgICAgICB0aWNrczogMTBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRpc3BhdGNoOiB7XG4gICAgICAgICAgICAgICAgICAgIHJlbmRlckVuZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbml0TGFiZWxzKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5pdExhYmVscygpIHtcbiAgICAgICAgLy8gWW91IG5lZWQgdG8gYXBwbHkgdGhpcyBvbmNlIGFsbCB0aGUgYW5pbWF0aW9ucyBhcmUgYWxyZWFkeSBmaW5pc2hlZC4gT3RoZXJ3aXNlIGxhYmVscyB3aWxsIGJlIHBsYWNlZCB3cm9uZ2x5LlxuICAgICAgICBkMy5zZWxlY3RBbGwoJy5udi1tdWx0aWJhciAubnYtZ3JvdXAnKS5lYWNoKGZ1bmN0aW9uKGdyb3VwKXtcbiAgICAgICAgICB2YXIgZyA9IGQzLnNlbGVjdCh0aGlzKTtcblxuICAgICAgICAgIC8vIFJlbW92ZSBwcmV2aW91cyBsYWJlbHMgaWYgdGhlcmUgaXMgYW55XG4gICAgICAgICAgZy5zZWxlY3RBbGwoJ3RleHQnKS5yZW1vdmUoKTtcbiAgICAgICAgICBnLnNlbGVjdEFsbCgnLm52LWJhcicpLmVhY2goZnVuY3Rpb24oYmFyKXtcbiAgICAgICAgICAgIHZhciBiID0gZDMuc2VsZWN0KHRoaXMpO1xuICAgICAgICAgICAgdmFyIGJhcldpZHRoID0gYi5hdHRyKCd3aWR0aCcpO1xuICAgICAgICAgICAgdmFyIGJhckhlaWdodCA9IGIuYXR0cignaGVpZ2h0Jyk7XG5cbiAgICAgICAgICAgIGcuYXBwZW5kKCd0ZXh0JylcbiAgICAgICAgICAgICAgLy8gVHJhbnNmb3JtcyBzaGlmdCB0aGUgb3JpZ2luIHBvaW50IHRoZW4gdGhlIHggYW5kIHkgb2YgdGhlIGJhclxuICAgICAgICAgICAgICAvLyBpcyBhbHRlcmVkIGJ5IHRoaXMgdHJhbnNmb3JtLiBJbiBvcmRlciB0byBhbGlnbiB0aGUgbGFiZWxzXG4gICAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gYXBwbHkgdGhpcyB0cmFuc2Zvcm0gdG8gdGhvc2UuXG4gICAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBiLmF0dHIoJ3RyYW5zZm9ybScpKVxuICAgICAgICAgICAgICAudGV4dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIC8vIFR3byBkZWNpbWFscyBmb3JtYXRcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChiYXIueSkudG9GaXhlZCgwKSArIFwiJVwiO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAuYXR0cigneScsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgLy8gQ2VudGVyIGxhYmVsIHZlcnRpY2FsbHlcbiAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5nZXRCQm94KCkuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KGIuYXR0cigneScpKSAtIDEwOyAvLyAxMCBpcyB0aGUgbGFiZWwncyBtYWdpbiBmcm9tIHRoZSBiYXJcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgLmF0dHIoJ3gnLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIC8vIENlbnRlciBsYWJlbCBob3Jpem9udGFsbHlcbiAgICAgICAgICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmdldEJCb3goKS53aWR0aDtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChiLmF0dHIoJ3gnKSkgKyAocGFyc2VGbG9hdChiYXJXaWR0aCkgLyAyKSAtICh3aWR0aCAvIDIpO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnYmFyLXZhbHVlcycpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbGVhckxhYmVscygpIHtcbiAgICAgICAgZDMuc2VsZWN0QWxsKCcubnYtbXVsdGliYXIgLm52LWdyb3VwJykuZWFjaChmdW5jdGlvbihncm91cCl7XG4gICAgICAgICAgdmFyIGcgPSBkMy5zZWxlY3QodGhpcyk7XG4gICAgICAgICAgLy8gUmVtb3ZlIHByZXZpb3VzIGxhYmVscyBpZiB0aGVyZSBpcyBhbnlcbiAgICAgICAgICBnLnNlbGVjdEFsbCgndGV4dCcpLnJlbW92ZSgpO1xuICAgICAgfSk7XG4gICAgfVxufVxufSkod2luZG93LmFuZ3VsYXIpO1xuIiwiKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG4gICAgLy8gJ3VzZSBzdHJpY3QnO1xuYW5ndWxhci5tb2R1bGUoJ2Rhc2hib2FyZCcpXG4gICAgLmNvbnRyb2xsZXIoJ0NvdmVyYWdlQ29udHJvbGxlcicsIFtcbiAgICAgICAgJyRzY29wZScsJyRsb2NhdGlvbicsICdTdG9ja1NlcnZpY2UnLCAnJHJvb3RTY29wZScsICdOZ1RhYmxlUGFyYW1zJyxcbiAgICAgICAgJ0ZpbHRlclNlcnZpY2UnLCAnTW9udGhTZXJ2aWNlJywgJ0NvdmVyYWdlU2VydmljZScsICdNYXBTdXBwb3J0U2VydmljZScsXG4gICAgZnVuY3Rpb24oJHNjb3BlLCRsb2NhdGlvbiwgU3RvY2tTZXJ2aWNlLCAkcm9vdFNjb3BlLCBOZ1RhYmxlUGFyYW1zLFxuICAgICAgICBGaWx0ZXJTZXJ2aWNlLCBNb250aFNlcnZpY2UsIENvdmVyYWdlU2VydmljZSwgTWFwU3VwcG9ydFNlcnZpY2UpXG4gICAge1xuICAgICAgICB2YXIgdm0gPSB0aGlzO1xuICAgICAgICB2YXIgc2hlbGxTY29wZSA9ICRzY29wZS4kcGFyZW50O1xuICAgICAgICBzaGVsbFNjb3BlLmNoaWxkID0gJHNjb3BlO1xuICAgICAgICB2bS5wYXRoID0gJGxvY2F0aW9uLnBhdGgoKTtcbiAgICAgICAgdm0uZW5kdHh0PVwiXCI7XG4gICAgICAgIHZtLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICB2bS5hY3RpdmVSZXBvcnRUb2dnbGUgPSBcIkFDWVwiO1xuICAgICAgICB2bS5hY3RpdmVSZXBvcnRZZWFyID0gXCJDWVwiO1xuICAgICAgICB2bS5hY3RpdmVEaXN0cmljdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdm0uc2FtcGxlRGlzdHJpY3REYXRhID0ge307XG5cbiAgICAgICAgJHNjb3BlLmlzQWN0aXZlID0gZnVuY3Rpb24odmlld0xvY2F0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gdmlld0xvY2F0aW9uID09PSAkbG9jYXRpb24ucGF0aCgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIHBlcmlvZERpc3BsYXkocGVyaW9kKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAocGVyaW9kID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG1vbnRoID0gcGFyc2VJbnQocGVyaW9kLnNsaWNlKDQsNikpO1xuICAgICAgICAgICAgcmV0dXJuIE1vbnRoU2VydmljZS5nZXRNb250aE5hbWUobW9udGgpICsgXCIgXCIgKyBwZXJpb2Quc2xpY2UoMCw0KVxuICAgICAgICB9XG5cbiAgICAgICAgJHNjb3BlLnVwZGF0ZVJlcG9ydFRvZ2dsZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICB2bS5hY3RpdmVSZXBvcnRUb2dnbGUgPSB2YWx1ZTtcbiAgICAgICAgICAgIHZtLmFjdGl2ZVJlcG9ydFllYXIgPSB2bS5hY3RpdmVSZXBvcnRUb2dnbGUuc3Vic3RyKDEsMik7XG4gICAgICAgICAgICB2bS51cGRhdGVNYXBXaXRoVmFjY2luZSh2bS5hY3RpdmVWYWNjaW5lKTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXt3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ3Jlc2l6ZScpKX0sIDMwMDApO1xuXG4gICAgICAgICAgICBzaGVsbFNjb3BlLmNoaWxkLmNoYXJ0VGl0bGUgPSB2bS5nZXRDaGFydFRpdGxlKHZtLnNlbGVjdGVkQW50aWdlbik7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmlzQWN0aXZlUmVwb3J0VG9nZ2xlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiB2bS5hY3RpdmVSZXBvcnRUb2dnbGUgPT0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICB2bS5nZXRWYWNjaW5lRG9zZXMgPSBmdW5jdGlvbihlbmRZZWFyLCB2YWNjaW5lLCBkaXN0cmljdCkge1xuICAgICAgICAgICAgLy8gJCgnI3NwaW5uZXItbW9kYWwnKS5tb2RhbCgnc2hvdycpO1xuXG4gICAgICAgICAgICAvLyB2bS5lbmRNb250aD1wZXJpb2Q7XG5cbiAgICAgICAgICAgIHNoZWxsU2NvcGUuY2hpbGQuaGlkZU1hcCA9IHRydWU7XG4gICAgICAgICAgICAvLyBpZiAoZGlzdHJpY3QgIT0gdW5kZWZpbmVkICYmIGRpc3RyaWN0ICE9IFwiTmF0aW9uYWxcIikge1xuICAgICAgICAgICAgLy8gICAgIHNoZWxsU2NvcGUuY2hpbGQubWFwUGxhY2Vob2xkZXJNZXNzYWdlID0gXCJObyBtYXAgYXZhaWxhYmxlLlwiO1xuICAgICAgICAgICAgLy8gICAgIHJldHVybjtcbiAgICAgICAgICAgIC8vIH1cblxuXG4gICAgICAgICAgICBzaGVsbFNjb3BlLmNoaWxkLm1hcFBsYWNlaG9sZGVyTWVzc2FnZSA9IFwiTWFwIGxvYWRpbmcuIFBsZWFzZSB3YWl0Li4uXCI7XG5cbiAgICAgICAgICAgIC8vVG9kbzogVGVtcG9yYXJpbHkgZGlzYWJsZSBmaWx0ZXJpbmcgYnkgZGlzdHJpY3QgZm9yIHRoZSB0YWJsZVxuICAgICAgICAgICAgZGlzdHJpY3QgPSBcIlwiXG4gICAgICAgICAgICB2bS5kaXN0cmljdCA9IGRpc3RyaWN0O1xuICAgICAgICAgICAgdm0udmFjY2luZSA9IHZhY2NpbmU7Ly92bS5zZWxlY3RlZFZhY2NpbmUgPyB2bS5zZWxlY3RlZFZhY2NpbmUubmFtZSA6IFwidmFcIjtcbiAgICAgICAgICAgIHZtLmFjdGl2ZVZhY2NpbmUgPSB2YWNjaW5lO1xuXG4gICAgICAgICAgICBpZiAodmFjY2luZSA9PSBcIkRQVFwiIHx8IHZhY2NpbmUgPT0gXCJBTExcIikge1xuICAgICAgICAgICAgICAgIHZtLmFjdGl2ZVZhY2NpbmUgPSBcIlBFTlRBXCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEFzc2lnbiBkaW1lbnNpb25zIGZvciBtYXAgY29udGFpbmVyXG4gICAgICAgICAgICB2YXIgd2lkdGggPSA1MDAsXG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gNTAwO1xuICAgICAgICAgICAgdmFyIGZpZWxkID0gXCJcIjtcbiAgICAgICAgICAgIHZhciBkb3NlMSA9IFwiXCI7XG5cbiAgICAgICAgICAgIHZhciBpbnRlcnBvbGF0ZUZ1bmN0aW9uO1xuXG4gICAgICAgICAgICBpZiAodm0ucGF0aD09XCIvY292ZXJhZ2UvcmVkY2F0ZWdvcnlcIil7XG4gICAgICAgICAgICAgICAgaW50ZXJwb2xhdGVGdW5jdGlvbiA9IGZ1bmN0aW9uKHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdCA9ICh0ICogMTAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ID09IDAgKSByZXR1cm4gJ0xpZ2h0R3JheSc7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodCA9PSAxKSByZXR1cm4gJ0RhcmtHcmVlbic7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodCA9PSAyKSByZXR1cm4gJ1llbGxvdyc7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodCA9PSAzKSByZXR1cm4gJ09yYW5nZSc7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodCA9PSA0KSByZXR1cm4gJ1JlZCc7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodm0ucGF0aD09XCIvY292ZXJhZ2UvZHJvcG91dHJhdGVcIil7XG4gICAgICAgICAgICAgICAgaW50ZXJwb2xhdGVGdW5jdGlvbiA9IGZ1bmN0aW9uKHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHQgPSB0ICogMTAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQgPT0gMCApIHJldHVybiAnTGlnaHRHcmF5JztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgodCA+PSAwKSAmJiAodCA8PSAxMCkpIHJldHVybiAnR3JlZW4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh0ID49IC0xMCAmJiB0IDwgMCkgfHwgKHQgPiAxMCAmJiB0IDw9IDIwKSkgcmV0dXJuICdZZWxsb3cnO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh0IDwgLTEwKSB8fCAodCA+IDIwKSkgcmV0dXJuICdSZWQnO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGludGVycG9sYXRlRnVuY3Rpb24gPSBmdW5jdGlvbihzdGFydCwgZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ID0gdCAqIDEwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ID09IDApIHJldHVybiAnTGlnaHRHcmF5JztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0IDwgNTApIHJldHVybiAnUmVkJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0Pj0gNTAgJiYgdDw5MCkgcmV0dXJuICdZZWxsb3cnO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQgPj0gOTApIHJldHVybiAnRGFya0dyZWVuJztcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNvbG9yID0gZDMuc2NhbGUubGluZWFyKClcbiAgICAgICAgICAgICAgICAuZG9tYWluKFswLCAxMDBdKVxuICAgICAgICAgICAgICAgIC5pbnRlcnBvbGF0ZShpbnRlcnBvbGF0ZUZ1bmN0aW9uKTtcblxuICAgICAgICAgICAgaWYgKHZtLnBhdGg9PVwiL2NvdmVyYWdlL2Ryb3BvdXRyYXRlXCIpe1xuICAgICAgICAgICAgICAgIGZpZWxkPVwiZHJvcF9vdXRfcmF0ZVwiO1xuICAgICAgICAgICAgICAgIHZtLmVuZHR4dD1cIiVcIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWxzZSBpZiAodm0ucGF0aD09XCIvY292ZXJhZ2UvY292ZXJhZ2VcIil7XG4gICAgICAgICAgICAgICAgZmllbGQ9XCJjb3ZlcmFnZV9yYXRlXCI7XG4gICAgICAgICAgICAgICAgdm0uZW5kdHh0PVwiJVwiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkb3NlMSA9IFwiTE9XXCIgKyBcIi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uXCIrIFwiSElHSFwiO1xuXG4gICAgICAgICAgICBpZiAodmFjY2luZT09XCJQRU5UQVwiKXtcbiAgICAgICAgICAgICAgICB2bS52YWNjaW5lPVwiRFBUM1wiO1xuICAgICAgICAgICAgICAgIHZtLnZhY2Rvc2U9XCJEUFQxLURQVDNcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHZhY2NpbmU9PVwiUENWXCIpe1xuICAgICAgICAgICAgICAgIHZtLnZhY2NpbmU9XCJQQ1YzXCI7XG4gICAgICAgICAgICAgICAgdm0udmFjZG9zZT1cIlBDVjEtUENWM1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodmFjY2luZT09XCJCQ0dcIil7XG4gICAgICAgICAgICAgICAgdm0udmFjY2luZT1cIkJDR1wiO1xuICAgICAgICAgICAgICAgIHZtLnZhY2Rvc2U9XCJCQ0ctTUVBU0xFU1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodmFjY2luZT09XCJPUFZcIil7XG4gICAgICAgICAgICAgICAgdm0udmFjY2luZT1cIk9QVjNcIjtcbiAgICAgICAgICAgICAgICB2bS52YWNkb3NlPVwiT1BWMC1PUFYzXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh2YWNjaW5lPT1cIkhQVlwiKXtcbiAgICAgICAgICAgICAgICB2bS52YWNjaW5lPVwiSFBWMlwiO1xuICAgICAgICAgICAgICAgIHZtLnZhY2Rvc2U9XCJIUFYxLUhQVjJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICBlbHNlIGlmICh2YWNjaW5lPT1cIk1FQVNMRVNcIil7XG4gICAgICAgICAgICAgICAgdm0udmFjY2luZT1cIk1FQVNMRVNcIjtcbiAgICAgICAgICAgICAgICB2bS52YWNkb3NlPVwiQkNHLU1FQVNMRVNcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHZhY2NpbmU9PVwiVFRcIil7XG4gICAgICAgICAgICAgICAgdm0udmFjY2luZT1cIlRUMlwiO1xuICAgICAgICAgICAgICAgIHZtLnZhY2Rvc2U9XCJUVDEtVFQyXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzaGVsbFNjb3BlLmNoaWxkLnBlcmlvZE1vbnRoID0gcGVyaW9kRGlzcGxheSh2bS5lbmRNb250aCk7XG5cbiAgICAgICAgICAgIHNoZWxsU2NvcGUuY2hpbGQudGhlZG9zZSA9IHZtLnZhY2NpbmU7XG4gICAgICAgICAgICBzaGVsbFNjb3BlLmNoaWxkLnRoZXZhY2Rvc2UgPSB2bS52YWNkb3NlO1xuXG5cbiAgICAgICAgICAgIHZhciB2YWx1ZUZvcm1hdCA9IGQzLmZvcm1hdChcIixcIik7XG5cbiAgICAgICAgICAgIC8vIERlZmluZSBhIGdlb2dyYXBoaWNhbCBwcm9qZWN0aW9uXG4gICAgICAgICAgICAvLyBBbHNvLCBzZXQgaW5pdGlhbCB6b29tIHRvIHNob3cgdGhlIGZlYXR1cmVzXG4gICAgICAgICAgICB2YXIgcHJvamVjdGlvblx0PSBkMy5nZW8ubWVyY2F0b3IoKVxuICAgICAgICAgICAgICAgIC5zY2FsZSgxKTtcblxuICAgICAgICAgICAgLy8gUHJlcGFyZSBhIHBhdGggb2JqZWN0IGFuZCBhcHBseSB0aGUgcHJvamVjdGlvbiB0byBpdFxuICAgICAgICAgICAgdmFyIHBhdGggPSBkMy5nZW8ucGF0aCgpXG4gICAgICAgICAgICAgICAgLnByb2plY3Rpb24ocHJvamVjdGlvbik7XG5cbiAgICAgICAgICAgIC8vIFdlIHByZXBhcmUgYW4gb2JqZWN0IHRvIGxhdGVyIGhhdmUgZWFzaWVyIGFjY2VzcyB0byB0aGUgZGF0YS5cbiAgICAgICAgICAgIHZhciBkYXRhQnlJZCA9IGQzLm1hcCgpO1xuXG4gICAgICAgICAgICAvL0RlZmluZSBxdWFudGl6ZSBzY2FsZSB0byBzb3J0IGRhdGEgdmFsdWVzIGludG8gYnVja2V0cyBvZiBjb2xvclxuICAgICAgICAgICAgLy9Db2xvcnMgYnkgQ3ludGhpYSBCcmV3ZXIgKGNvbG9yYnJld2VyMi5vcmcpLCA5LWNsYXNzIFlsR25CdVxuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8ucmFuZ2UoZDMucmFuZ2UoOSksbWFwKGZ1bmN0aW9uKGkpIHsgcmV0dXJuICdxJyArIGkgKyAnLTknO30pKTtcblxuXG4gICAgICAgICAgICAvLyBDb3ZlcmFnZVNlcnZpY2UuZ2V0VmFjY2luZURvc2VzKHBlcmlvZCwgdmFjY2luZSlcbiAgICAgICAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgZW5kWWVhcjogZW5kWWVhcixcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ21hcCdcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIENvdmVyYWdlU2VydmljZS5nZXRWYWNjaW5lRG9zZXNCeVBlcmlvZChwYXJhbXMpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YURpc3RyaWN0TWFwID0gTWFwU3VwcG9ydFNlcnZpY2UuY3JlYXRlRGlzdHJpY3REYXRhTWFwKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB2bS5zYW1wbGVEaXN0cmljdERhdGEgPSBkYXRhRGlzdHJpY3RNYXBbT2JqZWN0LmtleXMoZGF0YURpc3RyaWN0TWFwKVswXV07XG4gICAgICAgICAgICAgICAgICAgIC8vIHZtLmRhdGEgPSBhbmd1bGFyLmNvcHkoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgbWFwcyB0aGUgZGF0YSBvZiB0aGUgQ1NWIHNvIGl0IGNhbiBiZSBlYXNpbHkgYWNjZXNzZWQgYnlcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIElEIG9mIHRoZSBkaXN0cmljdCwgZm9yIGV4YW1wbGU6IGRhdGFCeUlkWzIxOTZdXG4gICAgICAgICAgICAgICAgICAgIGRhdGFCeUlkID0gZDMubmVzdCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAua2V5KGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLmlkOyB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJvbGx1cChmdW5jdGlvbiAoZCkgeyByZXR1cm4gZFswXTsgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoZGF0YSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTG9hZCBmZWF0dXJlcyBmcm9tIEdlb0pTT05cbiAgICAgICAgICAgICAgICAgICAgZDMuanNvbignc3RhdGljL2FwcC9jb21wb25lbnRzL2NvdmVyYWdlL2RhdGEvdWdfZGlzdHJpY3RzMi5nZW9qc29uJywgZnVuY3Rpb24gKGVycm9yLCBqc29uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2NhbGVDZW50ZXIgPSBjYWxjdWxhdGVTY2FsZUNlbnRlcihqc29uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2plY3Rpb24uc2NhbGUoc2NhbGVDZW50ZXIuc2NhbGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNlbnRlcihzY2FsZUNlbnRlci5jZW50ZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRyYW5zbGF0ZShbd2lkdGggLyAyLCBoZWlnaHQgLyAyXSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGRpc3QgaW4gZGF0YURpc3RyaWN0TWFwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBvcyA9IGRpc3QuaW5kZXhPZihcIiBcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGFEaXN0cmljdCA9IGRpc3Quc3Vic3RyaW5nKDAsIHBvcykudG9VcHBlckNhc2UoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwganNvbi5mZWF0dXJlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIganNvbkRpc3RyaWN0ID0ganNvbi5mZWF0dXJlc1tqXS5wcm9wZXJ0aWVzLmRpc3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhRGlzdHJpY3QgPT0ganNvbkRpc3RyaWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLmZlYXR1cmVzW2pdLnByb3BlcnRpZXMuZmllbGQgPSBkYXRhRGlzdHJpY3RNYXBbZGlzdF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZDMuc2VsZWN0KFwiI21hcFwiKS5zZWxlY3RBbGwoXCIqXCIpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN2ZyA9IGQzLnNlbGVjdChcIiNtYXBcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCdzdmcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwid2lkdGhcIiwgd2lkdGgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgaGVpZ2h0KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc3ZnLmFwcGVuZCgnZycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2ZlYXR1cmVzJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHN2Zy5zZWxlY3RBbGwoXCJwYXRoXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmRhdGEoanNvbi5mZWF0dXJlcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZW50ZXIoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoXCJwYXRoXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJkXCIsIHBhdGgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIGhvdmVyb24pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm9uKFwibW91c2VvdXRcIiwgaG92ZXJvdXQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZShcInN0cm9rZVwiLCBcIiM3NzdcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZtLnVwZGF0ZU1hcFdpdGhWYWNjaW5lKHZtLmFjdGl2ZVZhY2NpbmUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBzaGVsbFNjb3BlLmNoaWxkLmhpZGVNYXAgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoZWxsU2NvcGUuY2hpbGQuJGFwcGx5KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGhvdmVyb24gPSBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rvb2x0aXAnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5sZWZ0ID0gZXZlbnQucGFnZVggKyAncHgnO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLnRvcCA9IGV2ZW50LnBhZ2VZICsgJ3B4JztcblxuICAgICAgICAgICAgICAgICAgICAgICAgZDMuc2VsZWN0KHRoaXMpLnN0eWxlKFwiZmlsbFwiLCBcIndoaXRlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZDMuc2VsZWN0KFwiI3Rvb2x0aXBcIikuc3R5bGUoXCJvcGFjaXR5XCIsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZDMuc2VsZWN0KFwiI3Rvb2x0aXAgLm5hbWVcIikudGV4dChkLnByb3BlcnRpZXMuZGlzdCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGQzLnNlbGVjdChcIiN0b29sdGlwIC52YWx1ZVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50ZXh0IChkMy5mb3JtYXQoJy4wMWYnKSh2bS5nZXREaXN0cmljdFZhbHVlKGQpKSsgdm0uZW5kdHh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBob3Zlcm91dCA9IGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZShcImZpbGxcIiwgdm0uZ2V0RmlsbENvbG9yKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZDMuc2VsZWN0KFwiI3Rvb2x0aXBcIikuc3R5bGUoXCJvcGFjaXR5XCIsIDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdm0uZHJhd0xlZ2VuZCA9IGZ1bmN0aW9uKGNvbG9yQ291bnRzKSB7XG4gICAgICAgICAgICAgICAgLy8gU2V0dXAgTGVnZW5kXG4gICAgICAgICAgICAgICAgZDMuc2VsZWN0KFwiI2dlbmRcIikuc2VsZWN0QWxsKFwiKlwiKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB2YXIgbGVnZW5kU3ZnID0gZDMuc2VsZWN0KCcjZ2VuZCcpLmFwcGVuZCgnc3ZnJyk7XG5cbiAgICAgICAgICAgICAgICBsZWdlbmRTdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAgICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImxlZ2VuZFF1YW50XCIpXG4gICAgICAgICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgyMCwyMClcIik7XG5cbiAgICAgICAgICAgICAgICB2YXIgbGVnZW5kID0gZDMubGVnZW5kLmNvbG9yKClcbiAgICAgICAgICAgICAgICAgIC5sYWJlbEZvcm1hdChkMy5mb3JtYXQoXCIuMmZcIikpXG4gICAgICAgICAgICAgICAgICAuc2hhcGVXaWR0aCg0MClcbiAgICAgICAgICAgICAgICAgIC5zaGFwZUhlaWdodCgyMCk7XG5cbiAgICAgICAgICAgICAgICBpZiAodm0ucGF0aD09XCIvY292ZXJhZ2UvcmVkY2F0ZWdvcnlcIil7XG4gICAgICAgICAgICAgICAgICAgIHZhciBnZXRMYWJlbCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCB0b3RhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBlcmNlbnRhZ2UgPSAodmFsdWUvdG90YWwpICogMTAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmFtZSArICcgKCcrdmFsdWUrJykgKCcgKyBwZXJjZW50YWdlLnRvRml4ZWQoKSArICclKSc7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHRvdGFscyA9IGNvbG9yQ291bnRzLkxpZ2h0R3JheSArIGNvbG9yQ291bnRzLkRhcmtHcmVlbiArXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvckNvdW50cy5ZZWxsb3cgKyBjb2xvckNvdW50cy5PcmFuZ2UgKyBjb2xvckNvdW50cy5SZWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgbGVnZW5kLmNlbGxzKFswLCAxLCAyLCAzLCA0XSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5sYWJlbHMoW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldExhYmVsKCdObyBkYXRhJywgY29sb3JDb3VudHMuTGlnaHRHcmF5LCB0b3RhbHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldExhYmVsKCdDQVQxJywgY29sb3JDb3VudHMuRGFya0dyZWVuLCB0b3RhbHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldExhYmVsKCdDQVQyJywgY29sb3JDb3VudHMuWWVsbG93LCB0b3RhbHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldExhYmVsKCdDQVQzJywgY29sb3JDb3VudHMuT3JhbmdlLCB0b3RhbHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldExhYmVsKCdDQVQ0JywgY29sb3JDb3VudHMuUmVkLCB0b3RhbHMpXG4gICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZtLnBhdGg9PVwiL2NvdmVyYWdlL2Ryb3BvdXRyYXRlXCIpe1xuICAgICAgICAgICAgICAgICAgICBsZWdlbmQuY2VsbHMoWzAsIDMwLCAxNSwgNV0pXG4gICAgICAgICAgICAgICAgICAgICAgICAubGFiZWxzKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTm8gZGF0YSAoJytjb2xvckNvdW50cy5MaWdodEdyYXkrJyknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8LTEwICYgPjIwICgnK2NvbG9yQ291bnRzLlJlZCsnKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJygtMTAtMCkgJiAoMTAtMjApICgnK2NvbG9yQ291bnRzLlllbGxvdysnKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzAtMTAgKCcrY29sb3JDb3VudHMuRGFya0dyZWVuKycpJ1xuICAgICAgICAgICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGVnZW5kLmNlbGxzKDQpXG4gICAgICAgICAgICAgICAgICAgICAgICAubGFiZWxzKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTm8gZGF0YSAoJytjb2xvckNvdW50cy5MaWdodEdyYXkrJyknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8NTAlICgnK2NvbG9yQ291bnRzLlJlZCsnKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzUwLTg5JSAoJytjb2xvckNvdW50cy5ZZWxsb3crJyknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc+PTkwJSAoJytjb2xvckNvdW50cy5EYXJrR3JlZW4rJyknXG4gICAgICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZWdlbmQuc2NhbGUoY29sb3IpO1xuXG4gICAgICAgICAgICAgICAgbGVnZW5kU3ZnLnNlbGVjdChcIi5sZWdlbmRRdWFudFwiKVxuICAgICAgICAgICAgICAgICAgLmNhbGwobGVnZW5kKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZtLmdldE1hcFRpdGxlID0gZnVuY3Rpb24odmFjY2luZSkge1xuICAgICAgICAgICAgICAgIHZhciBkdXJhdGlvbiA9IHZtLmFjdGl2ZVJlcG9ydFRvZ2dsZVswXSA9PSAnQScgPyBcIkFubnVhbGl6ZWRcIiA6IFwiTW9udGhseVwiO1xuICAgICAgICAgICAgICAgIHZhciBwZXJpb2QgPSB2bS5nZXRMYXN0TWFwUGVyaW9kKCk7XG4gICAgICAgICAgICAgICAgdmFyIGZ1bGxQZXJpb2QgPSBhcHBIZWxwZXJzLmdlbmVyYXRlRnVsbExhYmVsRnJvbVBlcmlvZChwZXJpb2RbMF0rcGVyaW9kWzFdKTtcbiAgICAgICAgICAgICAgICB2YXIgYW50aWdlbkxhYmVsID0gdm0uYWN0aXZlRG9zZSAhPSB1bmRlZmluZWQgPyB2bS5hY3RpdmVEb3NlIDogdmFjY2luZTtcblxuICAgICAgICAgICAgICAgIHZhciB0YWIgPSBcIkNvdmVyYWdlXCI7XG4gICAgICAgICAgICAgICAgaWYgKHZtLnBhdGg9PVwiL2NvdmVyYWdlL2Ryb3BvdXRyYXRlXCIpIHRhYiA9IFwiRHJvcG91dCBSYXRlXCI7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodm0ucGF0aD09XCIvY292ZXJhZ2UvcmVkY2F0ZWdvcnlcIikgdGFiID0gXCJSZWQgQ2F0ZWdvcml6YXRpb25cIjtcblxuICAgICAgICAgICAgICAgIHJldHVybiBgJHtkdXJhdGlvbn0gJHt0YWJ9IG9mICR7YW50aWdlbkxhYmVsfSBmb3IgJHtmdWxsUGVyaW9kfWA7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2bS51cGRhdGVNYXBXaXRoVmFjY2luZSA9IGZ1bmN0aW9uKHZhY2NpbmUpIHtcbiAgICAgICAgICAgICAgICAvLyBpZiAodm0uYWN0aXZlRGlzdHJpY3QgIT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgLy8gICAgICYmIHZtLmFjdGl2ZURpc3RyaWN0ICE9IFwiQUxMXCJcbiAgICAgICAgICAgICAgICAvLyAgICAgJiYgdm0uYWN0aXZlRGlzdHJpY3QgIT0gXCJcIikge1xuICAgICAgICAgICAgICAgIC8vICAgICAgICAgc2hlbGxTY29wZS5jaGlsZC5oaWRlTWFwID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIHNoZWxsU2NvcGUuY2hpbGQubWFwUGxhY2Vob2xkZXJNZXNzYWdlID0gXCJObyBtYXAgYXZhaWxhYmxlLlwiO1xuICAgICAgICAgICAgICAgIC8vICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gICAgIHNoZWxsU2NvcGUuY2hpbGQuaGlkZU1hcCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIC8vIH1cblxuICAgICAgICAgICAgICAgIC8vIHNoZWxsU2NvcGUuY2hpbGQuaGlkZU1hcCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgaWYgKHZhY2NpbmUgPT0gXCJEUFRcIiB8fCB2YWNjaW5lID09IFwiQUxMXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFjY2luZSA9IFwiUEVOVEFcIjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2bS5hY3RpdmVWYWNjaW5lID0gdmFjY2luZTtcbiAgICAgICAgICAgICAgICBzaGVsbFNjb3BlLmNoaWxkLm1hcFRpdGxlID0gdm0uZ2V0TWFwVGl0bGUodmFjY2luZSk7XG5cbiAgICAgICAgICAgICAgICBjb2xvckNvdW50cyA9IHtcbiAgICAgICAgICAgICAgICAgICAgUmVkOiAwLFxuICAgICAgICAgICAgICAgICAgICBZZWxsb3c6IDAsXG4gICAgICAgICAgICAgICAgICAgIERhcmtHcmVlbjogMCxcbiAgICAgICAgICAgICAgICAgICAgTGlnaHRHcmF5OiAwLFxuICAgICAgICAgICAgICAgICAgICBPcmFuZ2U6IDBcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgdmFyIHBhdGhzID0gZDMuc2VsZWN0KFwiI21hcCBzdmdcIikuc2VsZWN0QWxsKFwicGF0aFwiKTtcbiAgICAgICAgICAgICAgICBwYXRocy5zdHlsZShcImZpbGxcIiwgdm0uZ2V0RmlsbENvbG9yKTtcblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7dm0uZHJhd0xlZ2VuZChjb2xvckNvdW50cyk7IH0sIDEwKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZtLmdldEZpbGxDb2xvciA9IGZ1bmN0aW9uKGQpIHtcblxuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHZtLmdldERpc3RyaWN0VmFsdWUoZCk7XG5cbiAgICAgICAgICAgICAgICB2YXIgY29sb3JWYWx1ZSA9IGNvbG9yKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZiAoY29sb3JWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29sb3JWYWx1ZSBpbiBjb2xvckNvdW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3JDb3VudHNbY29sb3JWYWx1ZV0gKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29sb3JWYWx1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJMaWdodEdyYXlcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2bS5nZXRMYXN0TWFwUGVyaW9kID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhY2NpbmVEYXRhID0gdm0uc2FtcGxlRGlzdHJpY3REYXRhW3ZtLmFjdGl2ZVZhY2NpbmVdO1xuICAgICAgICAgICAgICAgIHZhciBwZXJpb2RMaXN0ID0gTWFwU3VwcG9ydFNlcnZpY2UuZ2V0UGVyaW9kTGlzdChcbiAgICAgICAgICAgICAgICAgICAgdmFjY2luZURhdGEsXG4gICAgICAgICAgICAgICAgICAgIGVuZFllYXIsXG4gICAgICAgICAgICAgICAgICAgIHZtLmFjdGl2ZVJlcG9ydFRvZ2dsZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBlcmlvZExpc3RbcGVyaW9kTGlzdC5sZW5ndGgtMV07XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2bS5nZXREaXN0cmljdFZhbHVlID0gZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgICAgIHZhciBkaXN0cmljdERhdGEgPSBkLnByb3BlcnRpZXMuZmllbGQ7XG5cbiAgICAgICAgICAgICAgICBpZiAoZGlzdHJpY3REYXRhID09IHVuZGVmaW5lZCB8fCAoISAodm0uYWN0aXZlVmFjY2luZSBpbiBkaXN0cmljdERhdGEpKSApIHtcbiAgICAgICAgICAgICAgICAgICAgY29sb3JDb3VudHNbJ0xpZ2h0R3JheSddICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnTGlnaHRHcmF5JztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgdmFjY2luZURhdGEgPSBkaXN0cmljdERhdGFbdm0uYWN0aXZlVmFjY2luZV07XG5cbiAgICAgICAgICAgICAgICB2YXIgcGVyaW9kTGlzdCA9IE1hcFN1cHBvcnRTZXJ2aWNlLmdldFBlcmlvZExpc3QoXG4gICAgICAgICAgICAgICAgICAgIHZhY2NpbmVEYXRhLFxuICAgICAgICAgICAgICAgICAgICBlbmRZZWFyLFxuICAgICAgICAgICAgICAgICAgICB2bS5hY3RpdmVSZXBvcnRUb2dnbGVcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgaWYgKHZtLnBhdGg9PVwiL2NvdmVyYWdlL2NvdmVyYWdlXCIpe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWFwU3VwcG9ydFNlcnZpY2UuY2FsY3VsYXRlQ292ZXJhZ2VSYXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFjY2luZURhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBwZXJpb2RMaXN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgdm0uZ2V0QWN0aXZlRG9zZU51bWJlcigpXG4gICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZtLnBhdGg9PVwiL2NvdmVyYWdlL2Ryb3BvdXRyYXRlXCIpe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWFwU3VwcG9ydFNlcnZpY2UuY2FsY3VsYXRlRHJvcG91dFJhdGUoXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWNjaW5lRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlcmlvZExpc3RcbiAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodm0ucGF0aD09XCIvY292ZXJhZ2UvcmVkY2F0ZWdvcnlcIil7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXBTdXBwb3J0U2VydmljZS5jYWxjdWxhdGVSZWRDYXRlZ29yeVZhbHVlKFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFjY2luZURhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBwZXJpb2RMaXN0XG4gICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH07XG5cblxuICAgICAgICAgICAgZnVuY3Rpb24gY2FsY3VsYXRlU2NhbGVDZW50ZXIoZmVhdHVyZXMpIHtcbiAgICAgICAgICAgICAgICAvLyBHZXQgdGhlIGJvdW5kaW5nIGJveCBvZiB0aGUgcGF0aHMgKGluIHBpeGVscykgYW5kIGNhbGN1bGF0ZSBhIHNjYWxlIGZhY3RvciBiYXNlZCBvbiBib3ggYW5kIG1hcCBzaXplXG4gICAgICAgICAgICAgICAgdmFyIGJib3hfcGF0aCA9IHBhdGguYm91bmRzKGZlYXR1cmVzKSxcbiAgICAgICAgICAgICAgICAgICAgc2NhbGUgPSAwLjk1IC8gTWF0aC5tYXgoXG4gICAgICAgICAgICAgICAgICAgICAgICAoYmJveF9wYXRoWzFdWzBdIC0gYmJveF9wYXRoWzBdWzBdKSAvIHdpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgKGJib3hfcGF0aFsxXVsxXSAtIGJib3hfcGF0aFswXVsxXSkgLyBoZWlnaHRcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAvLyBHZXQgdGhlIGJvdW5kaW5nIGJveCBvZiB0aGUgZmVhdHVyZXMgKGluIG1hcCB1bml0cykgYW5kIHVzZSBpdCB0byBjYWxjdWxhdGUgdGhlIGNlbnRlciBvZiB0aGUgZmVhdHVyZXMuXG4gICAgICAgICAgICAgICAgdmFyIGJib3hfZmVhdHVyZSA9IGQzLmdlby5ib3VuZHMoZmVhdHVyZXMpLFxuICAgICAgICAgICAgICAgICAgICBjZW50ZXIgPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICAoYmJveF9mZWF0dXJlWzFdWzBdICsgYmJveF9mZWF0dXJlWzBdWzBdKSAvIDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAoYmJveF9mZWF0dXJlWzFdWzFdICsgYmJveF9mZWF0dXJlWzBdWzFdKSAvIDJdO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgJ3NjYWxlJzpzY2FsZSxcbiAgICAgICAgICAgICAgICAgICAgJ2NlbnRlcic6Y2VudGVyXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgIC8vIE5FVzogRGVmaW5pbmcgZ2V0SWRPZkZlYXR1cmVcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldElkT2ZGZWF0dXJlKGYpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGYucHJvcGVydGllcy5pZHVnO1xuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgfTtcblxuXG4gICAgICAgIHZtLmdldFJlZFZhY2NpbmVEb3NlcyA9IGZ1bmN0aW9uKHBlcmlvZCwgdmFjY2luZSwgZGlzdHJpY3QpIHtcblxuXG4gICAgICAgICAgICAvL1RvZG86IFRlbXBvcmFyaWx5IGRpc2FibGUgZmlsdGVyaW5nIGJ5IGRpc3RyaWN0IGZvciB0aGUgdGFibGVcbiAgICAgICAgICAgIGRpc3RyaWN0ID0gXCJcIlxuICAgICAgICAgICAgdm0uZGlzdHJpY3QgPSBkaXN0cmljdDtcbiAgICAgICAgICAgIHZtLnZhY2NpbmUgPSB2YWNjaW5lOy8vdm0uc2VsZWN0ZWRWYWNjaW5lID8gdm0uc2VsZWN0ZWRWYWNjaW5lLm5hbWUgOiBcInZhXCI7XG5cbiAgICAgICAgICAgIC8vIEFzc2lnbiBkaW1lbnNpb25zIGZvciBtYXAgY29udGFpbmVyXG4gICAgICAgICAgICB2YXIgd2lkdGggPSA1MDAsXG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gNTAwO1xuICAgICAgICAgICAgdmFyIGZpZWxkID0gXCJSZWRfY2F0ZWdvcnlcIjtcbiAgICAgICAgICAgIC8vaWYgKHZtLnBhdGg9PVwiL2NvdmVyYWdlL3JlZGNhdGVnb3J5XCIpe1xuICAgICAgICAgICAgLy8gICAgZmllbGQ9XCJSZWRfY2F0ZWdvcnlcIlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vfVxuXG4gICAgICAgICAgICBzaGVsbFNjb3BlLmNoaWxkLmRpc3RyaWN0ID0gdm0uZGlzdHJpY3Q7XG4gICAgICAgICAgICBzaGVsbFNjb3BlLmNoaWxkLnZhY2NpbmUgPSAgIHZtLnZhY2NpbmU7XG5cbiAgICAgICAgICAgIHZhciB2YWx1ZUZvcm1hdCA9IGQzLmZvcm1hdChcIixcIik7XG5cbiAgICAgICAgICAgIC8vIERlZmluZSBhIGdlb2dyYXBoaWNhbCBwcm9qZWN0aW9uXG4gICAgICAgICAgICAvLyBBbHNvLCBzZXQgaW5pdGlhbCB6b29tIHRvIHNob3cgdGhlIGZlYXR1cmVzXG4gICAgICAgICAgICB2YXIgcHJvamVjdGlvblx0PSBkMy5nZW8ubWVyY2F0b3IoKVxuICAgICAgICAgICAgICAgIC5zY2FsZSgxKTtcblxuICAgICAgICAgICAgLy8gUHJlcGFyZSBhIHBhdGggb2JqZWN0IGFuZCBhcHBseSB0aGUgcHJvamVjdGlvbiB0byBpdFxuICAgICAgICAgICAgdmFyIHBhdGggPSBkMy5nZW8ucGF0aCgpXG4gICAgICAgICAgICAgICAgLnByb2plY3Rpb24ocHJvamVjdGlvbik7XG5cbiAgICAgICAgICAgIC8vIFdlIHByZXBhcmUgYW4gb2JqZWN0IHRvIGxhdGVyIGhhdmUgZWFzaWVyIGFjY2VzcyB0byB0aGUgZGF0YS5cbiAgICAgICAgICAgIHZhciBkYXRhQnlJZCA9IGQzLm1hcCgpO1xuXG4gICAgICAgICAgICAvL0RlZmluZSBxdWFudGl6ZSBzY2FsZSB0byBzb3J0IGRhdGEgdmFsdWVzIGludG8gYnVja2V0cyBvZiBjb2xvclxuICAgICAgICAgICAgLy9Db2xvcnMgYnkgQ3ludGhpYSBCcmV3ZXIgKGNvbG9yYnJld2VyMi5vcmcpLCA5LWNsYXNzIFlsR25CdVxuXG4gICAgICAgICAgICB2YXIgY29sb3IgPSBkMy5zY2FsZS5xdWFudGl6ZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vLnJhbmdlKGQzLnJhbmdlKDkpLG1hcChmdW5jdGlvbihpKSB7IHJldHVybiAncScgKyBpICsgJy05Jzt9KSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmFuZ2UoWyAgICBcIiMwMDgwMDBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiNGRkZGMDBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiNGRkE1MDBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiNGRjAwMDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuXG4gICAgICAgICAgICBDb3ZlcmFnZVNlcnZpY2UuZ2V0UmVkVmFjY2luZURvc2VzKHBlcmlvZCwgdmFjY2luZSlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdm0uZGF0YSA9IGFuZ3VsYXIuY29weShkYXRhKTtcblxuICAgICAgICAgICAgICAgICAgICAvL1NldCBpbnB1dCBkb21haW4gZm9yIGNvbG9yIHNjYWxlXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yLmRvbWFpbihbXG4gICAgICAgICAgICAgICAgICAgICAgICBkMy5taW4oZGF0YSwgZnVuY3Rpb24oZCkgeyByZXR1cm4gK2RbZmllbGRdOyB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGQzLm1heChkYXRhLCBmdW5jdGlvbihkKSB7IHJldHVybiArZFtmaWVsZF07IH0pXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgbWFwcyB0aGUgZGF0YSBvZiB0aGUgQ1NWIHNvIGl0IGNhbiBiZSBlYXNpbHkgYWNjZXNzZWQgYnlcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIElEIG9mIHRoZSBkaXN0cmljdCwgZm9yIGV4YW1wbGU6IGRhdGFCeUlkWzIxOTZdXG4gICAgICAgICAgICAgICAgICAgIGRhdGFCeUlkID0gZDMubmVzdCgpXG4gICAgICAgICAgICAgICAgICAgICAgLmtleShmdW5jdGlvbihkKSB7IHJldHVybiBkLmlkOyB9KVxuICAgICAgICAgICAgICAgICAgICAgIC5yb2xsdXAoZnVuY3Rpb24oZCkgeyByZXR1cm4gZFswXTsgfSlcbiAgICAgICAgICAgICAgICAgICAgICAubWFwKGRhdGEpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBsZWdlbmQgPSBkMy5zZWxlY3QoJyNsZWdlbmQnKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnbGlzdC1pbmxpbmUnKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIga2V5cyA9IGxlZ2VuZC5zZWxlY3RBbGwoJ2xpLmtleScpXG4gICAgICAgICAgICAgICAgICAgICAgICAuZGF0YShjb2xvci5yYW5nZSgpKTtcblxuICAgICAgICAgICAgICAgICAgICBrZXlzLmVudGVyKCkuYXBwZW5kKCdsaScpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAna2V5JylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnYm9yZGVyLXRvcC1jb2xvcicsIFN0cmluZylcbiAgICAgICAgICAgICAgICAgICAgICAgIC50ZXh0KGZ1bmN0aW9uKGQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkPT1cIiMwMDgwMDBcIil7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdDQVQxJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChkPT1cIiNGRkZGMDBcIil7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnQ0FUMidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZD09XCIjRkZBNTAwXCIpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ0NBVDMnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkPT1cIiNGRjAwMDBcIil7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnQ0FUNCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICAgICAgICAgICAgICAvLyBMb2FkIGZlYXR1cmVzIGZyb20gR2VvSlNPTlxuICAgICAgICAgICAgICAgICAgICBkMy5qc29uKCdzdGF0aWMvYXBwL2NvbXBvbmVudHMvY292ZXJhZ2UvZGF0YS91Z19kaXN0cmljdHMyLmdlb2pzb24nLCBmdW5jdGlvbihlcnJvciwganNvbikge1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgc2NhbGUgYW5kIGNlbnRlciBwYXJhbWV0ZXJzIGZyb20gdGhlIGZlYXR1cmVzLlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNjYWxlQ2VudGVyID0gY2FsY3VsYXRlU2NhbGVDZW50ZXIoanNvbik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFwcGx5IHNjYWxlLCBjZW50ZXIgYW5kIHRyYW5zbGF0ZSBwYXJhbWV0ZXJzLlxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdGlvbi5zY2FsZShzY2FsZUNlbnRlci5zY2FsZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNlbnRlcihzY2FsZUNlbnRlci5jZW50ZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50cmFuc2xhdGUoW3dpZHRoLzIsIGhlaWdodC8yXSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1lcmdlIHRoZSBjb3ZlcmFnZSBkYXRhIGFtZCBHZW9KU09OIGludG8gYSBzaW5nbGUgYXJyYXlcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFsc28gbG9vcCB0aHJvdWdoIG9uY2UgZm9yIGVhY2ggY292ZXJhZ2Ugc2NvcmUgZGF0YSB2YWx1ZVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpPTA7IGkgPCBkYXRhLmxlbmd0aCA7IGkrKyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdyYWIgZGlzdHJpY3QgbmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXN0ID0gZGF0YVtpXS5kaXN0cmljdF9fbmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcG9zID0gZGlzdC5pbmRleE9mKFwiIFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YURpc3RyaWN0ID0gZGlzdC5zdWJzdHJpbmcoMCwgcG9zKS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdmFyIGRhdGFEaXN0cmljdCA9IGRhdGFbaV0uZGlzdHJpY3Q7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0dyYWIgZGF0YSB2YWx1ZSwgYW5kIGNvbnZlcnQgZnJvbSBzdHJpbmcgdG8gZmxvYXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YVZhbHVlID0gK2RhdGFbaV1bZmllbGRdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9GaW5kIHRoZSBjb3JyZXNwb25kaW5nIGRpc3RyaWN0IGluc2lkZSBHZW9KU09OXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaj0wOyBqIDwganNvbi5mZWF0dXJlcy5sZW5ndGggOyBqKysgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgdGhlIGRpc3RyaWN0IHJlZmVyZW5jZSBpbiBqc29uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBqc29uRGlzdHJpY3QgPSBqc29uLmZlYXR1cmVzW2pdLnByb3BlcnRpZXMuZGlzdDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YURpc3RyaWN0ID09IGpzb25EaXN0cmljdCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0NvcHkgdGhlIGRhdGEgdmFsdWUgaW50byB0aGUgR2VvSlNPTlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5mZWF0dXJlc1tqXS5wcm9wZXJ0aWVzLmZpZWxkID0gZGF0YVZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1N0b3AgbG9va2luZyB0aHJvdWdoIEpTT05cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIFNWRyBpbnNpZGUgbWFwIGNvbnRhaW5lciBhbmQgYXNzaWduIGRpbWVuc2lvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vc3ZnLnNlbGVjdEFsbChcIipcIikucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkMy5zZWxlY3QoXCIjcmVkXCIpLnNlbGVjdEFsbChcIipcIikucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3ZnID0gZDMuc2VsZWN0KFwiI3JlZFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJ3N2ZycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCB3aWR0aClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcImhlaWdodFwiLCBoZWlnaHQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgYSA8Zz4gZWxlbWVudCB0byB0aGUgU1ZHIGVsZW1lbnQgYW5kIGdpdmUgYSBjbGFzcyB0byBzdHlsZSBsYXRlclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ZnLmFwcGVuZCgnZycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2ZlYXR1cmVzJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJpbmQgZGF0YSBhbmQgY3JlYXRlIG9uZSBwYXRoIHBlciBHZW9KU09OIGZlYXR1cmVcbiAgICAgICAgICAgICAgICAgICAgICAgIHN2Zy5zZWxlY3RBbGwoXCJwYXRoXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmRhdGEoanNvbi5mZWF0dXJlcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZW50ZXIoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoXCJwYXRoXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJkXCIsIHBhdGgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIGhvdmVyb24pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm9uKFwibW91c2VvdXRcIiwgaG92ZXJvdXQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZShcInN0cm9rZVwiLCBcIiM3NzdcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJmaWxsXCIsIGZ1bmN0aW9uKGQpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBHZXQgZGF0YSB2YWx1ZVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGQucHJvcGVydGllcy5maWVsZDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHZhbHVlIGV4aXN0cyAuLi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb2xvcih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB2YWx1ZSBpcyB1bmRlZmluZXMgLi4uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCIjY2NjXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuXG5cbiAgICAgICAgICAgICAgICAgICAgfSk7IC8vIEVuZCBkMy5qc29uXG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTG9naWMgdG8gaGFuZGxlIGhvdmVyIGV2ZW50IHdoZW4gaXRzIGZpcmVkdXBcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBob3Zlcm9uID0gZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9vbHRpcCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5sZWZ0ID0gZXZlbnQucGFnZVggKyAncHgnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS50b3AgPSBldmVudC5wYWdlWSArICdweCc7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vRmlsbCB5ZWxsb3cgdG8gaGlnaGxpZ2h0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZDMuc2VsZWN0KHRoaXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZShcImZpbGxcIiwgXCJ3aGl0ZVwiKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vU2hvdyB0aGUgdG9vbHRpcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQzLnNlbGVjdChcIiN0b29sdGlwXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZShcIm9wYWNpdHlcIiwgMSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1BvcHVsYXRlIG5hbWUgaW4gdG9vbHRpcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQzLnNlbGVjdChcIiN0b29sdGlwIC5uYW1lXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50ZXh0KGQucHJvcGVydGllcy5kaXN0KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vUG9wdWxhdGUgdmFsdWUgaW4gdG9vbHRpcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZC5wcm9wZXJ0aWVzLmZpZWxkKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZDMuc2VsZWN0KFwiI3Rvb2x0aXAgLnZhbHVlXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50ZXh0KFwiTm8gRGF0YVwiKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZDMuc2VsZWN0KFwiI3Rvb2x0aXAgLnZhbHVlXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGV4dCgnQ0FUJyArICh2YWx1ZUZvcm1hdChkLnByb3BlcnRpZXMuZmllbGQpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhvdmVyb3V0ID0gZnVuY3Rpb24oZCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9SZXN0b3JlIG9yaWdpbmFsIGNob3JvcGxldGggZmlsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJmaWxsXCIsIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGQucHJvcGVydGllcy5maWVsZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb2xvcih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIiNjY2NcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0hpZGUgdGhlIHRvb2x0aXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkMy5zZWxlY3QoXCIjdG9vbHRpcFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJvcGFjaXR5XCIsIDApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdGFibGVkYXRhQWxsZG9zZXMgPSB2bS5kYXRhLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIHZtLnRhYmxlUGFyYW1zRG9zZXMgPSBuZXcgTmdUYWJsZVBhcmFtcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYWdlOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnQ6IDEwXG4gICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlckRlbGF5OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnRzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHRhYmxlZGF0YUFsbGRvc2VzLFxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZVNjYWxlQ2VudGVyKGZlYXR1cmVzKSB7XG4gICAgICAgICAgICAgICAgLy8gR2V0IHRoZSBib3VuZGluZyBib3ggb2YgdGhlIHBhdGhzIChpbiBwaXhlbHMpIGFuZCBjYWxjdWxhdGUgYSBzY2FsZSBmYWN0b3IgYmFzZWQgb24gYm94IGFuZCBtYXAgc2l6ZVxuICAgICAgICAgICAgICAgIHZhciBiYm94X3BhdGggPSBwYXRoLmJvdW5kcyhmZWF0dXJlcyksXG4gICAgICAgICAgICAgICAgICAgIHNjYWxlID0gMC45NSAvIE1hdGgubWF4KFxuICAgICAgICAgICAgICAgICAgICAgICAgKGJib3hfcGF0aFsxXVswXSAtIGJib3hfcGF0aFswXVswXSkgLyB3aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIChiYm94X3BhdGhbMV1bMV0gLSBiYm94X3BhdGhbMF1bMV0pIC8gaGVpZ2h0XG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgLy8gR2V0IHRoZSBib3VuZGluZyBib3ggb2YgdGhlIGZlYXR1cmVzIChpbiBtYXAgdW5pdHMpIGFuZCB1c2UgaXQgdG8gY2FsY3VsYXRlIHRoZSBjZW50ZXIgb2YgdGhlIGZlYXR1cmVzLlxuICAgICAgICAgICAgICAgIHZhciBiYm94X2ZlYXR1cmUgPSBkMy5nZW8uYm91bmRzKGZlYXR1cmVzKSxcbiAgICAgICAgICAgICAgICAgICAgY2VudGVyID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAgKGJib3hfZmVhdHVyZVsxXVswXSArIGJib3hfZmVhdHVyZVswXVswXSkgLyAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgKGJib3hfZmVhdHVyZVsxXVsxXSArIGJib3hfZmVhdHVyZVswXVsxXSkgLyAyXTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICdzY2FsZSc6c2NhbGUsXG4gICAgICAgICAgICAgICAgICAgICdjZW50ZXInOmNlbnRlclxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAvLyBORVc6IERlZmluaW5nIGdldElkT2ZGZWF0dXJlXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRJZE9mRmVhdHVyZShmKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmLnByb3BlcnRpZXMuaWR1ZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuXG4gICAgICAgIHZtLmdldFZhY2NpbmVEb3Nlc0J5RGlzdHJpY3QgPSBmdW5jdGlvbihwZXJpb2QsIGRpc3RyaWN0LCB2YWNjaW5lKSB7XG5cblxuICAgICAgICAgICAgQ292ZXJhZ2VTZXJ2aWNlLmdldFZhY2NpbmVEb3Nlc0J5RGlzdHJpY3QocGVyaW9kLCBkaXN0cmljdCwgdmFjY2luZSlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdm0uZGF0YSA9IGFuZ3VsYXIuY29weShkYXRhKTtcblxuICAgICAgICAgICAgICAgICAgICBzaGVsbFNjb3BlLmNoaWxkLmRyb3BlZG91dCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmKHZtLmRhdGEubGVuZ3RoID4gMCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaGVsbFNjb3BlLmNoaWxkLmRyb3BlZG91dCA9IHZtLmRhdGFbMF0uZHJvcF9vdXRfcmF0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoZWxsU2NvcGUuY2hpbGQudW5kZXJpbW11bml6ZWQgPSB2bS5kYXRhWzBdLnVuZGVyX2ltbXVuaXplZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIEFjY2VzcyAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYodm0uZGF0YVswXS5hY2Nlc3MgPj0gOTApe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoZWxsU2NvcGUuY2hpbGQuYWNjZXNzID0gXCJHb29kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hlbGxTY29wZS5jaGlsZC5hY2Nlc3MgPSBcIlBvb3JcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLyogVXRpbGl6YXRpb24gKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHNoZWxsU2NvcGUuY2hpbGQuZHJvcGVkb3V0IDw9IDEwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGVsbFNjb3BlLmNoaWxkLnV0aWxpemF0aW9uID0gXCJHb29kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hlbGxTY29wZS5jaGlsZC51dGlsaXphdGlvbiA9IFwiUG9vclwiXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBSZWQgQ2F0ZWdvcml6YXRpb24qL1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoKHZtLmRhdGFbMF0uYWNjZXNzID49IDkwKSAmJiAodm0uZGF0YVswXS5kcm9wX291dF9yYXRlIDw9MTApKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGVsbFNjb3BlLnJlZGNhdGVnb3J5ID0gXCJDQVQxXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYodm0uZGF0YVswXS5hY2Nlc3MgPj0gOTAgJiYgdm0uZGF0YVswXS5kcm9wX291dF9yYXRlID4gMTApe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoZWxsU2NvcGUucmVkY2F0ZWdvcnkgPSBcIkNBVDJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZih2bS5kYXRhWzBdLmFjY2VzcyA8IDkwICYmIHZtLmRhdGFbMF0uZHJvcF9vdXRfcmF0ZSA8PSAxMCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hlbGxTY29wZS5yZWRjYXRlZ29yeSA9IFwiQ0FUM1wiXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKHZtLmRhdGFbMF0uYWNjZXNzIDwgOTAgJiYgdm0uZGF0YVswXS5kcm9wX291dF9yYXRlID4gMTApe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoZWxsU2NvcGUucmVkY2F0ZWdvcnkgPSBcIkNBVDRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICB2bS5nZXRBY3RpdmVEb3NlTnVtYmVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAodm0uYWN0aXZlRG9zZSAhPSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlcih2bS5hY3RpdmVEb3NlLnN1YnN0cih2bS5hY3RpdmVEb3NlLmxlbmd0aC0xLCAxKSk7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfTtcblxuICAgICAgICB2bS5jb21wdXRlUmF0ZSA9IGZ1bmN0aW9uKGRvc2VzLCBwbGFubmVkKSB7XG4gICAgICAgICAgICBpZiAodm0ucGF0aD09XCIvY292ZXJhZ2UvY292ZXJhZ2VcIil7XG4gICAgICAgICAgICAgICAgdmFyIGFjdGl2ZURvc2VOdW1iZXIgPSB2bS5nZXRBY3RpdmVEb3NlTnVtYmVyKCk7XG4gICAgICAgICAgICAgICAgdmFyIGRvc2VWYWx1ZSA9IGRvc2VzLmxhc3Q7XG5cbiAgICAgICAgICAgICAgICBpZiAoYWN0aXZlRG9zZU51bWJlciA9PSAxKSBkb3NlVmFsdWUgPSBkb3Nlcy5maXJzdDtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChhY3RpdmVEb3NlTnVtYmVyID09IDIpIGRvc2VWYWx1ZSA9IGRvc2VzLnNlY29uZDtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChhY3RpdmVEb3NlTnVtYmVyID09IDMpIGRvc2VWYWx1ZSA9IGRvc2VzLnRoaXJkO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIChkb3NlVmFsdWUgLyBwbGFubmVkKSAqIDEwMDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodm0ucGF0aD09XCIvY292ZXJhZ2UvZHJvcG91dHJhdGVcIil7XG4gICAgICAgICAgICAgICAgcmV0dXJuICgoZG9zZXMuZmlyc3QgLSBkb3Nlcy5sYXN0KSAvIGRvc2VzLmZpcnN0KSAqIDEwMDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodm0ucGF0aD09XCIvY292ZXJhZ2UvcmVkY2F0ZWdvcnlcIil7XG4gICAgICAgICAgICAgICAgdmFyIGFjY2VzcyA9IChkb3Nlcy5maXJzdC9wbGFubmVkKSAqIDEwMDtcbiAgICAgICAgICAgICAgICB2YXIgZHJvcG91dFJhdGUgPSAoKGRvc2VzLmZpcnN0IC0gZG9zZXMubGFzdCkgLyBkb3Nlcy5maXJzdCkgKiAxMDA7XG5cbiAgICAgICAgICAgICAgICBpZiAoYWNjZXNzID49IDkwICYmIGRyb3BvdXRSYXRlID49IDAgJiYgZHJvcG91dFJhdGUgPD0gMTApIHJldHVybiAxO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFjY2VzcyA+PSA5MCAmJiAoZHJvcG91dFJhdGUgPCAwIHx8IGRyb3BvdXRSYXRlID4gMTApKSByZXR1cm4gMjtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChhY2Nlc3MgPCA5MCAmJiBkcm9wb3V0UmF0ZSA+PSAwICYmIGRyb3BvdXRSYXRlIDw9IDEwKSByZXR1cm4gMztcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChhY2Nlc3MgPCA5MCAmJiAoZHJvcG91dFJhdGUgPCAwIHx8IGRyb3BvdXRSYXRlID4gMTApKSByZXR1cm4gNDtcbiAgICAgICAgICAgICAgICBlbHNlIHJldHVybiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHZtLmdldENoYXJ0RGF0YSA9IGZ1bmN0aW9uKHBhcmFtcywgZGF0YSwgcmVwb3J0WWVhciwgY3VtdWxhdGl2ZSkge1xuXG4gICAgICAgICAgICB2YXIgcGVyaW9kVmFsdWVzID0ge307XG4gICAgICAgICAgICB2YXIgcmVkQ2F0ZWdvcnlWYWx1ZXMgPSB7fTtcbiAgICAgICAgICAgIHZhciB0b3RhbHMgPSB7fTtcbiAgICAgICAgICAgIHZhciByZWRDYXRlZ29yeVRvdGFscyA9IHt9O1xuICAgICAgICAgICAgdmFyIHJhdGU7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgaW4gZGF0YSkge1xuICAgICAgICAgICAgICAgIHZhciBwZXJpb2QgPSBkYXRhW2ldLnBlcmlvZDtcbiAgICAgICAgICAgICAgICB2YXIgbGFzdF9kb3NlID0gZGF0YVtpXS50b3RhbF9sYXN0X2Rvc2U7XG4gICAgICAgICAgICAgICAgdmFyIGZpcnN0X2Rvc2UgPSBkYXRhW2ldLnRvdGFsX2ZpcnN0X2Rvc2U7XG4gICAgICAgICAgICAgICAgdmFyIHNlY29uZF9kb3NlID0gZGF0YVtpXS50b3RhbF9zZWNvbmRfZG9zZTtcbiAgICAgICAgICAgICAgICB2YXIgdGhpcmRfZG9zZSA9IGRhdGFbaV0udG90YWxfdGhpcmRfZG9zZTtcbiAgICAgICAgICAgICAgICB2YXIgcGxhbm5lZCA9IGRhdGFbaV0udG90YWxfcGxhbm5lZDtcbiAgICAgICAgICAgICAgICB2YXIgdmFjY2luZSA9IGRhdGFbaV0udmFjY2luZV9fbmFtZTtcbiAgICAgICAgICAgICAgICB2YXIgZGlzdHJpY3QgPSBkYXRhW2ldLmRpc3RyaWN0X19uYW1lO1xuXG4gICAgICAgICAgICAgICAgdmFyIGRhdGFNb250aCA9IGFwcEhlbHBlcnMuZ2V0TW9udGhGcm9tUGVyaW9kKHBlcmlvZCwgcmVwb3J0WWVhcik7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGFZZWFyID0gYXBwSGVscGVycy5nZXRZZWFyRnJvbVBlcmlvZChwZXJpb2QsIHJlcG9ydFllYXIpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHllYXJMYWJlbCA9IGFwcEhlbHBlcnMuZ2V0WWVhckxhYmVsRnJvbVBlcmlvZChwZXJpb2QsIHJlcG9ydFllYXIpO1xuICAgICAgICAgICAgICAgIHZhciBtb250aEluZGV4ID0gYXBwSGVscGVycy5nZXRNb250aEluZGV4RnJvbVBlcmlvZChwZXJpb2QsIHJlcG9ydFllYXIpO1xuXG4gICAgICAgICAgICAgICAgLyogVGhlIHZpZXcgcmV0dXJucyBleHRyYSBkYXRhIHRvIGNhdGVyIGZvciB0aGUgZmluYW5jaWFsIHllYXJcbiAgICAgICAgICAgICAgICBTaW5jZSBpdHMgaWdub3JhbnQgb2YgdGhlIHBlcmlvZHMsIHdlIGRvIHRoZSBmaWx0ZXJzIG91cnNlbHZlc1xuICAgICAgICAgICAgICAgIERpZG4ndCB3YW50IHRvIGNyZWF0ZSBhIG5ldyBBUEkgY2FsbCBmb3IgYSBjaGFuZ2UgaW4gcmVwb3J0IHllYXJcbiAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGlmICgocmVwb3J0WWVhciA9PSBcIkNZXCIpICYmIChkYXRhWWVhciA+IHBhcmFtcy5lbmRZZWFyKSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgLy8gaWYgKChyZXBvcnRZZWFyID09IFwiRllcIikgJiYgKGRhdGFZZWFyID09IHBhcmFtcy5lbmRZZWFyKSAmJiAoZGF0YU1vbnRoID4gNikpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGlmICgocmVwb3J0WWVhciA9PSBcIkZZXCIpICYmIChkYXRhWWVhciA9PSBwYXJhbXMuc3RhcnRZZWFyKSAmJiAoZGF0YU1vbnRoIDw9IDYpKSBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgIGlmICghICh5ZWFyTGFiZWwgaW4gcGVyaW9kVmFsdWVzKSkge1xuICAgICAgICAgICAgICAgICAgICBwZXJpb2RWYWx1ZXNbeWVhckxhYmVsXSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICByZWRDYXRlZ29yeVZhbHVlc1t5ZWFyTGFiZWxdID0ge307XG4gICAgICAgICAgICAgICAgICAgIHRvdGFsc1t5ZWFyTGFiZWxdID0ge307XG4gICAgICAgICAgICAgICAgICAgIHJlZENhdGVnb3J5VG90YWxzW3llYXJMYWJlbF0gPSB7fTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoISAodmFjY2luZSBpbiBwZXJpb2RWYWx1ZXNbeWVhckxhYmVsXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcGVyaW9kVmFsdWVzW3llYXJMYWJlbF1bdmFjY2luZV0gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgcmVkQ2F0ZWdvcnlWYWx1ZXNbeWVhckxhYmVsXVt2YWNjaW5lXSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICB0b3RhbHNbeWVhckxhYmVsXVt2YWNjaW5lXSA9IHtmaXJzdF9kb3NlOiAwLCBzZWNvbmRfZG9zZTowLCB0aGlyZF9kb3NlOjAsIGxhc3RfZG9zZTogMCwgcGxhbm5lZDogMH07XG4gICAgICAgICAgICAgICAgICAgIHJlZENhdGVnb3J5VG90YWxzW3llYXJMYWJlbF1bdmFjY2luZV0gPSB7fTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZGlzdHJpY3QgIT0gdW5kZWZpbmVkICYmICEoZGlzdHJpY3QgaW4gcmVkQ2F0ZWdvcnlUb3RhbHNbeWVhckxhYmVsXVt2YWNjaW5lXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVkQ2F0ZWdvcnlUb3RhbHNbeWVhckxhYmVsXVt2YWNjaW5lXVtkaXN0cmljdF0gPSB7Zmlyc3RfZG9zZTogMCwgbGFzdF9kb3NlOiAwLCBwbGFubmVkOiAwfTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoY3VtdWxhdGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodm0ucGF0aCA9PSAnL2NvdmVyYWdlL3JlZGNhdGVnb3J5Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbWJpbmVkRmlyc3REb3NlID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWRDYXRlZ29yeVRvdGFsc1t5ZWFyTGFiZWxdW3ZhY2NpbmVdW2Rpc3RyaWN0XS5maXJzdF9kb3NlICsgZmlyc3RfZG9zZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb21iaW5lZExhc3REb3NlID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWRDYXRlZ29yeVRvdGFsc1t5ZWFyTGFiZWxdW3ZhY2NpbmVdW2Rpc3RyaWN0XS5sYXN0X2Rvc2UgKyBsYXN0X2Rvc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29tYmluZWRQbGFubmVkID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWRDYXRlZ29yeVRvdGFsc1t5ZWFyTGFiZWxdW3ZhY2NpbmVdW2Rpc3RyaWN0XS5wbGFubmVkICsgcGxhbm5lZDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmVkQ2F0ZWdvcnlUb3RhbHNbeWVhckxhYmVsXVt2YWNjaW5lXVtkaXN0cmljdF0uZmlyc3RfZG9zZSA9IGNvbWJpbmVkRmlyc3REb3NlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVkQ2F0ZWdvcnlUb3RhbHNbeWVhckxhYmVsXVt2YWNjaW5lXVtkaXN0cmljdF0ubGFzdF9kb3NlID0gY29tYmluZWRMYXN0RG9zZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZENhdGVnb3J5VG90YWxzW3llYXJMYWJlbF1bdmFjY2luZV1bZGlzdHJpY3RdLnBsYW5uZWQgPSBjb21iaW5lZFBsYW5uZWQ7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29tYmluZWRGaXJzdERvc2UgPSB0b3RhbHNbeWVhckxhYmVsXVt2YWNjaW5lXS5maXJzdF9kb3NlICsgZmlyc3RfZG9zZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb21iaW5lZExhc3REb3NlID0gdG90YWxzW3llYXJMYWJlbF1bdmFjY2luZV0ubGFzdF9kb3NlICsgbGFzdF9kb3NlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbWJpbmVkU2Vjb25kRG9zZSA9IHRvdGFsc1t5ZWFyTGFiZWxdW3ZhY2NpbmVdLnNlY29uZF9kb3NlICsgc2Vjb25kX2Rvc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29tYmluZWRUaGlyZERvc2UgPSB0b3RhbHNbeWVhckxhYmVsXVt2YWNjaW5lXS50aGlyZF9kb3NlICsgdGhpcmRfZG9zZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb21iaW5lZFBsYW5uZWQgPSB0b3RhbHNbeWVhckxhYmVsXVt2YWNjaW5lXS5wbGFubmVkICsgcGxhbm5lZDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxzW3llYXJMYWJlbF1bdmFjY2luZV0uZmlyc3RfZG9zZSA9IGNvbWJpbmVkRmlyc3REb3NlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxzW3llYXJMYWJlbF1bdmFjY2luZV0ubGFzdF9kb3NlID0gY29tYmluZWRMYXN0RG9zZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsc1t5ZWFyTGFiZWxdW3ZhY2NpbmVdLnNlY29uZF9kb3NlID0gY29tYmluZWRTZWNvbmREb3NlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxzW3llYXJMYWJlbF1bdmFjY2luZV0udGhpcmRfZG9zZSA9IGNvbWJpbmVkVGhpcmREb3NlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxzW3llYXJMYWJlbF1bdmFjY2luZV0ucGxhbm5lZCA9IGNvbWJpbmVkUGxhbm5lZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJhdGUgPSB2bS5jb21wdXRlUmF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaXJzdDogY29tYmluZWRGaXJzdERvc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWNvbmQ6IGNvbWJpbmVkU2Vjb25kRG9zZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXJkOiBjb21iaW5lZFRoaXJkRG9zZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3Q6IGNvbWJpbmVkTGFzdERvc2VcbiAgICAgICAgICAgICAgICAgICAgfSwgY29tYmluZWRQbGFubmVkKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByYXRlID0gdm0uY29tcHV0ZVJhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3Q6Zmlyc3RfZG9zZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZDpzZWNvbmRfZG9zZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXJkOiB0aGlyZF9kb3NlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdDogbGFzdF9kb3NlfVxuICAgICAgICAgICAgICAgICAgICAsIHBsYW5uZWQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh2bS5wYXRoID09ICcvY292ZXJhZ2UvcmVkY2F0ZWdvcnknKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjYXRlZ29yeSA9IHJhdGU7XG4gICAgICAgICAgICAgICAgICAgIGlmICghIChtb250aEluZGV4IGluIHJlZENhdGVnb3J5VmFsdWVzW3llYXJMYWJlbF1bdmFjY2luZV0pKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVkQ2F0ZWdvcnlWYWx1ZXNbeWVhckxhYmVsXVt2YWNjaW5lXVttb250aEluZGV4XSA9IHt9O1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghIChjYXRlZ29yeSBpbiByZWRDYXRlZ29yeVZhbHVlc1t5ZWFyTGFiZWxdW3ZhY2NpbmVdW21vbnRoSW5kZXhdKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZENhdGVnb3J5VmFsdWVzW3llYXJMYWJlbF1bdmFjY2luZV1bbW9udGhJbmRleF1bY2F0ZWdvcnldID0gW107XG5cbiAgICAgICAgICAgICAgICAgICAgcmVkQ2F0ZWdvcnlWYWx1ZXNbeWVhckxhYmVsXVt2YWNjaW5lXVttb250aEluZGV4XVtjYXRlZ29yeV0ucHVzaChkaXN0cmljdCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGVyaW9kVmFsdWVzW3llYXJMYWJlbF1bdmFjY2luZV0ucHVzaCh7eDogbW9udGhJbmRleCwgeTogZDMuZm9ybWF0KCcuMDFmJykocmF0ZSl9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBjaGFydERhdGEgPSBbXTtcblxuICAgICAgICAgICAgaWYgKHZtLnBhdGggPT0gJy9jb3ZlcmFnZS9yZWRjYXRlZ29yeScpIHtcbiAgICAgICAgICAgICAgICB2YXIgZ2V0UmVkQ2F0ZWdvcnlWYWx1ZXMgPSBmdW5jdGlvbihtb250aEluZGV4LCBjYXREaXN0cmljdHMsIHRvdGFsRGlzdHJpY3RzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeDogTnVtYmVyKG1vbnRoSW5kZXgpLCB5OiBkMy5mb3JtYXQoJy4wMWYnKSgoY2F0RGlzdHJpY3RzIC8gdG90YWxEaXN0cmljdHMpICogMTAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHg6IE51bWJlcihtb250aEluZGV4KSwgeTogZDMuZm9ybWF0KCcuMDFmJykoY2F0RGlzdHJpY3RzKVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB2YXIgZ2V0VG90YWxSZWRDYXRlZ29yeURpc3RyaWN0cyA9IGZ1bmN0aW9uKGNhdCwgZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2F0IGluIGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhW2NhdF0ubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB2YXIgY2F0ZWdvcnlWYWx1ZXMgPSB7XG4gICAgICAgICAgICAgICAgICAgIDE6IFtdLCAyOiBbXSwgMzogW10sIDQ6IFtdXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIHllYXJMYWJlbCBpbiByZWRDYXRlZ29yeVZhbHVlcykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB2YWNjaW5lIGluIHJlZENhdGVnb3J5VmFsdWVzW3llYXJMYWJlbF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG1vbnRoSW5kZXggaW4gcmVkQ2F0ZWdvcnlWYWx1ZXNbeWVhckxhYmVsXVt2YWNjaW5lXSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhY2NpbmVEYXRhID0gcmVkQ2F0ZWdvcnlWYWx1ZXNbeWVhckxhYmVsXVt2YWNjaW5lXVttb250aEluZGV4XTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHllYXJMYWJlbCArIFwiLVwiICsgbW9udGhJbmRleCArIFwiLVwiICsgdmFjY2luZSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHZhY2NpbmVEYXRhKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjYXQxRGlzdHJpY3RzID0gZ2V0VG90YWxSZWRDYXRlZ29yeURpc3RyaWN0cygxLCB2YWNjaW5lRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNhdDJEaXN0cmljdHMgPSBnZXRUb3RhbFJlZENhdGVnb3J5RGlzdHJpY3RzKDIsIHZhY2NpbmVEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2F0M0Rpc3RyaWN0cyA9IGdldFRvdGFsUmVkQ2F0ZWdvcnlEaXN0cmljdHMoMywgdmFjY2luZURhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjYXQ0RGlzdHJpY3RzID0gZ2V0VG90YWxSZWRDYXRlZ29yeURpc3RyaWN0cyg0LCB2YWNjaW5lRGF0YSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG90YWxEaXN0cmljdHMgPSBjYXQxRGlzdHJpY3RzICsgY2F0MkRpc3RyaWN0cyArIGNhdDNEaXN0cmljdHMgKyBjYXQ0RGlzdHJpY3RzO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlWYWx1ZXNbMV0ucHVzaChnZXRSZWRDYXRlZ29yeVZhbHVlcyhtb250aEluZGV4LCBjYXQxRGlzdHJpY3RzLCB0b3RhbERpc3RyaWN0cykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5VmFsdWVzWzJdLnB1c2goZ2V0UmVkQ2F0ZWdvcnlWYWx1ZXMobW9udGhJbmRleCwgY2F0MkRpc3RyaWN0cywgdG90YWxEaXN0cmljdHMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeVZhbHVlc1szXS5wdXNoKGdldFJlZENhdGVnb3J5VmFsdWVzKG1vbnRoSW5kZXgsIGNhdDNEaXN0cmljdHMsIHRvdGFsRGlzdHJpY3RzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlWYWx1ZXNbNF0ucHVzaChnZXRSZWRDYXRlZ29yeVZhbHVlcyhtb250aEluZGV4LCBjYXQ0RGlzdHJpY3RzLCB0b3RhbERpc3RyaWN0cykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY2hhcnREYXRhLnB1c2goe2tleTogJ0NBVDEnLCBjb2xvcjogJ0RhcmtHcmVlbicsIHZhbHVlczogdm0uZmlsbE1pc3NpbmdWYWx1ZXMoY2F0ZWdvcnlWYWx1ZXNbMV0pfSk7XG4gICAgICAgICAgICAgICAgY2hhcnREYXRhLnB1c2goe2tleTogJ0NBVDInLCBjb2xvcjogJ1llbGxvdycsIHZhbHVlczogdm0uZmlsbE1pc3NpbmdWYWx1ZXMoY2F0ZWdvcnlWYWx1ZXNbMl0pfSk7XG4gICAgICAgICAgICAgICAgY2hhcnREYXRhLnB1c2goe2tleTogJ0NBVDMnLCBjb2xvcjogJ09yYW5nZScsIHZhbHVlczogdm0uZmlsbE1pc3NpbmdWYWx1ZXMoY2F0ZWdvcnlWYWx1ZXNbM10pfSk7XG4gICAgICAgICAgICAgICAgY2hhcnREYXRhLnB1c2goe2tleTogJ0NBVDQnLCBjb2xvcjogJ1JlZCcsIHZhbHVlczogdm0uZmlsbE1pc3NpbmdWYWx1ZXMoY2F0ZWdvcnlWYWx1ZXNbNF0pfSk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgeWVhckxhYmVsIGluIHBlcmlvZFZhbHVlcykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB2YWNjaW5lIGluIHBlcmlvZFZhbHVlc1t5ZWFyTGFiZWxdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0gdmFjY2luZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmICh2bS5hY3RpdmVEb3NlICE9IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBrZXkgPSB2bS5hY3RpdmVEb3NlIDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZXMgPSB2bS5maWxsTWlzc2luZ1ZhbHVlcyhwZXJpb2RWYWx1ZXNbeWVhckxhYmVsXVt2YWNjaW5lXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFydERhdGEucHVzaCh7a2V5OiBrZXksIHZhbHVlczogdmFsdWVzfSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjaGFydERhdGE7XG4gICAgICAgIH07XG5cbiAgICAgICAgdm0uZmlsbE1pc3NpbmdWYWx1ZXMgPSBmdW5jdGlvbih2YWx1ZXMpIHtcbiAgICAgICAgICAgIHZhciBtb250aEluZGV4ZXMgPSBfLnJhbmdlKDEsIDEzKTtcbiAgICAgICAgICAgIHZhciBleGlzdGluZ0luZGV4ZXMgPSB2YWx1ZXMubWFwKGZ1bmN0aW9uKGl0ZW0pIHsgcmV0dXJuIGl0ZW0ueDsgfSk7XG4gICAgICAgICAgICB2YXIgbmV3SW5kZXhlcyA9IG1vbnRoSW5kZXhlcy5maWx0ZXIoZnVuY3Rpb24odikge1xuICAgICAgICAgICAgICAgIHJldHVybiBleGlzdGluZ0luZGV4ZXMuaW5kZXhPZih2KSA8IDA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG5ld0luZGV4ZXMuZm9yRWFjaChmdW5jdGlvbihtb250aEluZGV4KSB7XG4gICAgICAgICAgICAgICAgdmFsdWVzLnB1c2goe3g6IG1vbnRoSW5kZXgsIHk6IDB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlcy5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtyZXR1cm4gYS54IC0gYi54fSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdm0uZ2V0Q2hhcnRPcHRpb25zID0gZnVuY3Rpb24ocmVwb3J0WWVhcikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBjaGFydDoge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbGluZUNoYXJ0JyxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiA0NTAsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiA0NTAsXG4gICAgICAgICAgICAgICAgICAgIHVzZUludGVyYWN0aXZlR3VpZGVsaW5lOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGl2ZUxheWVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBncmF2aXR5OiAncydcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgeDogZnVuY3Rpb24oZCl7IHJldHVybiBkLng7IH0sXG4gICAgICAgICAgICAgICAgICAgIHk6IGZ1bmN0aW9uKGQpeyByZXR1cm4gZC55OyB9LFxuICAgICAgICAgICAgICAgICAgICBmb3JjZVk6IFstMTAsMTUwXSxcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2g6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ2hhbmdlOiBmdW5jdGlvbihlKXsgY29uc29sZS5sb2coXCJzdGF0ZUNoYW5nZVwiKTsgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZVN0YXRlOiBmdW5jdGlvbihlKXsgY29uc29sZS5sb2coXCJjaGFuZ2VTdGF0ZVwiKTsgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2x0aXBTaG93OiBmdW5jdGlvbihlKXsgY29uc29sZS5sb2coXCJ0b29sdGlwU2hvd1wiKTsgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2x0aXBIaWRlOiBmdW5jdGlvbihlKXsgY29uc29sZS5sb2coXCJ0b29sdGlwSGlkZVwiKTsgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB4QXhpczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXhpc0xhYmVsOiAnTW9udGhzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpY2tGb3JtYXQ6IGZ1bmN0aW9uKGQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhcHBIZWxwZXJzLmdldE1vbnRoRnJvbU51bWJlcihkLCByZXBvcnRZZWFyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgeUF4aXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF4aXNMYWJlbDogJ1BlcmNlbnRhZ2UgKCUpJ1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oY2hhcnQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIiEhISBsaW5lQ2hhcnQgY2FsbGJhY2sgISEhXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcblxuICAgICAgICB2bS5nZXRDaGFydFRpdGxlID0gZnVuY3Rpb24odmFjY2luZSkge1xuICAgICAgICAgICAgdmFyIGR1cmF0aW9uID0gdm0uYWN0aXZlUmVwb3J0VG9nZ2xlWzBdID09ICdBJyA/IFwiQW5udWFsaXplZFwiIDogXCJNb250aGx5XCI7XG4gICAgICAgICAgICB2YXIgYW50aWdlbkxhYmVsID0gdm0uYWN0aXZlRG9zZSAhPSB1bmRlZmluZWQgPyB2bS5hY3RpdmVEb3NlIDogdmFjY2luZTtcbiAgICAgICAgICAgIGFudGlnZW5MYWJlbCA9ICh2YWNjaW5lID09IFwiQUxMXCIpID8gXCJhbnRpZ2Vuc1wiIDogYW50aWdlbkxhYmVsO1xuICAgICAgICAgICAgdmFyIHllYXJUeXBlID0gdm0uYWN0aXZlUmVwb3J0WWVhciA9PSAnQ1knID8gJ0NhbGVuZGFyIFllYXInIDogJ0ZpbmFuY2lhbCB5ZWFyJztcblxuICAgICAgICAgICAgdmFyIHRhYiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmICh2bS5wYXRoPT1cIi9jb3ZlcmFnZS9kcm9wb3V0cmF0ZVwiKVxuICAgICAgICAgICAgICAgIHRhYiA9IFwiRHJvcG91dCBSYXRlXCI7XG4gICAgICAgICAgICBlbHNlIGlmICh2bS5wYXRoPT1cIi9jb3ZlcmFnZS9yZWRjYXRlZ29yeVwiKVxuICAgICAgICAgICAgICAgIHRhYiA9IFwiUmVkIENhdGVnb3JpemF0aW9uXCI7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGFiID0gXCJDb3ZlcmFnZVwiO1xuXG4gICAgICAgICAgICByZXR1cm4gXCJUcmVuZCBvZiBcIiArIGR1cmF0aW9uICsgXCIgXCIgKyB0YWIgKyBcIiBvZiBcIiArXG4gICAgICAgICAgICAgICAgYW50aWdlbkxhYmVsICsgXCIgZm9yIFwiICsgdm0uYWN0aXZlQ292ZXJhZ2VZZWFyICsgXCIgXCIgKyB5ZWFyVHlwZTtcbiAgICAgICAgfTtcblxuICAgICAgICB2bS5nZXRWYWNjaW5lRG9zZXNCeVBlcmlvZCA9IGZ1bmN0aW9uKHBhcmFtcykge1xuXG4gICAgICAgICAgICBDb3ZlcmFnZVNlcnZpY2UuZ2V0VmFjY2luZURvc2VzQnlQZXJpb2QocGFyYW1zKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcblxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUub3B0aW9uc01DWSA9IHZtLmdldENoYXJ0T3B0aW9ucyhcIkNZXCIpO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUub3B0aW9uc0FDWSA9IHZtLmdldENoYXJ0T3B0aW9ucyhcIkNZXCIpO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUub3B0aW9uc01GWSA9IHZtLmdldENoYXJ0T3B0aW9ucyhcIkZZXCIpO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUub3B0aW9uc0FGWSA9IHZtLmdldENoYXJ0T3B0aW9ucyhcIkZZXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhTUNZID0gdm0uZ2V0Q2hhcnREYXRhKHBhcmFtcywgZGF0YSwgXCJDWVwiLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhQUNZID0gdm0uZ2V0Q2hhcnREYXRhKHBhcmFtcywgZGF0YSwgXCJDWVwiLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFNRlkgPSB2bS5nZXRDaGFydERhdGEocGFyYW1zLCBkYXRhLCBcIkZZXCIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFBRlkgPSB2bS5nZXRDaGFydERhdGEocGFyYW1zLCBkYXRhLCBcIkZZXCIsIHRydWUpO1xuXG4gICAgICAgICAgICAgICAgICAgIHNoZWxsU2NvcGUuY2hpbGQuY2hhcnRUaXRsZSA9IHZtLmdldENoYXJ0VGl0bGUodm0uc2VsZWN0ZWRBbnRpZ2VuKTtcblxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZtLmVuYWJsZVBERkRvd25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgc2hlbGxTY29wZS5jaGlsZC5kb3dubG9hZFBERiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAvL0ZpeCBjaGFydCBiZWZvcmUgZG93bmxvYWRcbiAgICAgICAgICAgICAgICAgICAgZDMuc2VsZWN0QWxsKFwic3ZnIC5udi1saW5lXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJmaWxsXCIsIFwiI2ZmZmZmZlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwiZmlsbC1vcGFjaXR5XCIsIDApO1xuXG4gICAgICAgICAgICAgICAgICAgIGQzLnNlbGVjdEFsbChcIi5udmQzIC5udi1iYWNrZ3JvdW5kXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJmaWxsXCIsIFwiI2ZmZmZmZlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwiZmlsbC1vcGFjaXR5XCIsIDApO1xuXG4gICAgICAgICAgICAgICAgICAgIGQzLnNlbGVjdEFsbChcIi5udmQzIC5udi1heGlzIGxpbmVcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZShcInN0cm9rZVwiLCBcIiNlNWU1ZTVcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgZDMuc2VsZWN0QWxsKFwiLm52ZDMgdGV4dFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwiZm9udFwiLCBcIm5vcm1hbCAxM3B4IEFyaWFsLCBzYW5zLXNlcmlmXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgIGQzLnNlbGVjdEFsbChcIi5udmQzIC5udi1ncm91cHMgLm52LXBvaW50XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJmaWxsLW9wYWNpdHlcIiwgMClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZShcInN0cm9rZS13aWR0aFwiLCBcIjBweFwiKTtcblxuICAgICAgICAgICAgICAgICAgICBkMy5zZWxlY3RBbGwoXCIubnZkMyAubnYtYXhpcyAuemVybyBsaW5lXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJzdHJva2VcIiwgXCIjNDA0MDQwXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgIGQzLnNlbGVjdEFsbChcIi5udi15IC5udi1heGlzIGcgcGF0aC5kb21haW5cIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZShcInN0cm9rZVwiLCBcIiM0MDQwNDBcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgZDMuc2VsZWN0QWxsKFwiLmxlZ2VuZFF1YW50IC5sYWJlbFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwiZm9udFwiLCBcIm5vcm1hbCAxMnB4IEFyaWFsLCBzYW5zLXNlcmlmXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBwZGYgPSBuZXcganNQREYoJ2wnLCAnbW0nKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB7IGZvcm1hdCA6ICdQTkcnIH07XG5cbiAgICAgICAgICAgICAgICAgICAgcGRmLmFkZEhUTUwoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwZGZSZXBvcnRcIiksIDAsIDAsIG9wdGlvbnMsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgIHBkZi5zYXZlKCdjb3ZlcmFnZS1yZXBvcnQucGRmJyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyAkc2NvcGUuJG9uKCdyZWZyZXNoJywgZnVuY3Rpb24oZSwgc3RhcnRNb250aCwgZW5kTW9udGgsIGRpc3RyaWN0LCB2YWNjaW5lKSB7XG4gICAgICAgIC8vICAgICBpZihzdGFydE1vbnRoLm5hbWUgJiYgZW5kTW9udGgubmFtZSAmJiBkaXN0cmljdC5uYW1lICYmIHZhY2NpbmUubmFtZSkge1xuICAgICAgICAkc2NvcGUuJG9uKFxuICAgICAgICAgICAgJ3JlZnJlc2hDb3ZlcmFnZTInLFxuICAgICAgICAgICAgZnVuY3Rpb24oZSwgZW5kTW9udGgsIHN0YXJ0WWVhciwgZW5kWWVhciwgYWN0aXZlQ292ZXJhZ2VZZWFyLCBhbnRpZ2VuLCBkb3NlLCBkaXN0cmljdCkge1xuICAgICAgICAgICAgICAgIC8qIGJ5IEZlbGl4OyBNdWx0aXBsZSBHZW9Kc29uIHJlcXVlc3RzIHdlcmUgYmVpbmcgc2VudCxcbiAgICAgICAgICAgICAgICB0cmFjZWQgdGhlIHByb2JsZW0gdG8gbXVsdGlwbGUgQ292ZXJhZ2VDb250cm9sbGVyIGNhbGxzLlxuICAgICAgICAgICAgICAgIEZvdW5kIHNvbHV0aW9uIGJ5IGNoZWNraW5nIGN1cnJlbnRTY29wZSBhcyBzaG93blxuICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgaWYgKCd2bScgaW4gZS5jdXJyZW50U2NvcGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy92bS5nZXRTdG9ja0J5RGlzdHJpY3Qoc3RhcnRNb250aC5uYW1lLCBlbmRNb250aC5uYW1lLCBkaXN0cmljdC5uYW1lLCB2YWNjaW5lLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAvL3ZtLmdldFN0b2NrQnlEaXN0cmljdFZhY2NpbmUoc3RhcnRNb250aC5uYW1lLCBlbmRNb250aC5uYW1lLCBkaXN0cmljdC5uYW1lLCB2YWNjaW5lLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAvL3ZtLmdldERISVMyVmFjY2luZURvc2VzKGVuZE1vbnRoLnBlcmlvZCwgZGlzdHJpY3QubmFtZSwgdmFjY2luZS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgdm0uYWN0aXZlRGlzdHJpY3QgPSBkaXN0cmljdDtcbiAgICAgICAgICAgICAgICAgICAgdm0uYWN0aXZlRG9zZSA9IGRvc2U7XG4gICAgICAgICAgICAgICAgICAgIHZtLmFjdGl2ZVN0YXJ0WWVhciA9IHN0YXJ0WWVhcjtcbiAgICAgICAgICAgICAgICAgICAgdm0uYWN0aXZlRW5kWWVhciA9IGVuZFllYXI7XG4gICAgICAgICAgICAgICAgICAgIHZtLnNlbGVjdGVkQW50aWdlbiA9IGFudGlnZW47XG4gICAgICAgICAgICAgICAgICAgIHZtLmFjdGl2ZUNvdmVyYWdlWWVhciA9IGFjdGl2ZUNvdmVyYWdlWWVhcjtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgZW5hYmxlRGlzdHJpY3RHcm91cGluZyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2bS5wYXRoID09ICcvY292ZXJhZ2UvcmVkY2F0ZWdvcnknKVxuICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlRGlzdHJpY3RHcm91cGluZyA9IDE7XG5cbiAgICAgICAgICAgICAgICAgICAgdm0uZW5hYmxlUERGRG93bmxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgdm0uZ2V0VmFjY2luZURvc2VzQnlEaXN0cmljdChlbmRNb250aC5wZXJpb2QsIGRpc3RyaWN0LCBhbnRpZ2VuKTtcbiAgICAgICAgICAgICAgICAgICAgdm0uZ2V0VmFjY2luZURvc2VzQnlQZXJpb2Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRZZWFyOiBhY3RpdmVDb3ZlcmFnZVllYXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRZZWFyOiBhY3RpdmVDb3ZlcmFnZVllYXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbnRpZ2VuOiBhbnRpZ2VuLFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9zZTogZG9zZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3RyaWN0OiBkaXN0cmljdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZURpc3RyaWN0R3JvdXBpbmc6IGVuYWJsZURpc3RyaWN0R3JvdXBpbmdcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gdm0uZ2V0VmFjY2luZURvc2VzKGVuZE1vbnRoLnBlcmlvZCwgYW50aWdlbiwgZGlzdHJpY3QpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aXZlQ292ZXJhZ2VZZWFyICE9IHZtLmxhc3RFbmRZZWFyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2bS5nZXRWYWNjaW5lRG9zZXMoYWN0aXZlQ292ZXJhZ2VZZWFyLCBhbnRpZ2VuLCBkaXN0cmljdCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2bS51cGRhdGVNYXBXaXRoVmFjY2luZShhbnRpZ2VuKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIHZtLmdldFJlZFZhY2NpbmVEb3NlcyhlbmRNb250aC5wZXJpb2QsIGFudGlnZW4pO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgdm0ubGFzdEVuZFllYXIgPSBhY3RpdmVDb3ZlcmFnZVllYXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICApO1xuXG4gICAgfVxuXG5dKVxuICAgIC5kaXJlY3RpdmUoXCJyZXBvcnRZZWFyVG9nZ2xlc1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnc3RhdGljL2FwcC9jb21wb25lbnRzL2NvdmVyYWdlL3JlcG9ydC15ZWFyLXRvZ2dsZXMuaHRtbCdcbiAgICAgICAgfVxuICAgIH0pO1xufSkod2luZG93LmFuZ3VsYXIpO1xuIiwiKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG4gICAgLy8gJ3VzZSBzdHJpY3QnO1xuYW5ndWxhci5tb2R1bGUoJ2Rhc2hib2FyZCcpXG4uY29udHJvbGxlcignRnJpZGdlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJ0ZyaWRnZVNlcnZpY2UnLCAnJHJvb3RTY29wZScsICdOZ1RhYmxlUGFyYW1zJywgJ0ZpbHRlclNlcnZpY2UnLFxuZnVuY3Rpb24oJHNjb3BlLCBGcmlkZ2VTZXJ2aWNlLCAkcm9vdFNjb3BlLCBOZ1RhYmxlUGFyYW1zLCBGaWx0ZXJTZXJ2aWNlKVxue1xuXG4gICAgdmFyIHZtID0gdGhpcztcbiAgICB2YXIgc2hlbGxTY29wZSA9ICRzY29wZS4kcGFyZW50O1xuICAgIHNoZWxsU2NvcGUuY2hpbGQgPSAkc2NvcGU7XG5cbiAgICB2bS5nZXRGcmlkZ2VBbGxEaXN0cmljdENhcGFjaXR5ID0gZnVuY3Rpb24oc3RhcnRRdWFydGVyLCBlbmRRdWFydGVyLCBmcmlkZ2VEaXN0cmljdCwgY2FyZWxldmVsKSB7XG5cbiAgICAgICAgdm0uc3RhcnRRdWFydGVyID0gdm0uc3RhcnRRdWFydGVyID8gdm0uc3RhcnRRdWFydGVyIDogXCIyMDE2MDFcIjtcbiAgICAgICAgdm0uZW5kUXVhcnRlciA9IHZtLmVuZFF1YXJ0ZXIgPyB2bS5lbmRRdWFydGVyIDogXCIyMDE2MDRcIjtcbiAgICAgICAgZnJpZGdlRGlzdHJpY3QgPSBcIlwiO1xuICAgICAgICB2bS5jYXJlbGV2ZWwgPSBjYXJlbGV2ZWw7XG5cbiAgICAgICAgRnJpZGdlU2VydmljZS5nZXRGcmlkZ2VEaXN0cmljdENhcGFjaXR5KHN0YXJ0UXVhcnRlciwgZW5kUXVhcnRlciwgZnJpZGdlRGlzdHJpY3QsIGNhcmVsZXZlbClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuXG4gICAgICAgICAgICB2bS5kYXRhID0gYW5ndWxhci5jb3B5KGRhdGEpO1xuXG4gICAgICAgICAgICB0YWJsZWRhdGFBbGxkaXN0cmljdHMgPSB2bS5kYXRhLmZpbHRlcihcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZtLnRhYmxlUGFyYW1zQ2FwYWNpdHlBbGxkaXN0cmljdHMgPSBuZXcgTmdUYWJsZVBhcmFtcyh7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2U6IDEsXG4gICAgICAgICAgICAgICAgICAgIGNvdW50OiAxMFxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyRGVsYXk6IDAsXG4gICAgICAgICAgICAgICAgICAgIGNvdW50czogW10sXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHRhYmxlZGF0YUFsbGRpc3RyaWN0cyxcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vPT09PUFkZGl0aW9uYWwgTWV0cmljcz09PT1cblxuICAgICAgICAgICAgICAgIHZhciBtZXRyaWNzID0gRnJpZGdlU2VydmljZS5nZXRGcmlkZ2VDYXBhY2l0eU1ldHJpY3Modm0uZGF0YSk7XG5cbiAgICAgICAgICAgICAgICBzaGVsbFNjb3BlLmNoaWxkLnVzdXJwID0gbWV0cmljcy5zdXJwbHVzO1xuICAgICAgICAgICAgICAgIHNoZWxsU2NvcGUuY2hpbGQudXN1ZmZpY2llbnQgPSBtZXRyaWNzLnN1ZmZpY2llbnQ7XG4gICAgICAgICAgICAgICAgc2hlbGxTY29wZS5jaGlsZC51c2hvcnRhZ2U9IG1ldHJpY3Muc2hvcnRhZ2U7XG4gICAgICAgICAgICB9KTtcblxuXG4gICAgICAgIH07XG5cbiAgICAgICAgdm0uZ2V0RnJpZGdlRGlzdHJpY3RDYXBhY2l0eSA9IGZ1bmN0aW9uKHN0YXJ0UXVhcnRlciwgZW5kUXVhcnRlciwgZnJpZGdlRGlzdHJpY3QsIGNhcmVsZXZlbCkge1xuXG4gICAgICAgICAgICB2bS5zdGFydFF1YXJ0ZXIgPyB2bS5zdGFydFF1YXJ0ZXIgOiBcIjIwMTYwMVwiO1xuICAgICAgICAgICAgdm0uZW5kUXVhcnRlciA9IHZtLmVuZFF1YXJ0ZXIgPyB2bS5lbmRRdWFydGVyIDogXCIyMDE2MDRcIjtcbiAgICAgICAgICAgIGRpc3RyaWN0ID0gXCJcIjtcbiAgICAgICAgICAgIHZtLmZyaWRnZURpc3RyaWN0ID0gZnJpZGdlRGlzdHJpY3Q7XG4gICAgICAgICAgICB2bS5jYXJlbGV2ZWwgPSBjYXJlbGV2ZWw7XG5cbiAgICAgICAgICAgIEZyaWRnZVNlcnZpY2UuZ2V0RnJpZGdlRGlzdHJpY3RDYXBhY2l0eShzdGFydFF1YXJ0ZXIsIGVuZFF1YXJ0ZXIsIGZyaWRnZURpc3RyaWN0LCBjYXJlbGV2ZWwpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG5cbiAgICAgICAgICAgICAgICB2bS5kYXRhID0gYW5ndWxhci5jb3B5KGRhdGEpO1xuXG5cbiAgICAgICAgICAgICAgICAvLyBjYWxjdWxhdGUgdG90YWxzXG5cbiAgICAgICAgICAgICAgICBzaGVsbFNjb3BlLmNoaWxkLmZyaWRnZURpc3RyaWN0ID0gZGlzdHJpY3Q7XG5cblxuXG5cbiAgICAgICAgICAgICAgICAvLyBjb25zdHJ1Y3QgRGlzdHJpY3QgZ3JhcGggZGF0YVxuICAgICAgICAgICAgICAgIHZhciBncmFwaGRhdGEgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgc2VyaWVzUmVxdWlyZWQgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgc2VyaWVzQXZhaWxhYmxlID0gW107XG4gICAgICAgICAgICAgICAgdmFyIHNlcmllc0dhcCA9IFtdO1xuICAgICAgICAgICAgICAgIHNoZWxsU2NvcGUuY2hpbGQuYXZhaWxhYmxlID0gMDtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdm0uZGF0YS5sZW5ndGggOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgc2VyaWVzUmVxdWlyZWQucHVzaChbdm0uZGF0YVtpXS5xdWFydGVyLnNsaWNlKDAsNCkgKyBcIi1RXCIgKyB2bS5kYXRhW2ldLnF1YXJ0ZXIuc2xpY2UoNSw2KSwgdm0uZGF0YVtpXS5yZXF1aXJlZF0pXG4gICAgICAgICAgICAgICAgICAgIHNlcmllc0F2YWlsYWJsZS5wdXNoKFt2bS5kYXRhW2ldLnF1YXJ0ZXIuc2xpY2UoMCw0KSArIFwiLVFcIiArIHZtLmRhdGFbaV0ucXVhcnRlci5zbGljZSg1LDYpLCB2bS5kYXRhW2ldLmF2YWlsYWJsZV0pXG4gICAgICAgICAgICAgICAgICAgIHNlcmllc0dhcC5wdXNoKFt2bS5kYXRhW2ldLnF1YXJ0ZXIuc2xpY2UoMCw0KSArIFwiLVFcIiArIHZtLmRhdGFbaV0ucXVhcnRlci5zbGljZSg1LDYpLCB2bS5kYXRhW2ldLmdhcF0pXG4gICAgICAgICAgICAgICAgICAgIGlmICh2bS5kYXRhW2ldLnF1YXJ0ZXIpe1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hlbGxTY29wZS5jaGlsZC5hdmFpbGFibGUgPSB2bS5kYXRhW2ldLmF2YWlsYWJsZVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICBzZXJpZXNSZXF1aXJlZCA9IFtbMjAxNjAyLCAzMF0sIFsyMDE2MDMsIDMwXV07XG4gICAgICAgICAgICAgICAgc2VyaWVzQXZhaWxhYmxlID0gW1syMDE2MDIsIDYwXSwgWzIwMTYwMywgMjBdXTtcbiAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICAgICAgZ3JhcGhkYXRhLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBrZXk6IFwiUmVxdWlyZWRcIixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzOiBzZXJpZXNSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6JyMyQTQ0OEEnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZ3JhcGhkYXRhLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBrZXk6IFwiQXZhaWxhYmxlXCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlczogc2VyaWVzQXZhaWxhYmxlLFxuICAgICAgICAgICAgICAgICAgICBjb2xvcjonZ3JlZW4nXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB2bS5ncmFwaCA9IGdyYXBoZGF0YTtcblxuXG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIGdyYXBoXG4gICAgICAgICAgICAgICAgdm0ub3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgY2hhcnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwibXVsdGlCYXJDaGFydFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiA0NTAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW46IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IDIwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAyMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3R0b206IDQ1LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IDQ1XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xpcEVkZ2U6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFja2VkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgeDogZnVuY3Rpb24oZCl7IHJldHVybiBkWzBdOyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeTogZnVuY3Rpb24oZCl7IHJldHVybiBkWzFdOyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1ZhbHVlczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dZQXhpczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbG9yOiBmdW5jdGlvbihkKXsgcmV0dXJuICdncmVlbid9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdmFsdWVGb3JtYXQ6IGZ1bmN0aW9uKGQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgcmV0dXJuIHRpY2tGb3JtYXQoZDMuZm9ybWF0KCcsLjFmJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy99XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfTtcblxuXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIHZtLmdldEZyaWRnZUZhY2lsaXR5Q2FwYWNpdHkgPSBmdW5jdGlvbihzdGFydFF1YXJ0ZXIsIGVuZFF1YXJ0ZXIsIGZyaWRnZURpc3RyaWN0LCBjYXJlbGV2ZWwpIHtcblxuICAgICAgICAgICAgdm0uc3RhcnRRdWFydGVyID8gdm0uc3RhcnRRdWFydGVyIDogXCIyMDE2MDFcIjtcbiAgICAgICAgICAgIHZtLmVuZFF1YXJ0ZXIgPSB2bS5lbmRRdWFydGVyID8gdm0uZW5kUXVhcnRlciA6IFwiMjAxNjA0XCI7XG4gICAgICAgICAgICBkaXN0cmljdCA9IFwiXCI7XG4gICAgICAgICAgICB2bS5kaXN0cmljdCA9IGZyaWRnZURpc3RyaWN0O1xuICAgICAgICAgICAgdm0uY2FyZWxldmVsID0gY2FyZWxldmVsO1xuXG4gICAgICAgICAgICBGcmlkZ2VTZXJ2aWNlLmdldEZyaWRnZUZhY2lsaXR5Q2FwYWNpdHkoc3RhcnRRdWFydGVyLCBlbmRRdWFydGVyLCBmcmlkZ2VEaXN0cmljdCwgY2FyZWxldmVsKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuXG4gICAgICAgICAgICAgICAgdm0uZGF0YSA9IGFuZ3VsYXIuY29weShkYXRhKTtcbiAgICAgICAgICAgICAgICB2bS50YWJsZVBhcmFtc19mID0gbmV3IE5nVGFibGVQYXJhbXMoe1xuICAgICAgICAgICAgICAgICAgICBwYWdlOiAxLFxuICAgICAgICAgICAgICAgICAgICBjb3VudDogMTVcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlckRlbGF5OiAwLFxuICAgICAgICAgICAgICAgICAgICBjb3VudHM6IFtdLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB2bS5kYXRhLFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gY2FsY3VsYXRlIHRvdGFsc1xuICAgICAgICAgICAgICAgIHNoZWxsU2NvcGUuY2hpbGQuZnJpZGdlRGlzdHJpY3QgPSB2bS5mcmlkZ2VEaXN0cmljdDtcbiAgICAgICAgICAgICAgICBzaGVsbFNjb3BlLmNoaWxkLmNhcmVsZXZlbCA9IHZtLmNhcmVsZXZlbDtcblxuICAgICAgICAgICAgICAgIC8vPT09PUFkZGl0aW9uYWwgTWV0cmljcz09PT1cblxuICAgICAgICAgICAgICAgIHZhciBtZXRyaWNzID0gRnJpZGdlU2VydmljZS5nZXRGcmlkZ2VDYXBhY2l0eU1ldHJpY3Modm0uZGF0YSk7XG5cbiAgICAgICAgICAgICAgICBzaGVsbFNjb3BlLmNoaWxkLnV0c3VycCA9IChtZXRyaWNzLnN1cnBsdXMvbWV0cmljcy50b3RhbCkqMTAwO1xuICAgICAgICAgICAgICAgIHNoZWxsU2NvcGUuY2hpbGQudXRzdWZmaWNpZW50ID0gKG1ldHJpY3Muc3VmZmljaWVudC9tZXRyaWNzLnRvdGFsKSoxMDA7XG4gICAgICAgICAgICAgICAgc2hlbGxTY29wZS5jaGlsZC51dHNob3J0YWdlPSAobWV0cmljcy5zaG9ydGFnZS9tZXRyaWNzLnRvdGFsKSoxMDA7XG5cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgdm0uZ2V0RnJpZGdlQWxsRGlzdHJpY3RSZWZyaWdlcmF0b3IgPSBmdW5jdGlvbihzdGFydFF1YXJ0ZXIsIGVuZFF1YXJ0ZXIsIGZyaWRnZURpc3RyaWN0LCBjYXJlbGV2ZWwpIHtcblxuICAgICAgICAgICAgdm0uc3RhcnRRdWFydGVyID0gdm0uc3RhcnRRdWFydGVyID8gdm0uc3RhcnRRdWFydGVyIDogXCIyMDE2MDFcIjtcbiAgICAgICAgICAgIHZtLmVuZFF1YXJ0ZXIgPSB2bS5lbmRRdWFydGVyID8gdm0uZW5kUXVhcnRlciA6IFwiMjAxNjA0XCI7XG4gICAgICAgICAgICBmcmlkZ2VEaXN0cmljdCA9IFwiXCI7XG4gICAgICAgICAgICB2bS5mcmlkZ2VEaXN0cmljdCA9IGZyaWRnZURpc3RyaWN0O1xuICAgICAgICAgICAgdm0uY2FyZWxldmVsID0gY2FyZWxldmVsO1xuXG4gICAgICAgICAgICBGcmlkZ2VTZXJ2aWNlLmdldEZyaWRnZURpc3RyaWN0UmVmcmlnZXJhdG9yKHN0YXJ0UXVhcnRlciwgZW5kUXVhcnRlciwgZnJpZGdlRGlzdHJpY3QsIGNhcmVsZXZlbClcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcblxuICAgICAgICAgICAgICAgIHZtLmRhdGEgPSBhbmd1bGFyLmNvcHkoZGF0YSk7XG4gICAgICAgICAgICAgICAgdGFibGVkYXRhQWxsZGlzdHJpY3RzID0gdm0uZGF0YS5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdm0udGFibGVQYXJhbXNGdW5jdGlvbmFsaXR5QWxsZGlzdHJpY3RzID0gbmV3IE5nVGFibGVQYXJhbXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFnZTogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50OiAxMFxuICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJEZWxheTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50czogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB0YWJsZWRhdGFBbGxkaXN0cmljdHMsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2bS5nZXRGcmlkZ2VEaXN0cmljdFJlZnJpZ2VyYXRvciA9IGZ1bmN0aW9uKHN0YXJ0UXVhcnRlciwgZW5kUXVhcnRlciwgZnJpZGdlRGlzdHJpY3QsIGNhcmVsZXZlbCkge1xuXG4gICAgICAgICAgICAgICAgdm0uc3RhcnRRdWFydGVyID0gdm0uc3RhcnRRdWFydGVyID8gdm0uc3RhcnRRdWFydGVyIDogXCIyMDE2MDFcIjtcbiAgICAgICAgICAgICAgICB2bS5lbmRRdWFydGVyID0gdm0uZW5kUXVhcnRlciA/IHZtLmVuZFF1YXJ0ZXIgOiBcIjIwMTYwNFwiO1xuICAgICAgICAgICAgICAgIGRpc3RyaWN0ID0gXCJcIjtcbiAgICAgICAgICAgICAgICB2bS5jYXJlbGV2ZWwgPSBjYXJlbGV2ZWw7XG5cbiAgICAgICAgICAgICAgICBGcmlkZ2VTZXJ2aWNlLmdldEZyaWRnZURpc3RyaWN0UmVmcmlnZXJhdG9yKHN0YXJ0UXVhcnRlciwgZW5kUXVhcnRlciwgZnJpZGdlRGlzdHJpY3QsIGNhcmVsZXZlbClcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdm0uZGF0YSA9IGFuZ3VsYXIuY29weShkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgdGFibGVkYXRhQWxsZGlzdHJpY3RzID0gdm0uZGF0YS5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZtLnRhYmxlUGFyYW1zQWxsZGlzdHJpY3RzID0gbmV3IE5nVGFibGVQYXJhbXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2U6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnQ6IDEwXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyRGVsYXk6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnRzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB0YWJsZWRhdGFBbGxkaXN0cmljdHMsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdm0udGFibGVQYXJhbXNfZCA9IG5ldyBOZ1RhYmxlUGFyYW1zKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50OiAxNVxuICAgICAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlckRlbGF5OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50czogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogdm0uZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zdHJ1Y3QgRGlzdHJpY3QgZ3JhcGggZGF0YVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZ3JhcGhmdW5jdGlvbmFsaXR5ZGF0YSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlcmllc0V4aXN0aW5nID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VyaWVzTm90V29ya2luZyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlcmllc21haW50ZW5hbmNlID0gW107XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNoZWxsU2NvcGUuY2hpbGQuZnVuY3Rpb25hbGl0eSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaGVsbFNjb3BlLmNoaWxkLmZyaWRnZURpc3RyaWN0ID0gZGlzdHJpY3Q7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2bS5kYXRhLmxlbmd0aCA7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcmllc0V4aXN0aW5nLnB1c2goW3ZtLmRhdGFbaV0ucXVhcnRlci5zbGljZSgwLDQpICsgXCItUVwiICsgdm0uZGF0YVtpXS5xdWFydGVyLnNsaWNlKDUsNiksIHZtLmRhdGFbaV0ubnVtYmVyX2V4aXN0aW5nXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJpZXNOb3RXb3JraW5nLnB1c2goW3ZtLmRhdGFbaV0ucXVhcnRlci5zbGljZSgwLDQpICsgXCItUVwiICsgdm0uZGF0YVtpXS5xdWFydGVyLnNsaWNlKDUsNiksIHZtLmRhdGFbaV0ubm90X3dvcmtpbmddKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcmllc21haW50ZW5hbmNlLnB1c2goW3ZtLmRhdGFbaV0ucXVhcnRlci5zbGljZSgwLDQpICsgXCItUVwiICsgdm0uZGF0YVtpXS5xdWFydGVyLnNsaWNlKDUsNiksIHZtLmRhdGFbaV0ubmVlZHNfbWFpbnRlbmFuY2VdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2bS5kYXRhW2ldLnF1YXJ0ZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hlbGxTY29wZS5jaGlsZC5mdW5jdGlvbmFsaXR5ID0gKHZtLmRhdGFbaV0ubnVtYmVyX2V4aXN0aW5nIC0gdm0uZGF0YVtpXS5ub3Rfd29ya2luZykvdm0uZGF0YVtpXS5udW1iZXJfZXhpc3RpbmcqMTAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBncmFwaGZ1bmN0aW9uYWxpdHlkYXRhLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogXCJFeGlzdGluZ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlczogc2VyaWVzRXhpc3RpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6J2dyZWVuJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBncmFwaGZ1bmN0aW9uYWxpdHlkYXRhLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogXCJOb3QgV29ya2luZ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlczogc2VyaWVzTm90V29ya2luZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjonIzJBNDQ4QSdcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3JhcGhmdW5jdGlvbmFsaXR5ZGF0YS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IFwiTmVlZHMgbWFpbnRlbmFuY2VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXM6IHNlcmllc21haW50ZW5hbmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOidyZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdm0uZ3JhcGhmdW5jdGlvbmFsaXR5ID0gZ3JhcGhmdW5jdGlvbmFsaXR5ZGF0YTtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgZ3JhcGhcbiAgICAgICAgICAgICAgICAgICAgICAgIHZtLm9wdGlvbnNmdW5jdGlvbmFsaXR5ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwibXVsdGlCYXJDaGFydFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDQ1MCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IDIwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IDIwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tOiA0NSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IDQ1XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb250cm9sczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaXBFZGdlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFja2VkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiBmdW5jdGlvbihkKXsgcmV0dXJuIGRbMF07IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IGZ1bmN0aW9uKGQpeyByZXR1cm4gZFsxXTsgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1ZhbHVlczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1lBeGlzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy92YWx1ZUZvcm1hdDogZnVuY3Rpb24oZCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgIHJldHVybiB0aWNrRm9ybWF0KGQzLmZvcm1hdCgnLC4xZicpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cblxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgdm0uZ2V0RnJpZGdlRmFjaWxpdHlSZWZyaWdlcmF0b3IgPSBmdW5jdGlvbihzdGFydFF1YXJ0ZXIsIGVuZFF1YXJ0ZXIsIGZyaWRnZURpc3RyaWN0LCBjYXJlbGV2ZWwpIHtcblxuICAgICAgICAgICAgICAgICAgICB2bS5zdGFydFF1YXJ0ZXIgPyB2bS5zdGFydFF1YXJ0ZXIgOiBcIjIwMTYwMVwiO1xuICAgICAgICAgICAgICAgICAgICB2bS5lbmRRdWFydGVyID0gdm0uZW5kUXVhcnRlciA/IHZtLmVuZFF1YXJ0ZXIgOiBcIjIwMTYwNFwiO1xuICAgICAgICAgICAgICAgICAgICBkaXN0cmljdCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIHZtLmRpc3RyaWN0ID0gZnJpZGdlRGlzdHJpY3Q7XG4gICAgICAgICAgICAgICAgICAgIHZtLmNhcmVsZXZlbCA9IGNhcmVsZXZlbDtcblxuICAgICAgICAgICAgICAgICAgICBGcmlkZ2VTZXJ2aWNlLmdldEZyaWRnZUZhY2lsaXR5UmVmcmlnZXJhdG9yKHN0YXJ0UXVhcnRlciwgZW5kUXVhcnRlciwgZnJpZGdlRGlzdHJpY3QsIGNhcmVsZXZlbClcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2bS5kYXRhID0gYW5ndWxhci5jb3B5KGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVkYXRhQWxsZmFjaWxpdGllcyA9IHZtLmRhdGEuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2bS50YWJsZVBhcmFtc0FsbGZhY2lsaXRpZXMgPSBuZXcgTmdUYWJsZVBhcmFtcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2U6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50OiAxMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyRGVsYXk6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50czogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHRhYmxlZGF0YUFsbGZhY2lsaXRpZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2bS50YWJsZVBhcmFtc19mID0gbmV3IE5nVGFibGVQYXJhbXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudDogMTVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlckRlbGF5OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudHM6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB2bS5kYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FsY3VsYXRlIHRvdGFsc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoZWxsU2NvcGUuY2hpbGQuZnJpZGdlRGlzdHJpY3QgPSB2bS5mcmlkZ2VEaXN0cmljdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGVsbFNjb3BlLmNoaWxkLmNhcmVsZXZlbCA9IHZtLmNhcmVsZXZlbDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgdm0uZ2V0RnJpZGdlQWxsRGlzdHJpY3RJbW11bml6aW5nRmFjaWxpdHkgPSBmdW5jdGlvbihzdGFydFF1YXJ0ZXIsIGVuZFF1YXJ0ZXIsIGZyaWRnZURpc3RyaWN0LCBjYXJlbGV2ZWwpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdm0uc3RhcnRRdWFydGVyID0gdm0uc3RhcnRRdWFydGVyID8gdm0uc3RhcnRRdWFydGVyIDogXCIyMDE2MDFcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZtLmVuZFF1YXJ0ZXIgPSB2bS5lbmRRdWFydGVyID8gdm0uZW5kUXVhcnRlciA6IFwiMjAxNjA0XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcmlkZ2VEaXN0cmljdCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB2bS5jYXJlbGV2ZWwgPSBjYXJlbGV2ZWw7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIEZyaWRnZVNlcnZpY2UuZ2V0RnJpZGdlRGlzdHJpY3RJbW11bml6aW5nRmFjaWxpdHkoc3RhcnRRdWFydGVyLCBlbmRRdWFydGVyLCBmcmlkZ2VEaXN0cmljdCwgY2FyZWxldmVsKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdm0uZGF0YSA9IGFuZ3VsYXIuY29weShkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxEYXRhID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJsZWRhdGFBbGxkaXN0cmljdHMgPSB2bS5kYXRhLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2bS50YWJsZVBhcmFtc0ltbXVuaXppbmdBbGxkaXN0cmljdHMgPSBuZXcgTmdUYWJsZVBhcmFtcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnQ6IDEwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlckRlbGF5OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnRzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHRhYmxlZGF0YUFsbGRpc3RyaWN0cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZtLmdldEZyaWRnZURpc3RyaWN0SW1tdW5pemluZ0ZhY2lsaXR5ID0gZnVuY3Rpb24oc3RhcnRRdWFydGVyLCBlbmRRdWFydGVyLCBmcmlkZ2VEaXN0cmljdCwgY2FyZWxldmVsKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2bS5zdGFydFF1YXJ0ZXIgPyB2bS5zdGFydFF1YXJ0ZXIgOiBcIjIwMTYwMVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZtLmVuZFF1YXJ0ZXIgPSBlbmRRdWFydGVyLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzdHJpY3QgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZtLmRpc3RyaWN0ID0gZnJpZGdlRGlzdHJpY3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdm0uY2FyZWxldmVsID0gY2FyZWxldmVsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRnJpZGdlU2VydmljZS5nZXRGcmlkZ2VEaXN0cmljdEltbXVuaXppbmdGYWNpbGl0eShzdGFydFF1YXJ0ZXIsIGVuZFF1YXJ0ZXIsIGZyaWRnZURpc3RyaWN0LCBjYXJlbGV2ZWwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZtLmRhdGEgPSBhbmd1bGFyLmNvcHkoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlZGF0YUFsbGZyaWRnZSA9IHZtLmRhdGEuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2bS50YWJsZVBhcmFtc0FsbGZyaWRnZSA9IG5ldyBOZ1RhYmxlUGFyYW1zKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50OiAxMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlckRlbGF5OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50czogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogdGFibGVkYXRhQWxsZnJpZGdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZtLnRhYmxlUGFyYW1zX2QgPSBuZXcgTmdUYWJsZVBhcmFtcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZTogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudDogMTVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJEZWxheTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudHM6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHZtLmRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FsY3VsYXRlIHRvdGFsc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hlbGxTY29wZS5jaGlsZC5mcmlkZ2VEaXN0cmljdCA9IGRpc3RyaWN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hlbGxTY29wZS5jaGlsZC5xdWFydGVyID0gZW5kUXVhcnRlci5uYW1lIC0gMjtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zdHJ1Y3QgRGlzdHJpY3QgZ3JhcGggZGF0YVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGdyYXBoZGF0YWltbXVuaXppbmcgPSBbXTtcblxuXG5cblxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZtLmRhdGEubGVuZ3RoIDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIEltbXVuaXppbmcgPSB2bS5kYXRhW2ldLmltbXVuaXppbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIE5vdEltbXVuaXppbmcgPSB2bS5kYXRhW2ldLlRvdGFsX2ZhY2lsaXRpZXMgLSB2bS5kYXRhW2ldLmltbXVuaXppbmc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGVsbFNjb3BlLmNoaWxkLmZhY2lsaXR5ID0gdm0uZGF0YVtpXS5pbW11bml6aW5nO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgZ3JhcGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZtLm9wdGlvbnNpbW11bml6aW5nID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwaWVDaGFydCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogNTAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogNTAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQua2V5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQueTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0xhYmVsczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDUwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxUaHJlc2hvbGQ6IDAuMDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsU3VuYmVhbUxheW91dDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVnZW5kOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW46IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IDUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IDM1LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvdHRvbTogNSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm0uZ3JhcGhpbW11bml6aW5nID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBcIkltbXVuaXppbmdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogSW1tdW5pemluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6J2dyZWVuJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IFwiTm90IEltbXVuaXppbmdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogTm90SW1tdW5pemluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6JyMyQTQ0OEEnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS4kb24oJ3JlZnJlc2hDYXBhY2l0eScsIGZ1bmN0aW9uKGUsIHN0YXJ0UXVhcnRlciwgZW5kUXVhcnRlciwgZnJpZGdlRGlzdHJpY3QsIGNhcmVsZXZlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihzdGFydFF1YXJ0ZXIgJiYgZW5kUXVhcnRlciAmJiBmcmlkZ2VEaXN0cmljdC5kaXN0cmljdClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm0uZ2V0RnJpZGdlRGlzdHJpY3RSZWZyaWdlcmF0b3Ioc3RhcnRRdWFydGVyLCBlbmRRdWFydGVyLCBmcmlkZ2VEaXN0cmljdC5kaXN0cmljdCwgY2FyZWxldmVsLmdyb3VwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZtLmdldEZyaWRnZUFsbERpc3RyaWN0UmVmcmlnZXJhdG9yKHN0YXJ0UXVhcnRlciwgZW5kUXVhcnRlciwgZnJpZGdlRGlzdHJpY3QuZGlzdHJpY3QsIGNhcmVsZXZlbC5ncm91cCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2bS5nZXRGcmlkZ2VGYWNpbGl0eVJlZnJpZ2VyYXRvcihzdGFydFF1YXJ0ZXIsIGVuZFF1YXJ0ZXIsIGZyaWRnZURpc3RyaWN0LmRpc3RyaWN0LCBjYXJlbGV2ZWwuZ3JvdXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm0uZ2V0RnJpZGdlQWxsRGlzdHJpY3RJbW11bml6aW5nRmFjaWxpdHkoc3RhcnRRdWFydGVyLCBlbmRRdWFydGVyLCBmcmlkZ2VEaXN0cmljdC5kaXN0cmljdCwgY2FyZWxldmVsLmdyb3VwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZtLmdldEZyaWRnZURpc3RyaWN0SW1tdW5pemluZ0ZhY2lsaXR5KHN0YXJ0UXVhcnRlciwgZW5kUXVhcnRlciwgZnJpZGdlRGlzdHJpY3QuZGlzdHJpY3QsIGNhcmVsZXZlbC5ncm91cCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2bS5nZXRGcmlkZ2VBbGxEaXN0cmljdENhcGFjaXR5KHN0YXJ0UXVhcnRlciwgZW5kUXVhcnRlciwgZnJpZGdlRGlzdHJpY3QuZGlzdHJpY3QsIGNhcmVsZXZlbC5ncm91cCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2bS5nZXRGcmlkZ2VEaXN0cmljdENhcGFjaXR5KHN0YXJ0UXVhcnRlciwgZW5kUXVhcnRlciwgZnJpZGdlRGlzdHJpY3QuZGlzdHJpY3QsIGNhcmVsZXZlbC5ncm91cCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2bS5nZXRGcmlkZ2VGYWNpbGl0eUNhcGFjaXR5KHN0YXJ0UXVhcnRlciwgZW5kUXVhcnRlciwgZnJpZGdlRGlzdHJpY3QuZGlzdHJpY3QsIGNhcmVsZXZlbC5ncm91cCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgXSk7XG59KSh3aW5kb3cuYW5ndWxhcik7XG4iLCIoZnVuY3Rpb24gKGFuZ3VsYXIpIHtcbiAgICAvLyAndXNlIHN0cmljdCc7XG5hbmd1bGFyLm1vZHVsZSgnZGFzaGJvYXJkJylcbiAgICAuY29udHJvbGxlcignUGxhbm5pbmdDb250cm9sbGVyJywgWyckc2NvcGUnLCAnQW5udWFsU2VydmljZScsICckcm9vdFNjb3BlJywgJ05nVGFibGVQYXJhbXMnLCAnRmlsdGVyU2VydmljZScsXG4gICAgZnVuY3Rpb24oJHNjb3BlLCBBbm51YWxTZXJ2aWNlLCAkcm9vdFNjb3BlLCBOZ1RhYmxlUGFyYW1zLCBGaWx0ZXJTZXJ2aWNlKVxuICAgIHtcbiAgICAgICAgdmFyIHZtID0gdGhpcztcbiAgICAgICAgdmFyIHNoZWxsU2NvcGUgPSAkc2NvcGUuJHBhcmVudDtcbiAgICAgICAgc2hlbGxTY29wZS5jaGlsZCA9ICRzY29wZTtcblxuICAgICAgICB2bS5nZXRGdW5kQWN0aXZpdGllcyA9IGZ1bmN0aW9uKHllYXIpIHtcbiAgICAgICAgICAgIHllYXIgPSBcIlwiXG4gICAgICAgICAgICB2bS55ZWFyID0geWVhcjtcblxuICAgICAgICAgICAgQW5udWFsU2VydmljZS5nZXRGdW5kQWN0aXZpdGllcyh5ZWFyKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmxlZGF0YV9mdW5kZWQgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmxlZGF0YV91bmZ1bmRlZCA9IFtdO1xuXG4gICAgICAgICAgICAgICAgICAgIHZtLmRhdGEgPSBhbmd1bGFyLmNvcHkoZGF0YSk7XG5cblxuICAgICAgICAgICAgICAgICAgICB0YWJsZWRhdGFfZnVuZGVkID0gdm0uZGF0YS5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUuZnVuZCA9PSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgIHRhYmxlZGF0YV91bmZ1bmRlZCA9IHZtLmRhdGEuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLmZ1bmQgPT0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICk7XG5cblxuICAgICAgICAgICAgICAgICAgICB0YWJsZWRhdGFmdW5kID0gdm0uZGF0YS5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdm0udGFibGVQYXJhbXNmdW5kZWQgPSBuZXcgTmdUYWJsZVBhcmFtcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYWdlOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnQ6IDE1XG4gICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlckRlbGF5OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnRzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHRhYmxlZGF0YWZ1bmQsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSB0b3RhbHNcblxuICAgICAgICAgICAgICAgICAgICB2YXIgZ3JhcGhkYXRhZnVuZCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZnVuZGVkID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVuZnVuZGVkID0gMDtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZtLmRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2bS5kYXRhW2ldLmZ1bmQgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmRlZCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodm0uZGF0YVtpXS5mdW5kID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5mdW5kZWQrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG5cblxuXG4gICAgICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBncmFwaFxuICAgICAgICAgICAgICAgICAgICB2bS5mdW5kYWN0aXZpdHkgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFydDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwaWVDaGFydCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiA1MDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDUwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC5rZXk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC55O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0xhYmVsczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNTAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsVGhyZXNob2xkOiAwLjAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsU3VuYmVhbUxheW91dDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWdlbmQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IDUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByaWdodDogMzUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3R0b206IDUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGZ1bmRlZCA9PSB2bS5kYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdm0uZ3JhcGhmdW5kZWRhY3Rpdml0aWVzID0gW107XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2bS50YWJsZVBhcmFtc19mdW5kZWQgPSBuZXcgTmdUYWJsZVBhcmFtcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZTogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudDogMTVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJEZWxheTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudHM6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHRhYmxlZGF0YV9mdW5kZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdm0udGFibGVQYXJhbXNfdW5mdW5kZWQgPSBuZXcgTmdUYWJsZVBhcmFtcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZTogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudDogMTVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJEZWxheTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudHM6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHRhYmxlZGF0YV91bmZ1bmRlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZtLmdyYXBoZnVuZGVkYWN0aXZpdGllcyA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogXCJGdW5kZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogKGZ1bmRlZCAvIHZtLmRhdGEubGVuZ3RoKSAqIDEwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6J2dyZWVuJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IFwiVW5mdW5kZWQgQWN0aXZpdGllc1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiAodW5mdW5kZWQgLyB2bS5kYXRhLmxlbmd0aCkgKiAxMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOidyZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB2bS5nZXRQcmlvcml0eUFjdGl2aXRpZXMgPSBmdW5jdGlvbih5ZWFyKSB7XG4gICAgICAgICAgICB5ZWFyID0gXCJcIlxuICAgICAgICAgICAgdm0ueWVhciA9IHllYXI7XG5cbiAgICAgICAgICAgIEFubnVhbFNlcnZpY2UuZ2V0UHJpb3JpdHlBY3Rpdml0aWVzKHllYXIpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGVkYXRhX3ByaW9yaXR5ZnVuZCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGVkYXRhX3ByaW9yaXR5dW5mdW5kZWQgPSBbXTtcblxuICAgICAgICAgICAgICAgICAgICB2bS5kYXRhID0gYW5ndWxhci5jb3B5KGRhdGEpO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgdGFibGVkYXRhX3ByaW9yaXR5ZnVuZCA9IHZtLmRhdGEuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLmZ1bmQgPT0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICB0YWJsZWRhdGFfcHJpb3JpdHl1bmZ1bmRlZCA9IHZtLmRhdGEuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLmZ1bmQgPT0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICk7XG5cblxuXG5cblxuICAgICAgICAgICAgICAgICAgICBpZiAoZnVuZGVkID09IHZtLmRhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2bS5ncmFwaGZ1bmRlZGFjdGl2aXRpZXMgPSBbXTtcblxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2bS50YWJsZVBhcmFtc19wcmlvcml0eWZ1bmQ9IG5ldyBOZ1RhYmxlUGFyYW1zKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50OiAxNVxuICAgICAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlckRlbGF5OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50czogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogdGFibGVkYXRhX3ByaW9yaXR5ZnVuZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2bS50YWJsZVBhcmFtc19wcmlvcml0eXVuZnVuZGVkID0gbmV3IE5nVGFibGVQYXJhbXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2U6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnQ6IDE1XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyRGVsYXk6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnRzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB0YWJsZWRhdGFfcHJpb3JpdHl1bmZ1bmRlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zdHJ1Y3QgRGlzdHJpY3QgZ3JhcGggZGF0YVxuICAgICAgICAgICAgICAgICAgICB2YXIgcHJpb3JpdHlkYXRhID0gW107XG4gICAgICAgICAgICAgICAgICAgIHZhciBwcmlvcml0eWRhdGF1biA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgSGlnaHByaW9yaXR5ID0gW107XG4gICAgICAgICAgICAgICAgICAgIHZhciBNZWRpdW1wcmlvcml0eSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgTG93cHJpb3JpdHkgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIEhpZ2hwcmlvcml0eXVuID0gW107XG4gICAgICAgICAgICAgICAgICAgIHZhciBNZWRpdW1wcmlvcml0eXVuID0gW107XG4gICAgICAgICAgICAgICAgICAgIHZhciBMb3dwcmlvcml0eXVuID0gW107XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2bS5kYXRhLmxlbmd0aCA7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZtLmRhdGFbaV0uZnVuZCA9PSB0cnVlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBIaWdocHJpb3JpdHkucHVzaChbdm0uZGF0YVtpXS5hcmVhLCB2bS5kYXRhW2ldLkhpZ2hdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1lZGl1bXByaW9yaXR5LnB1c2goW3ZtLmRhdGFbaV0uYXJlYSwgdm0uZGF0YVtpXS5NZWRpdW1dKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvd3ByaW9yaXR5LnB1c2goW3ZtLmRhdGFbaV0uYXJlYSwgdm0uZGF0YVtpXS5Mb3ddKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgSGlnaHByaW9yaXR5dW4ucHVzaChbdm0uZGF0YVtpXS5hcmVhLCB2bS5kYXRhW2ldLkhpZ2hdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1lZGl1bXByaW9yaXR5dW4ucHVzaChbdm0uZGF0YVtpXS5hcmVhLCB2bS5kYXRhW2ldLk1lZGl1bV0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTG93cHJpb3JpdHl1bi5wdXNoKFt2bS5kYXRhW2ldLmFyZWEsIHZtLmRhdGFbaV0uTG93XSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcHJpb3JpdHlkYXRhLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogXCJISUdIXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzOiBIaWdocHJpb3JpdHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6JyMyQTQ0OEEnXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBwcmlvcml0eWRhdGEucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBcIk1FRElVTVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlczogTWVkaXVtcHJpb3JpdHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6J2dyZWVuJ1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcHJpb3JpdHlkYXRhLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogXCJMT1dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXM6IExvd3ByaW9yaXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOid5ZWxsb3cnXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIHZtLnByaW9yaXR5Z3JhcGggPSBwcmlvcml0eWRhdGE7XG5cblxuICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgZ3JhcGhcbiAgICAgICAgICAgICAgICAgICAgdm0ucHJpb3JpdHlvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwibXVsdGlCYXJDaGFydFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDQ1MCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6NTAwLFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaXBFZGdlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFja2VkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiBmdW5jdGlvbihkKXsgcmV0dXJuIGRbMF07IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IGZ1bmN0aW9uKGQpeyByZXR1cm4gZFsxXTsgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1ZhbHVlczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1lBeGlzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93WEF4aXM6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0ZUxhYmVsczogNTUsXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBwcmlvcml0eWRhdGF1bi5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IFwiSElHSFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlczogSGlnaHByaW9yaXR5dW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6JyMyQTQ0OEEnXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBwcmlvcml0eWRhdGF1bi5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IFwiTUVESVVNXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzOiBNZWRpdW1wcmlvcml0eXVuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOidncmVlbidcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHByaW9yaXR5ZGF0YXVuLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogXCJMT1dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXM6IExvd3ByaW9yaXR5dW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6J3llbGxvdydcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdm0ucHJpb3JpdHlncmFwaHVuID0gcHJpb3JpdHlkYXRhdW47XG5cbiAgICAgICAgICAgICAgICAgICAgdm0ucHJpb3JpdHlvcHRpb25zdW4gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJtdWx0aUJhckNoYXJ0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogNDUwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDo1MDAsXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpcEVkZ2U6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg6IGZ1bmN0aW9uKGQpeyByZXR1cm4gZFswXTsgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogZnVuY3Rpb24oZCl7IHJldHVybiBkWzFdOyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93VmFsdWVzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93WUF4aXM6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dYQXhpczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRlTGFiZWxzOiA1NSxcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICRzY29wZS4kb24oJ3JlZnJlc2hBd3AnLCBmdW5jdGlvbihlLCB5ZWFyKSB7XG4gICAgICAgICAgICAgICAgaWYoeWVhci55ZWFyKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdm0uZ2V0RnVuZEFjdGl2aXRpZXMoeWVhci55ZWFyKTtcbiAgICAgICAgICAgICAgICAgICAgdm0uZ2V0UHJpb3JpdHlBY3Rpdml0aWVzKHllYXIueWVhcik7XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG4gICAgXSk7XG59KSh3aW5kb3cuYW5ndWxhcik7XG4iLCIoZnVuY3Rpb24gKGFuZ3VsYXIpIHtcbiAgICAvLyAndXNlIHN0cmljdCc7XG5hbmd1bGFyLm1vZHVsZSgnZGFzaGJvYXJkJylcbiAgICAuY29udHJvbGxlcignU3RvY2tDb250cm9sbGVyJywgWyckc2NvcGUnLCAnU3RvY2tTZXJ2aWNlJywgJyRyb290U2NvcGUnLCAnTmdUYWJsZVBhcmFtcycsXG4gICAgJ0ZpbHRlclNlcnZpY2UnLCAnTW9udGhTZXJ2aWNlJywgJyRsb2NhdGlvbicsICdDaGFydFN1cHBvcnRTZXJ2aWNlJywgJ0NoYXJ0UERGRXhwb3J0JywgJyR0aW1lb3V0JyxcbiAgICBmdW5jdGlvbigkc2NvcGUsIFN0b2NrU2VydmljZSwgJHJvb3RTY29wZSwgTmdUYWJsZVBhcmFtcywgRmlsdGVyU2VydmljZSwgTW9udGhTZXJ2aWNlLFxuICAgICAgICAkbG9jYXRpb24sIENoYXJ0U3VwcG9ydFNlcnZpY2UsIENoYXJ0UERGRXhwb3J0LCAkdGltZW91dClcbiAgICB7XG4gICAgICAgIHZhciB2bSA9IHRoaXM7XG4gICAgICAgIHZhciBzaGVsbFNjb3BlID0gJHNjb3BlLiRwYXJlbnQ7XG4gICAgICAgIHNoZWxsU2NvcGUuY2hpbGQgPSAkc2NvcGU7XG4gICAgICAgIHZtLmV4cG9ydFBERiA9IENoYXJ0UERGRXhwb3J0LmV4cG9ydDtcblxuICAgICAgICBzaGVsbFNjb3BlLmNoaWxkLmlzQWN0aXZlID0gZnVuY3Rpb24odmlld0xvY2F0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gdmlld0xvY2F0aW9uID09PSAkbG9jYXRpb24ucGF0aCgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFRvZG86IFVzZSB0aGlzIHRvIHNvcnQgYnkgcGVyZm9ybWFuY2UgKE1hbGlzYSlcbiAgICAgICAgdm0uU29ydEJ5S2V5ID0gZnVuY3Rpb24oYXJyYXksIGtleSkge1xuICAgICAgICAgICAgcmV0dXJuIGFycmF5LnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgICAgICAgICAgICAgIHZhciB4ID0gYVtrZXldOyB2YXIgeSA9IGJba2V5XTtcbiAgICAgICAgICAgICAgICByZXR1cm4gKCh4IDwgeSkgPyAtMSA6ICgoeCA+IHkpID8gMSA6IDApKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZtLmdldFN0b2NrQnlEaXN0cmljdCA9IGZ1bmN0aW9uKHN0YXJ0TW9udGgsIGVuZE1vbnRoLCBkaXN0cmljdCwgdmFjY2luZSkge1xuXG4gICAgICAgICAgICB2bS5zdGFydE1vbnRoID8gdm0uc3RhcnRNb250aCA6IFwiXCI7XG4gICAgICAgICAgICB2bS5lbmRNb250aCA9IHZtLmVuZE1vbnRoID8gdm0uZW5kTW9udGggOiBcIlwiO1xuICAgICAgICAgICAgLy9Ub2RvOiBUZW1wb3JhcmlseSBkaXNhYmxlIGZpbHRlcmluZyBieSBkaXN0cmljdCBmb3IgdGhlIHRhYmxlXG4gICAgICAgICAgICBkaXN0cmljdCA9IFwiXCJcbiAgICAgICAgICAgIHZtLmRpc3RyaWN0ID0gXCJcIjtcbiAgICAgICAgICAgIHZtLnZhY2NpbmUgPSB2bS5zZWxlY3RlZFZhY2NpbmUgPyB2bS5zZWxlY3RlZFZhY2NpbmUubmFtZSA6IFwiXCI7XG5cbiAgICAgICAgICAgIFN0b2NrU2VydmljZS5nZXRTdG9ja0J5RGlzdHJpY3Qoc3RhcnRNb250aCwgZW5kTW9udGgsIGRpc3RyaWN0LCB2YWNjaW5lKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGVkYXRhX3NvID0gW107XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWJsZWRhdGFfYm0gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmxlZGF0YV93ciA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGVkYXRhX2FtID0gW107XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWJsZWRhdGFfc2VhcmNoID1bXTtcblxuICAgICAgICAgICAgICAgICAgICB2bS5kYXRhID0gYW5ndWxhci5jb3B5KGRhdGEpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRhYmxlZGF0YV9zbyA9IHZtLmRhdGEuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLmF0X2hhbmQgPT0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIHRhYmxlZGF0YV9hbSA9IHZtLmRhdGEuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLmF0X2hhbmQgPiB2YWx1ZS5zdG9ja19yZXF1aXJlbWVudF9fbWF4aW11bTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIHRhYmxlZGF0YV93ciA9IHZtLmRhdGEuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgodmFsdWUuYXRfaGFuZCA+IHZhbHVlLnN0b2NrX3JlcXVpcmVtZW50X19taW5pbXVtKSAmJiAodmFsdWUuYXRfaGFuZCA8IHZhbHVlLnN0b2NrX3JlcXVpcmVtZW50X19tYXhpbXVtKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICB0YWJsZWRhdGFfYm0gPSB2bS5kYXRhLmZpbHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoKHZhbHVlLmF0X2hhbmQgPCB2YWx1ZS5zdG9ja19yZXF1aXJlbWVudF9fbWluaW11bSkgJiYgKHZhbHVlLmF0X2hhbmQgPiAwKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdGFibGVkYXRhX3NlYXJjaCA9IHZtLmRhdGEuZmlsdGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGFibGVkYXRhQWxsZGlzdHJpY3RzID0gdm0uZGF0YS5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICB2bS50YWJsZVBhcmFtc0FsbGRpc3RyaWN0cyA9IG5ldyBOZ1RhYmxlUGFyYW1zKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2U6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudDogMTBcbiAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyRGVsYXk6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudHM6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogdGFibGVkYXRhQWxsZGlzdHJpY3RzLFxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBjYWxjdWxhdGUgdG90YWxzXG4gICAgICAgICAgICAgICAgICAgIHZhciBub3RoaW5nID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdpdGhpbiA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBiZWxvd21pbmltdW0gPSAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYWJvdmVtYXhpbXVtID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXR1cyA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdm0uZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZtLmRhdGFbaV0uYXRfaGFuZCA9PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGhpbmcrKyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM9XCJTdG9ja2VkIE91dFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoKHZtLmRhdGFbaV0uYXRfaGFuZCA+IHZtLmRhdGFbaV0uc3RvY2tfcmVxdWlyZW1lbnRfX21pbmltdW0pICYmICh2bS5kYXRhW2ldLmF0X2hhbmQgPCB2bS5kYXRhW2ldLnN0b2NrX3JlcXVpcmVtZW50X19tYXhpbXVtKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aXRoaW4rKyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM9XCJXaXRoaW4gUmFuZ2VcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCh2bS5kYXRhW2ldLmF0X2hhbmQgPCB2bS5kYXRhW2ldLnN0b2NrX3JlcXVpcmVtZW50X19taW5pbXVtKSAmJiAodm0uZGF0YVtpXS5hdF9oYW5kID4gMCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVsb3dtaW5pbXVtKyssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzPVwiQmVsb3cgTUlOXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh2bS5kYXRhW2ldLmF0X2hhbmQgPiB2bS5kYXRhW2ldLnN0b2NrX3JlcXVpcmVtZW50X19tYXhpbXVtKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFib3ZlbWF4aW11bSsrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1cz1cIkFib3ZlIE1BWFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgdm0uZGF0YVtpXS5zdGF0dXM9c3RhdHVzO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgc2hlbGxTY29wZS5jaGlsZC5zdG9ja2Vkb3V0ID0gKG5vdGhpbmcgLyB2bS5kYXRhLmxlbmd0aCkgKiAxMDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBiYWxhbmNlTW9udGggPSBuZXcgRGF0ZShNb250aFNlcnZpY2UubW9udGhUb0RhdGUoZW5kTW9udGgpKTtcbiAgICAgICAgICAgICAgICAgICAgYmFsYW5jZU1vbnRoLnNldE1vbnRoKGJhbGFuY2VNb250aC5nZXRNb250aCgpIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgIHNoZWxsU2NvcGUuY2hpbGQudGhlbW9udGggPSBiYWxhbmNlTW9udGg7XG4gICAgICAgICAgICAgICAgICAgIHNoZWxsU2NvcGUuY2hpbGQudmFjY2luZSA9IHZhY2NpbmU7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlIGdyYXBoXG4gICAgICAgICAgICAgICAgICAgIHZtLm9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFydDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwaWVDaGFydCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiA1MDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDUwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC5rZXk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC55O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0xhYmVsczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNTAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsVGhyZXNob2xkOiAwLjAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsU3VuYmVhbUxheW91dDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWdlbmQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IDUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByaWdodDogMzUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3R0b206IDUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vdGhpbmcgPT0gdm0uZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZtLmdyYXBoID0gW107XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2bS50YWJsZVBhcmFtc19zbyA9IG5ldyBOZ1RhYmxlUGFyYW1zKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50OiAxMFxuICAgICAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlckRlbGF5OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50czogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogdGFibGVkYXRhX3NvLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZtLnRhYmxlUGFyYW1zX2JtID0gbmV3IE5nVGFibGVQYXJhbXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2U6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnQ6IDEwXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyRGVsYXk6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnRzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB0YWJsZWRhdGFfYm0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdm0udGFibGVQYXJhbXNfd3IgPSBuZXcgTmdUYWJsZVBhcmFtcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZTogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudDogMTBcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJEZWxheTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudHM6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHRhYmxlZGF0YV93cixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2bS50YWJsZVBhcmFtc19hbSA9IG5ldyBOZ1RhYmxlUGFyYW1zKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50OiAxMFxuICAgICAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlckRlbGF5OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50czogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogdGFibGVkYXRhX2FtLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2bS50YWJsZVBhcmFtc19zZWFyY2ggPSBuZXcgTmdUYWJsZVBhcmFtcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZTogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudDogMTBcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJEZWxheTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudHM6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHRhYmxlZGF0YV9zZWFyY2gsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdm0uZ3JhcGggPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IFwiU3RvY2tlZCBPdXRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogKG5vdGhpbmcgLyB2bS5kYXRhLmxlbmd0aCkgKiAxMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOicjRkYwMDAwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IFwiV2l0aGluIFJhbmdlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6ICh3aXRoaW4gLyB2bS5kYXRhLmxlbmd0aCkgKiAxMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOicjRkZGRjAwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IFwiQmVsb3cgTUlOXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IChiZWxvd21pbmltdW0gLyB2bS5kYXRhLmxlbmd0aCkgKiAxMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOicjRkZBNTAwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IFwiQWJvdmUgTUFYXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IChhYm92ZW1heGltdW0gLyB2bS5kYXRhLmxlbmd0aCkgKiAxMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOicjMDA4MDAwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdm0uZ2V0U3RvY2tCeURpc3RyaWN0VmFjY2luZSA9IGZ1bmN0aW9uKHN0YXJ0TW9udGgsIGVuZE1vbnRoLCBkaXN0cmljdCwgdmFjY2luZSkge1xuXG4gICAgICAgICAgICB2bS5zdGFydE1vbnRoID8gdm0uc3RhcnRNb250aCA6IFwiTm92IDIwMTVcIjtcbiAgICAgICAgICAgIHZtLmVuZE1vbnRoID0gdm0uZW5kTW9udGggPyB2bS5lbmRNb250aCA6IFwiRGVjIDIwMTZcIjtcbiAgICAgICAgICAgIC8vVG9kbzogVGVtcG9yYXJpbHkgZGlzYWJsZSBmaWx0ZXJpbmcgYnkgZGlzdHJpY3QgZm9yIHRoZSB0YWJsZVxuICAgICAgICAgICAgLy9kaXN0cmljdCA9IFwiXCJcbiAgICAgICAgICAgIHZtLmRpc3RyaWN0ID0gZGlzdHJpY3Q7XG4gICAgICAgICAgICB2bS52YWNjaW5lID0gdmFjY2luZTsgLy92bS5zZWxlY3RlZFZhY2NpbmUgPyB2bS5zZWxlY3RlZFZhY2NpbmUubmFtZSA6IFwiXCI7XG5cbiAgICAgICAgICAgIFN0b2NrU2VydmljZS5nZXRTdG9ja0J5RGlzdHJpY3RWYWNjaW5lKHN0YXJ0TW9udGgsIGVuZE1vbnRoLCBkaXN0cmljdCwgdmFjY2luZSlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG5cbiAgICAgICAgICAgICAgICB2bS5kYXRhID0gYW5ndWxhci5jb3B5KGRhdGEpO1xuICAgICAgICAgICAgICAgIHZtLnRhYmxlUGFyYW1zID0gbmV3IE5nVGFibGVQYXJhbXMoe1xuICAgICAgICAgICAgICAgICAgICBwYWdlOiAxLFxuICAgICAgICAgICAgICAgICAgICBjb3VudDogMTVcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlckRlbGF5OiAwLFxuICAgICAgICAgICAgICAgICAgICBjb3VudHM6IFtdLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB2bS5kYXRhLFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gY2FsY3VsYXRlIHRvdGFsc1xuICAgICAgICAgICAgICAgIHNoZWxsU2NvcGUuY2hpbGQuZGlzdHJpY3QgPSB2bS5kaXN0cmljdDtcbiAgICAgICAgICAgICAgICBzaGVsbFNjb3BlLmNoaWxkLnZhY2NpbmUgPSB2bS52YWNjaW5lO1xuXG5cbiAgICAgICAgICAgICAgICAvLyBjb25zdHJ1Y3QgRGlzdHJpYnV0aW9uIGdyYXBoIGRhdGFcbiAgICAgICAgICAgICAgICB2YXIgZ3JhcGhkYXRhRGlzdHJpYnV0aW9uID0gW107XG4gICAgICAgICAgICAgICAgdmFyIHNlcmllc0Rpc3RyaWJ1dGlvbiA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBzZXJpZXNPcmRlcnMgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgbWluX3Nlcmllc0Rpc3RyaWJ1dGlvbiA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBtYXhfc2VyaWVzRGlzdHJpYnV0aW9uID0gW107XG4gICAgICAgICAgICAgICAgc2hlbGxTY29wZS5jaGlsZC5yZWZyZXNocmF0ZSA9IDA7XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZtLmRhdGEubGVuZ3RoIDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlcmllc0Rpc3RyaWJ1dGlvbi5wdXNoKFt2bS5kYXRhW2ldLm1vbnRoLCBwYXJzZUludCh2bS5kYXRhW2ldLnJlY2VpdmVkKV0pXG4gICAgICAgICAgICAgICAgICAgIHNlcmllc09yZGVycy5wdXNoKFt2bS5kYXRhW2ldLm1vbnRoLCB2bS5kYXRhW2ldLm9yZGVyZWRdKVxuICAgICAgICAgICAgICAgICAgICBtaW5fc2VyaWVzRGlzdHJpYnV0aW9uLnB1c2goW3ZtLmRhdGFbaV0ubW9udGgsIHZtLmRhdGFbaV0uc3RvY2tfcmVxdWlyZW1lbnRfX21pbmltdW1dKVxuICAgICAgICAgICAgICAgICAgICBtYXhfc2VyaWVzRGlzdHJpYnV0aW9uLnB1c2goW3ZtLmRhdGFbaV0ubW9udGgsIHZtLmRhdGFbaV0uc3RvY2tfcmVxdWlyZW1lbnRfX21heGltdW1dKVxuICAgICAgICAgICAgICAgICAgICBpZiAodm0uZGF0YVtpXS5tb250aCA9PSBNb250aFNlcnZpY2UuZ2V0TW9udGhOdW1iZXIoZW5kTW9udGguc3BsaXQoXCIgXCIpWzBdKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaGVsbFNjb3BlLmNoaWxkLnJlZnJlc2hyYXRlID0gdm0uZGF0YVtpXS5vcmRlcmVkID09IDAgPyAwIDp2bS5kYXRhW2ldLnJlY2VpdmVkL3ZtLmRhdGFbaV0ub3JkZXJlZCoxMDAgO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGdyYXBoZGF0YURpc3RyaWJ1dGlvbi5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleTogXCJNaW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlczogbWluX3Nlcmllc0Rpc3RyaWJ1dGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOicjQTVFODE2J1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGdyYXBoZGF0YURpc3RyaWJ1dGlvbi5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleTogXCJJc3N1ZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlczogc2VyaWVzRGlzdHJpYnV0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6JyMxRjc3QjQnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZ3JhcGhkYXRhRGlzdHJpYnV0aW9uLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBcIk9yZGVyZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlczogc2VyaWVzT3JkZXJzLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6J3JlZCdcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGdyYXBoZGF0YURpc3RyaWJ1dGlvbi5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleTogXCJNYXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlczogbWF4X3Nlcmllc0Rpc3RyaWJ1dGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOicjRkY3RjBFJ1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgdm0uZ3JhcGhEaXN0cmlidXRpb24gPSBncmFwaGRhdGFEaXN0cmlidXRpb247XG5cblxuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBEaXN0cmlidXRpb24gZ3JhcGhcbiAgICAgICAgICAgICAgICB2bS5vcHRpb25zRGlzdHJpYnV0aW9uID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbGluZUNoYXJ0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDUwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCA6IDUwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdBYmltJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0xlZ2VuZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFja2VkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb250cm9sczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW4gOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogMjAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAyMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tOiA4NSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogNjVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcmNlWTogKFswLDEwMF0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWdnZXJMYWJlbHM6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeDogZnVuY3Rpb24oZCl7IHJldHVybiBkWzBdOyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IGZ1bmN0aW9uKGQpeyByZXR1cm4gZFsxXTsgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4QXhpczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBheGlzTGFiZWw6ICdNb250aHMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aWNrRm9ybWF0OiBmdW5jdGlvbihkKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNb250aFNlcnZpY2UuZ2V0TW9udGhOYW1lKGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBheGlzTGFiZWxEaXN0YW5jZTogMTBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZUludGVyYWN0aXZlR3VpZGVsaW5lOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDaGFuZ2U6IGZ1bmN0aW9uKGUpeyBjb25zb2xlLmxvZyhcInN0YXRlQ2hhbmdlXCIpOyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZVN0YXRlOiBmdW5jdGlvbihlKXsgY29uc29sZS5sb2coXCJjaGFuZ2VTdGF0ZVwiKTsgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sdGlwU2hvdzogZnVuY3Rpb24oZSl7IGNvbnNvbGUubG9nKFwidG9vbHRpcFNob3dcIik7IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHRpcEhpZGU6IGZ1bmN0aW9uKGUpeyBjb25zb2xlLmxvZyhcInRvb2x0aXBIaWRlXCIpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93VmFsdWVzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlRm9ybWF0OiBmdW5jdGlvbihkKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRpY2tGb3JtYXQoZDMuZm9ybWF0KCcsLjFmJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbkR1cmF0aW9uOiA1MDAsXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIGNvbnN0cnVjdCBVcHRha2UgZ3JhcGggZGF0YVxuXG5cbiAgICAgICAgICAgICAgICAvLyBjb25zdHJ1Y3QgQ29uc3VtcHRpb24gZ3JhcGggZGF0YVxuICAgICAgICAgICAgICAgIHZhciBncmFwaGRhdGFDb25zdW1wdGlvbiA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBzZXJpZXNDb25zdW1wdGlvbiA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciB0YXJnZXRfc2VyaWVzQ29uc3VtcHRpb24gPSBbXTtcbiAgICAgICAgICAgICAgICBzaGVsbFNjb3BlLmNoaWxkLmNvdmVyYWdlID0gMDtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdm0uZGF0YS5sZW5ndGggOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgc2VyaWVzQ29uc3VtcHRpb24ucHVzaChbdm0uZGF0YVtpXS5tb250aCwgdm0uZGF0YVtpXS5jb25zdW1lZF0pXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldF9zZXJpZXNDb25zdW1wdGlvbi5wdXNoKFt2bS5kYXRhW2ldLm1vbnRoLCB2bS5kYXRhW2ldLnN0b2NrX3JlcXVpcmVtZW50X190YXJnZXRdKVxuICAgICAgICAgICAgICAgICAgICBpZiAodm0uZGF0YVtpXS5tb250aCA9PSBNb250aFNlcnZpY2UuZ2V0TW9udGhOdW1iZXIoZW5kTW9udGguc3BsaXQoXCIgXCIpWzBdKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaGVsbFNjb3BlLmNoaWxkLmNvdmVyYWdlID0gdm0uZGF0YVtpXS5zdG9ja19yZXF1aXJlbWVudF9fdGFyZ2V0ID09IDAgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAgOnZtLmRhdGFbaV0uY29uc3VtZWQvdm0uZGF0YVtpXS5zdG9ja19yZXF1aXJlbWVudF9fdGFyZ2V0KjEwMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZ3JhcGhkYXRhQ29uc3VtcHRpb24ucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk6IFwiQWN0dWFsIENvbnN1bXB0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXM6IHNlcmllc0NvbnN1bXB0aW9uXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZ3JhcGhkYXRhQ29uc3VtcHRpb24ucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk6IFwiUGxhbm5lZCBjb25zdW1wdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzOiB0YXJnZXRfc2VyaWVzQ29uc3VtcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyNGRjdGMEUnXG4gICAgICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICAgICAgICAgIHZtLmdyYXBoQ29uc3VtcHRpb24gPSBncmFwaGRhdGFDb25zdW1wdGlvbjtcblxuXG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIENvbnN1bXB0aW9uIGdyYXBoXG4gICAgICAgICAgICAgICAgdm0ub3B0aW9uc0NvbnN1bXB0aW9uID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbGluZUNoYXJ0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDUwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCA6IDUwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdBYmltJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0xlZ2VuZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFja2VkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb250cm9sczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW4gOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogMjAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAyMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tOiA4NSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogNjVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcmNlWTogKFswLDEwMF0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWdnZXJMYWJlbHM6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeDogZnVuY3Rpb24oZCl7IHJldHVybiBkWzBdOyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IGZ1bmN0aW9uKGQpeyByZXR1cm4gZFsxXTsgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4QXhpczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBheGlzTGFiZWw6ICdNb250aHMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aWNrRm9ybWF0OiBmdW5jdGlvbihkKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNb250aFNlcnZpY2UuZ2V0TW9udGhOYW1lKGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBheGlzTGFiZWxEaXN0YW5jZTogMTBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZUludGVyYWN0aXZlR3VpZGVsaW5lOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDaGFuZ2U6IGZ1bmN0aW9uKGUpeyBjb25zb2xlLmxvZyhcInN0YXRlQ2hhbmdlXCIpOyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZVN0YXRlOiBmdW5jdGlvbihlKXsgY29uc29sZS5sb2coXCJjaGFuZ2VTdGF0ZVwiKTsgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sdGlwU2hvdzogZnVuY3Rpb24oZSl7IGNvbnNvbGUubG9nKFwidG9vbHRpcFNob3dcIik7IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHRpcEhpZGU6IGZ1bmN0aW9uKGUpeyBjb25zb2xlLmxvZyhcInRvb2x0aXBIaWRlXCIpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93VmFsdWVzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlRm9ybWF0OiBmdW5jdGlvbihkKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRpY2tGb3JtYXQoZDMuZm9ybWF0KCcsLjFmJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbkR1cmF0aW9uOiA1MDAsXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS4kb24oJ3JlZnJlc2gnLCBmdW5jdGlvbihlLCBzdGFydE1vbnRoLCBlbmRNb250aCwgZGlzdHJpY3QsIHZhY2NpbmUpIHtcbiAgICAgICAgICAgIGlmKHN0YXJ0TW9udGgubmFtZSAmJiBlbmRNb250aC5uYW1lICYmIGRpc3RyaWN0Lm5hbWUgJiYgdmFjY2luZS5uYW1lKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZtLmdldFN0b2NrQnlEaXN0cmljdChzdGFydE1vbnRoLm5hbWUsIGVuZE1vbnRoLm5hbWUsIGRpc3RyaWN0Lm5hbWUsIHZhY2NpbmUubmFtZSk7XG4gICAgICAgICAgICAgICAgdm0uZ2V0U3RvY2tCeURpc3RyaWN0VmFjY2luZShzdGFydE1vbnRoLm5hbWUsIGVuZE1vbnRoLm5hbWUsIGRpc3RyaWN0Lm5hbWUsIHZhY2NpbmUubmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgfVxuXG5dKTtcbn0pKHdpbmRvdy5hbmd1bGFyKTtcbiIsIihmdW5jdGlvbiAoYW5ndWxhcikge1xuICAgICd1c2Ugc3RyaWN0JztcbmFuZ3VsYXIubW9kdWxlKCdkYXNoYm9hcmQnKS5jb250cm9sbGVyKCdTdG9ja1VwdGFrZUNvbnRyb2xsZXInLCBTdG9ja1VwdGFrZUNvbnRyb2xsZXIpO1xuXG5TdG9ja1VwdGFrZUNvbnRyb2xsZXIuJGluamVjdCA9IFtcbiAgICAnJHNjb3BlJyxcbiAgICAnU3RvY2tTZXJ2aWNlJyxcbiAgICAnTW9udGhTZXJ2aWNlJyxcbiAgICAnQ2hhcnRTdXBwb3J0U2VydmljZScsXG4gICAgJ0NoYXJ0UERGRXhwb3J0JyxcbiAgICAnJHRpbWVvdXQnXG5dO1xuZnVuY3Rpb24gU3RvY2tVcHRha2VDb250cm9sbGVyKCRzY29wZSwgU3RvY2tTZXJ2aWNlLCBNb250aFNlcnZpY2UsIENoYXJ0U3VwcG9ydFNlcnZpY2UsIENoYXJ0UERGRXhwb3J0LCAkdGltZW91dCkge1xuICAgIHZhciB2bSA9IHRoaXM7XG4gICAgdmFyIHNoZWxsU2NvcGUgPSAkc2NvcGUuJHBhcmVudDtcbiAgICBzaGVsbFNjb3BlLmNoaWxkID0gJHNjb3BlO1xuXG4gICAgc2hlbGxTY29wZS5jaGlsZC51cHRha2UgPSAwO1xuICAgIHZtLmV4cG9ydFBERiA9IENoYXJ0UERGRXhwb3J0LmV4cG9ydDtcblxuXG4gICAgdm0ub3B0aW9uc1VwdGFrZSA9IGdldE9wdGlvbnMoKTtcblxuICAgICRzY29wZS4kb24oJ3JlZnJlc2gnLCB1cGRhdGVDaGFydCk7XG4gICAgZnVuY3Rpb24gdXBkYXRlQ2hhcnQoZSwgc3RhcnRNb250aCwgZW5kTW9udGgsIGRpc3RyaWN0LCB2YWNjaW5lKSB7XG4gICAgICAgIFN0b2NrU2VydmljZS5nZXRTdG9ja0J5RGlzdHJpY3RWYWNjaW5lKHN0YXJ0TW9udGgubmFtZSwgZW5kTW9udGgubmFtZSwgZGlzdHJpY3QubmFtZSwgdmFjY2luZS5uYW1lKVxuICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICB2bS5kYXRhID0gYW5ndWxhci5jb3B5KGRhdGEpO1xuXG4gICAgICAgICAgICB2YXIgZ3JhcGhkYXRhVXB0YWtlID0gW107XG4gICAgICAgICAgICB2YXIgc2VyaWVzVXB0YWtlID0gW107XG4gICAgICAgICAgICB2YXIgc3RvY2tEYXRhID0gW107XG4gICAgICAgICAgICB2YXIgaW1tdW5pc2F0aW9uRGF0YSA9IFtdO1xuICAgICAgICAgICAgdmFyIG1vbnRobHlUYXJnZXREYXRhID0gW107XG4gICAgICAgICAgICB2YXIgZm9yY2VTdGFydFplcm9EYXRhID0gW107XG4gICAgICAgICAgICB2YXIgbWF4TW9udGhseVRhcmdldCA9IDA7XG4gICAgICAgICAgICBzaGVsbFNjb3BlLmNoaWxkLnVwdGFrZSA9IFwiMFwiO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZtLmRhdGEubGVuZ3RoIDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSB2bS5kYXRhW2ldO1xuICAgICAgICAgICAgICAgIC8qIENlcnRhaW4gZGF0YSBoYWQgaW52YWxpZCBwZXJpb2RzIGxpa2UgMjAxNzIgaW5zdGVhZCBvZlxuICAgICAgICAgICAgICAgICAgICAyMDE3MDIgd2hpY2ggd2VyZSBjYXVzaW5nIGVycm9ycy4gSGVuY2UgdGhlIGZpbHRlciBiZWxvdy4gKi9cbiAgICAgICAgICAgICAgICBpZiAoaXRlbS5wZXJpb2QudG9TdHJpbmcoKS5sZW5ndGggPT0gNSkgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICB2YXIgbW9udGhJbmRleCA9IGFwcEhlbHBlcnMuZ2V0TW9udGhJbmRleEZyb21QZXJpb2QoaXRlbS5wZXJpb2QsICdDWScpO1xuICAgICAgICAgICAgICAgIHZhciBhdEhhbmQgPSBpdGVtLmF0X2hhbmQgPT0gdW5kZWZpbmVkID8gaXRlbS50b3RhbF9hdF9oYW5kIDogaXRlbS5hdF9oYW5kO1xuICAgICAgICAgICAgICAgIHZhciByZWNlaXZlZCA9IGl0ZW0ucmVjZWl2ZWQgPT0gdW5kZWZpbmVkID8gaXRlbS50b3RhbF9yZWNlaXZlZCA6IGl0ZW0ucmVjZWl2ZWQ7XG4gICAgICAgICAgICAgICAgdmFyIGNvbnN1bWVkID0gaXRlbS5jb25zdW1lZCA9PSB1bmRlZmluZWQgPyBpdGVtLnRvdGFsX2NvbnN1bWVkIDogaXRlbS5jb25zdW1lZDtcbiAgICAgICAgICAgICAgICB2YXIgbW9udGhseVRhcmdldCA9IGl0ZW0uc3RvY2tfcmVxdWlyZW1lbnRfX3RhcmdldCA9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgPyBpdGVtLnRvdGFsX3RhcmdldCA6IGl0ZW0uc3RvY2tfcmVxdWlyZW1lbnRfX3RhcmdldDtcbiAgICAgICAgICAgICAgICB2YXIgdG90YWxTdG9jayA9IGF0SGFuZCArIHJlY2VpdmVkO1xuXG4gICAgICAgICAgICAgICAgbWF4TW9udGhseVRhcmdldCA9IE1hdGgubWF4KG1heE1vbnRobHlUYXJnZXQsIE51bWJlcihtb250aGx5VGFyZ2V0LnRvRml4ZWQoMCkpKTtcbiAgICAgICAgICAgICAgICBzdG9ja0RhdGEucHVzaCh7eDogbW9udGhJbmRleCwgeTogTnVtYmVyKHRvdGFsU3RvY2sudG9GaXhlZCgwKSl9KTtcbiAgICAgICAgICAgICAgICBpbW11bmlzYXRpb25EYXRhLnB1c2goe3g6IG1vbnRoSW5kZXgsIHk6IE51bWJlcihjb25zdW1lZC50b0ZpeGVkKDApKX0pO1xuICAgICAgICAgICAgICAgIG1vbnRobHlUYXJnZXREYXRhLnB1c2goe3g6IG1vbnRoSW5kZXgsIHk6IE51bWJlcihtb250aGx5VGFyZ2V0LnRvRml4ZWQoMCkpfSk7XG4gICAgICAgICAgICAgICAgZm9yY2VTdGFydFplcm9EYXRhLnB1c2goe3g6IG1vbnRoSW5kZXgsIHk6IDB9KTtcblxuICAgICAgICAgICAgICAgIGlmICh2bS5kYXRhW2ldLm1vbnRoID09IE1vbnRoU2VydmljZS5nZXRNb250aE51bWJlcihlbmRNb250aC5uYW1lLnNwbGl0KFwiIFwiKVswXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hlbGxTY29wZS5jaGlsZC51cHRha2UgPSByZWNlaXZlZCA9PSAwICYmIGF0SGFuZCA9PSAwID9cbiAgICAgICAgICAgICAgICAgICAgICAgIDAgOiBNYXRoLnJvdW5kKGNvbnN1bWVkLyh0b3RhbFN0b2NrKSoxMDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZ3JhcGhkYXRhVXB0YWtlLnB1c2goe2tleTogJ0F2YWlsYWJsZSBTdG9jaycsIHR5cGU6ICdiYXInLCB5QXhpczogMSwgdmFsdWVzOiBzdG9ja0RhdGF9KTtcbiAgICAgICAgICAgIGdyYXBoZGF0YVVwdGFrZS5wdXNoKHtrZXk6ICdDaGlsZHJlbiBJbW11bmlzZWQnLCB0eXBlOiAnYmFyJywgeUF4aXM6IDEsIHZhbHVlczogaW1tdW5pc2F0aW9uRGF0YX0pO1xuICAgICAgICAgICAgZ3JhcGhkYXRhVXB0YWtlLnB1c2goe2tleTogJ01vbnRobHkgVGFyZ2V0cycsIHR5cGU6ICdsaW5lJywgeUF4aXM6IDEsIHZhbHVlczogbW9udGhseVRhcmdldERhdGF9KTtcbiAgICAgICAgICAgIGdyYXBoZGF0YVVwdGFrZS5wdXNoKHtrZXk6ICcnLCB0eXBlOiAnbGluZScsIHlBeGlzOiAxLCBzdHJva2VXaWR0aDogMCwgdmFsdWVzOiBmb3JjZVN0YXJ0WmVyb0RhdGF9KTtcbiAgICAgICAgICAgIHZtLmdyYXBoVXB0YWtlID0gZ3JhcGhkYXRhVXB0YWtlO1xuICAgICAgICAgICAgdm0ubWF4TW9udGhseVRhcmdldCA9IG1heE1vbnRobHlUYXJnZXQ7XG5cbiAgICAgICAgICAgIHVwZGF0ZUxhYmVscygpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRPcHRpb25zKCkge1xuICAgICAgICB2YXIgdXB0YWtlT3B0aW9ucyA9IENoYXJ0U3VwcG9ydFNlcnZpY2UuZ2V0T3B0aW9ucygnbXVsdGlDaGFydCcpO1xuICAgICAgICB1cHRha2VPcHRpb25zLmNoYXJ0LmNvbG9yID0gW1wiZ3JlZW5cIiwgXCJEb2RnZXJCbHVlXCIsIFwicmVkXCIsIFwid2hpdGVcIl07XG4gICAgICAgIHVwdGFrZU9wdGlvbnMuY2hhcnQud2lkdGggPSA5MDA7XG4gICAgICAgIHVwdGFrZU9wdGlvbnMuY2hhcnQubWFyZ2luID0ge2xlZnQ6IDcwLCB0b3A6IDcwfTtcbiAgICAgICAgdXB0YWtlT3B0aW9ucy5jaGFydC5sZWdlbmQud2lkdGggPSA5MDA7XG4gICAgICAgIHVwdGFrZU9wdGlvbnMuY2hhcnQueEF4aXMuYXhpc0xhYmVsID0gXCJNb250aHNcIjtcbiAgICAgICAgdXB0YWtlT3B0aW9ucy5jaGFydC55QXhpcy5heGlzTGFiZWwgPSBcIlwiO1xuICAgICAgICB1cHRha2VPcHRpb25zLmNoYXJ0LnhBeGlzLnRpY2tGb3JtYXQgPSBmdW5jdGlvbihkKXtcbiAgICAgICAgICAgIHJldHVybiBhcHBIZWxwZXJzLmdldE1vbnRoRnJvbU51bWJlcihkLCAnQ1knKTtcbiAgICAgICAgfTtcbiAgICAgICAgdXB0YWtlT3B0aW9ucy5jaGFydC52YWx1ZUZvcm1hdCA9IGZ1bmN0aW9uKGQpe1xuICAgICAgICAgICAgcmV0dXJuIHRpY2tGb3JtYXQoZDMuZm9ybWF0KCcuMGYnKSk7XG4gICAgICAgIH07XG4gICAgICAgIHVwdGFrZU9wdGlvbnMuY2hhcnQubGVnZW5kLmRpc3BhdGNoLnN0YXRlQ2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB1cGRhdGVMYWJlbHMoKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHVwdGFrZU9wdGlvbnM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdXBkYXRlTGFiZWxzKCkge1xuICAgICAgICBDaGFydFN1cHBvcnRTZXJ2aWNlLmNsZWFyTGFiZWxzKCk7XG4gICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgQ2hhcnRTdXBwb3J0U2VydmljZS5pbml0TGFiZWxzKCk7XG4gICAgICAgICAgICAvKiBjaGFydC5jbGlwRWRnZSBzZWVtcyBub3QgdG8gYmUgd29ya2luZyxcbiAgICAgICAgICAgIHRoaXMgc2hvdWxkIHNlcnZlIGFzIGEgaGFjayAqL1xuICAgICAgICAgICAgZDMuc2VsZWN0QWxsKFwiLm52LW11bHRpYmFyIGdcIikuYXR0cihcImNsaXAtcGF0aFwiLCBcIlwiKTtcbiAgICAgICAgfSwgMTAwMCk7XG4gICAgfVxufVxufSkod2luZG93LmFuZ3VsYXIpO1xuIiwiKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG4gICAgLy8gJ3VzZSBzdHJpY3QnO1xuYW5ndWxhci5tb2R1bGUoJ2Rhc2hib2FyZCcpLmNvbnRyb2xsZXIoJ1N0b2Nrb3V0VHJlbmRDb250cm9sbGVyJywgU3RvY2tvdXRUcmVuZENvbnRyb2xsZXIpO1xuXG5TdG9ja291dFRyZW5kQ29udHJvbGxlci4kaW5qZWN0ID0gW1xuICAgICckc2NvcGUnLFxuICAgICdTdG9ja1NlcnZpY2UnLFxuICAgICdNb250aFNlcnZpY2UnLFxuICAgICdDaGFydFN1cHBvcnRTZXJ2aWNlJyxcbiAgICAnQ2hhcnRQREZFeHBvcnQnLFxuICAgICckdGltZW91dCdcbl07XG5mdW5jdGlvbiBTdG9ja291dFRyZW5kQ29udHJvbGxlcigkc2NvcGUsIFN0b2NrU2VydmljZSwgTW9udGhTZXJ2aWNlLCBDaGFydFN1cHBvcnRTZXJ2aWNlLCBDaGFydFBERkV4cG9ydCwgJHRpbWVvdXQpIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuICAgIHZtLmV4cG9ydFBERiA9IENoYXJ0UERGRXhwb3J0LmV4cG9ydDtcbiAgICB2bS5ncmFwaE9wdGlvbnMgPSBnZXRPcHRpb25zKCk7XG4gICAgdm0uZ3JhcGhEYXRhID0gW107XG5cbiAgICAkc2NvcGUuJG9uKCdyZWZyZXNoJywgdXBkYXRlQ2hhcnQpO1xuXG4gICAgZnVuY3Rpb24gdXBkYXRlQ2hhcnQoZSwgc3RhcnRNb250aCwgZW5kTW9udGgsIGRpc3RyaWN0LCB2YWNjaW5lKSB7XG4gICAgICAgIFN0b2NrU2VydmljZS5nZXRTdG9ja0J5RGlzdHJpY3RWYWNjaW5lKHN0YXJ0TW9udGgubmFtZSwgZW5kTW9udGgubmFtZSwgZGlzdHJpY3QubmFtZSwgdmFjY2luZS5uYW1lKVxuICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICB2bS5kYXRhID0gYW5ndWxhci5jb3B5KGRhdGEpO1xuXG4gICAgICAgICAgICB2YXIgZ3JhcGhEYXRhID0gW107XG4gICAgICAgICAgICB2YXIgc3RvY2tEYXRhID0gW107XG4gICAgICAgICAgICB2YXIgc3VwcGx5RGF0YSA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZtLmRhdGEubGVuZ3RoIDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSB2bS5kYXRhW2ldO1xuICAgICAgICAgICAgICAgIC8qIENlcnRhaW4gZGF0YSBoYWQgaW52YWxpZCBwZXJpb2RzIGxpa2UgMjAxNzIgaW5zdGVhZCBvZlxuICAgICAgICAgICAgICAgICAgICAyMDE3MDIgd2hpY2ggd2VyZSBjYXVzaW5nIGVycm9ycy4gSGVuY2UgdGhlIGZpbHRlciBiZWxvdy4gKi9cbiAgICAgICAgICAgICAgICBpZiAoaXRlbS5wZXJpb2QudG9TdHJpbmcoKS5sZW5ndGggPT0gNSkgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICB2YXIgbW9udGhJbmRleCA9IGFwcEhlbHBlcnMuZ2V0TW9udGhJbmRleEZyb21QZXJpb2QoaXRlbS5wZXJpb2QsICdDWScpO1xuICAgICAgICAgICAgICAgIHZhciBhdEhhbmQgPSBpdGVtLmF0X2hhbmQgPT0gdW5kZWZpbmVkID8gaXRlbS50b3RhbF9hdF9oYW5kIDogaXRlbS5hdF9oYW5kO1xuICAgICAgICAgICAgICAgIHZhciByZWNlaXZlZCA9IGl0ZW0ucmVjZWl2ZWQgPT0gdW5kZWZpbmVkID8gaXRlbS50b3RhbF9yZWNlaXZlZCA6IGl0ZW0ucmVjZWl2ZWQ7XG5cbiAgICAgICAgICAgICAgICBzdG9ja0RhdGEucHVzaCh7eDogbW9udGhJbmRleCwgeTogTnVtYmVyKGF0SGFuZC50b0ZpeGVkKDApKX0pO1xuICAgICAgICAgICAgICAgIHN1cHBseURhdGEucHVzaCh7eDogbW9udGhJbmRleCwgeTogTnVtYmVyKHJlY2VpdmVkLnRvRml4ZWQoMCkpfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGdyYXBoRGF0YS5wdXNoKHtrZXk6ICdTdG9jayBCYWxhbmNlJywgdmFsdWVzOiBzdG9ja0RhdGF9KTtcbiAgICAgICAgICAgIGdyYXBoRGF0YS5wdXNoKHtrZXk6ICdTdXBwbHkgQnkgTk1TJywgdmFsdWVzOiBzdXBwbHlEYXRhfSk7XG4gICAgICAgICAgICB2bS5ncmFwaERhdGEgPSBncmFwaERhdGE7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldE9wdGlvbnMoKSB7XG4gICAgICAgIHZhciBjaGFydE9wdGlvbnMgPSBDaGFydFN1cHBvcnRTZXJ2aWNlLmdldE9wdGlvbnMoJ211bHRpQmFyQ2hhcnQnKTtcbiAgICAgICAgY2hhcnRPcHRpb25zLmNoYXJ0LmNvbG9yID0gW1wiZ3JlZW5cIiwgXCJEb2RnZXJCbHVlXCJdO1xuICAgICAgICBjaGFydE9wdGlvbnMuY2hhcnQud2lkdGggPSA5MDA7XG4gICAgICAgIGNoYXJ0T3B0aW9ucy5jaGFydC5tYXJnaW4gPSB7bGVmdDogNzAsIHRvcDogNzB9O1xuICAgICAgICBjaGFydE9wdGlvbnMuY2hhcnQubGVnZW5kLndpZHRoID0gOTAwO1xuICAgICAgICBjaGFydE9wdGlvbnMuY2hhcnQueEF4aXMuYXhpc0xhYmVsID0gXCJNb250aHNcIjtcbiAgICAgICAgY2hhcnRPcHRpb25zLmNoYXJ0LnlBeGlzLmF4aXNMYWJlbCA9IFwiXCI7XG4gICAgICAgIGNoYXJ0T3B0aW9ucy5jaGFydC54QXhpcy50aWNrRm9ybWF0ID0gZnVuY3Rpb24oZCl7XG4gICAgICAgICAgICByZXR1cm4gYXBwSGVscGVycy5nZXRNb250aEZyb21OdW1iZXIoZCwgJ0NZJyk7XG4gICAgICAgIH07XG4gICAgICAgIGNoYXJ0T3B0aW9ucy5jaGFydC52YWx1ZUZvcm1hdCA9IGZ1bmN0aW9uKGQpe1xuICAgICAgICAgICAgcmV0dXJuIHRpY2tGb3JtYXQoZDMuZm9ybWF0KCcuMGYnKSk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBjaGFydE9wdGlvbnM7XG4gICAgfVxuXG59XG59KSh3aW5kb3cuYW5ndWxhcik7XG4iLCIoZnVuY3Rpb24gKGFuZ3VsYXIpIHtcbiAgICAvLyAndXNlIHN0cmljdCc7XG5hbmd1bGFyLm1vZHVsZSgnZGFzaGJvYXJkJylcbi5jb250cm9sbGVyKCdVbmVwaUNvbnRyb2xsZXInLCBbXG4gICAgJyRzY29wZScsICdDb3ZlcmFnZVNlcnZpY2UnLCdTdG9ja1NlcnZpY2UnLFxuICAgICdNb250aFNlcnZpY2UnLCAnJHJvb3RTY29wZScsICdOZ1RhYmxlUGFyYW1zJyxcbiAgICAnRmlsdGVyU2VydmljZScsICdGcmlkZ2VTZXJ2aWNlJywgJ0NvdmVyYWdlQ2FsY3VsYXRvcicsICckdGltZW91dCcsXG4gICAgZnVuY3Rpb24oJHNjb3BlLCBDb3ZlcmFnZVNlcnZpY2UsIFN0b2NrU2VydmljZSxcbiAgICAgICAgTW9udGhTZXJ2aWNlLCAkcm9vdFNjb3BlLCBOZ1RhYmxlUGFyYW1zLFxuICAgICAgICBGaWx0ZXJTZXJ2aWNlLCBGcmlkZ2VTZXJ2aWNlLCBDb3ZlcmFnZUNhbGN1bGF0b3IsICR0aW1lb3V0KVxuICAgIHtcbiAgICAgICAgdmFyIHZtID0gdGhpcztcbiAgICAgICAgdmFyIHNoZWxsU2NvcGUgPSAkc2NvcGUuJHBhcmVudDtcbiAgICAgICAgc2hlbGxTY29wZS5jaGlsZCA9ICRzY29wZTtcblxuICAgICAgICBmdW5jdGlvbiBwZXJpb2REaXNwbGF5KHBlcmlvZClcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIG1vbnRoID0gcGFyc2VJbnQocGVyaW9kLnNsaWNlKDQsNikpO1xuICAgICAgICAgICAgcmV0dXJuIE1vbnRoU2VydmljZS5nZXRNb250aE5hbWUobW9udGgpICsgXCIgXCIgKyBwZXJpb2Quc2xpY2UoMCw0KVxuICAgICAgICB9XG5cbiAgICAgICAgdm0uZ2V0VW5lcGlDb3ZlcmFnZSA9IGZ1bmN0aW9uKHBlcmlvZCwgZGlzdHJpY3QsIHZhY2NpbmUpIHtcbiAgICAgICAgICAgIHZhciBwYXJhbXMgPSB7cGVyaW9kLCBkaXN0cmljdH07XG5cbiAgICAgICAgICAgIHZhciBnZXRWYWx1ZVN1bSA9IGZ1bmN0aW9uKGRhdGEsIG5hbWUsIHZhY2NpbmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5yZWR1Y2UoZnVuY3Rpb24oYWNjdW11bGF0b3IsIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS52YWNjaW5lX19uYW1lID09IHZhY2NpbmUpIHJldHVybiBhY2N1bXVsYXRvciArIHZhbHVlW25hbWVdXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIENvdmVyYWdlU2VydmljZS5nZXRWYWNjaW5lRG9zZXNCeVBlcmlvZChwYXJhbXMpLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgIHZhciB0YWJsZURhdGEgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgcGVudGFDUiA9IDAsXG4gICAgICAgICAgICAgICAgICAgIHBjdkNSID0gMDtcblxuICAgICAgICAgICAgICAgIHNoZWxsU2NvcGUuY2hpbGQuZGlzdHJpY3QgPSBkaXN0cmljdDtcbiAgICAgICAgICAgICAgICBzaGVsbFNjb3BlLmNoaWxkLkdhcCA9IDA7XG4gICAgICAgICAgICAgICAgc2hlbGxTY29wZS5jaGlsZC5kcm9wb3V0X1BlbnRhID0gMDtcbiAgICAgICAgICAgICAgICBzaGVsbFNjb3BlLmNoaWxkLmRyb3BvdXRfaHB2ID0gMDtcbiAgICAgICAgICAgICAgICBzaGVsbFNjb3BlLmNoaWxkLmNhdGVnb3J5ID0gMDtcbiAgICAgICAgICAgICAgICBzaGVsbFNjb3BlLmNoaWxkLnBlcmlvZE1vbnRoID0gcGVyaW9kRGlzcGxheShwZXJpb2QpO1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhUGVyaW9kID0gZGF0YVtpXS5wZXJpb2RcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxhc3REb3NlID0gZGF0YVtpXS50b3RhbF9sYXN0X2Rvc2U7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmaXJzdERvc2UgPSBkYXRhW2ldLnRvdGFsX2ZpcnN0X2Rvc2U7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzZWNvbmREb3NlID0gZGF0YVtpXS50b3RhbF9zZWNvbmRfZG9zZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBsYW5uZWQgPSBkYXRhW2ldLnRvdGFsX3BsYW5uZWQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWNjaW5lID0gZGF0YVtpXS52YWNjaW5lX19uYW1lO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhUGVyaW9kICE9IHBlcmlvZCkgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICAgICAgLyogU3VtIHVwIHRoZSB2YWx1ZXMgZnJvbSBzdGFydCBvZiB5ZWFyIHRvIHNlbGVjdGVkIHBlcmlvZFxuICAgICAgICAgICAgICAgICAgICAgdG8gY2FsY3VsYXRlIEFubnVhbGl6ZWQgQ292ZXJhZ2UgKGF2b2MpICovXG4gICAgICAgICAgICAgICAgICAgIHZhciB0b3RhbExhc3REb3NlID0gZ2V0VmFsdWVTdW0oZGF0YSwgJ3RvdGFsX2xhc3RfZG9zZScsIHZhY2NpbmUpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdG90YWxQbGFubmVkID0gZ2V0VmFsdWVTdW0oZGF0YSwgJ3RvdGFsX3BsYW5uZWQnLCB2YWNjaW5lKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgY292ZXJhZ2VSYXRlID0gQ292ZXJhZ2VDYWxjdWxhdG9yLmNhbGN1bGF0ZUNvdmVyYWdlUmF0ZShsYXN0RG9zZSwgcGxhbm5lZCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkcm9wb3V0UmF0ZSA9IENvdmVyYWdlQ2FsY3VsYXRvci5jYWxjdWxhdGVEcm9wb3V0UmF0ZShmaXJzdERvc2UsIGxhc3REb3NlKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlZENhdGVnb3J5ID0gQ292ZXJhZ2VDYWxjdWxhdG9yLmNhbGN1bGF0ZVJlZENhdGVnb3J5KGZpcnN0RG9zZSwgbGFzdERvc2UsIHBsYW5uZWQpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXZvYyA9IENvdmVyYWdlQ2FsY3VsYXRvci5jYWxjdWxhdGVDb3ZlcmFnZVJhdGUodG90YWxMYXN0RG9zZSwgdG90YWxQbGFubmVkKTtcblxuICAgICAgICAgICAgICAgICAgICB0YWJsZURhdGEucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAndmFjY2luZSc6IHZhY2NpbmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAncGxhbm5lZF9jb25zdW1wdGlvbic6IHBsYW5uZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAnY292ZXJhZ2VfcmF0ZSc6IGNvdmVyYWdlUmF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdhdm9jJzogYXZvY1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHZhY2NpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJQRU5UQVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlbnRhQ1IgPSBjb3ZlcmFnZVJhdGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hlbGxTY29wZS5jaGlsZC5kcm9wb3V0X1BlbnRhID0gZHJvcG91dFJhdGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hlbGxTY29wZS5jaGlsZC5jYXRlZ29yeSA9IHJlZENhdGVnb3J5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlBDVlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBjdkNSID0gY292ZXJhZ2VSYXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkhQVlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoZWxsU2NvcGUuY2hpbGQuZHJvcG91dF9ocHYgPSBkcm9wb3V0UmF0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNoZWxsU2NvcGUuY2hpbGQuR2FwID0gcGVudGFDUiAtIHBjdkNSO1xuXG4gICAgICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHtwYWdlOiAxLCBjb3VudDogMTB9O1xuICAgICAgICAgICAgICAgIHZhciBzZXR0aW5ncyA9IHtmaWx0ZXJEZWxheTogMCwgY291bnRzOiBbXSwgZGF0YTogdGFibGVEYXRhfTtcbiAgICAgICAgICAgICAgICB2bS50YWJsZVBhcmFtc0Rvc2VzID0gbmV3IE5nVGFibGVQYXJhbXMocGFyYW1zLCBzZXR0aW5ncyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZtLmdldFVuZXBpTmF0aW9uYWxTdG9jayA9IGZ1bmN0aW9uKGVuZE1vbnRoLCBkaXN0cmljdCkge1xuICAgICAgICAgICAgU3RvY2tTZXJ2aWNlLmdldFVuZXBpU3RvY2soZW5kTW9udGgsIGRpc3RyaWN0KS50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGFibGVkYXRhQWxsc3RvY2sgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgc3RvY2tlZE91dEFudGlnZW5zID0gMDtcblxuICAgICAgICAgICAgICAgIC8qIFR1cm4gdGhlIGRpc3RyaWN0IGJhc2VkIGRhdGEgaW50byBhZ2dyZWdhdGVkXG4gICAgICAgICAgICAgICAgdmFjY2luZSBiYXNlZCBkYXRhICovXG4gICAgICAgICAgICAgICAgdmFyIHZhY2NpbmVEYXRhID0gZGF0YS5yZWR1Y2UoZnVuY3Rpb24oYWNjLCBpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghIChpdGVtLnZhY2NpbmUgaW4gYWNjKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjY1tpdGVtLnZhY2NpbmVdID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0X2hhbmQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvY2tfcmVxdWlyZW1lbnRfX21pbmltdW06IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXJlZDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdW1lZDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdmFpbGFibGVfc3RvY2s6IDBcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgYWNjW2l0ZW0udmFjY2luZV0uYXRfaGFuZCArPSBpdGVtLmF0X2hhbmQ7XG4gICAgICAgICAgICAgICAgICAgIGFjY1tpdGVtLnZhY2NpbmVdLnN0b2NrX3JlcXVpcmVtZW50X19taW5pbXVtICs9IGl0ZW0uc3RvY2tfcmVxdWlyZW1lbnRfX21pbmltdW07XG4gICAgICAgICAgICAgICAgICAgIGFjY1tpdGVtLnZhY2NpbmVdLnJlY2VpdmVkICs9IGl0ZW0ucmVjZWl2ZWQ7XG4gICAgICAgICAgICAgICAgICAgIGFjY1tpdGVtLnZhY2NpbmVdLm9yZGVyZWQgKz0gaXRlbS5vcmRlcmVkO1xuICAgICAgICAgICAgICAgICAgICBhY2NbaXRlbS52YWNjaW5lXS5jb25zdW1lZCArPSBpdGVtLmNvbnN1bWVkO1xuICAgICAgICAgICAgICAgICAgICBhY2NbaXRlbS52YWNjaW5lXS5hdmFpbGFibGVfc3RvY2sgKz0gaXRlbS5hdmFpbGFibGVfc3RvY2s7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgICAgICB9LCB7fSk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciB2YWNjaW5lIGluIHZhY2NpbmVEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhdEhhbmQgPSB2YWNjaW5lRGF0YVt2YWNjaW5lXS5hdF9oYW5kO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWluU3RvY2sgPSB2YWNjaW5lRGF0YVt2YWNjaW5lXS5zdG9ja19yZXF1aXJlbWVudF9fbWluaW11bTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9yZGVyZWQgPSB2YWNjaW5lRGF0YVt2YWNjaW5lXS5vcmRlcmVkO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVjZWl2ZWQgPSB2YWNjaW5lRGF0YVt2YWNjaW5lXS5yZWNlaXZlZDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnN1bWVkID0gdmFjY2luZURhdGFbdmFjY2luZV0uY29uc3VtZWQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhdmFpbGFibGVTdG9jayA9IGF0SGFuZCArIHJlY2VpdmVkO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbW9udGhzU3RvY2sgPSBNYXRoLnJvdW5kKGF0SGFuZCAvIG1pblN0b2NrKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAobW9udGhzU3RvY2sgPT0gMCkgc3RvY2tlZE91dEFudGlnZW5zKys7XG5cbiAgICAgICAgICAgICAgICAgICAgdGFibGVkYXRhQWxsc3RvY2sucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWNjaW5lOiB2YWNjaW5lLFxuICAgICAgICAgICAgICAgICAgICAgICAgTW9udGhzX3N0b2NrOiBtb250aHNTdG9jayxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlZmlsbF9yYXRlOiAob3JkZXJlZCA9PSAwKSA/IDAgOiBNYXRoLnJvdW5kKChyZWNlaXZlZCAvIG9yZGVyZWQpICogMTAwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwdGFrZV9yYXRlOiAoYXZhaWxhYmxlU3RvY2sgPT0gMCkgPyAwIDogTWF0aC5yb3VuZCgoY29uc3VtZWQgLyBhdmFpbGFibGVTdG9jaykgKiAxMDApXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNoZWxsU2NvcGUuY2hpbGQuQW50aWdlbl9zdG9ja2Vkb3V0ID0gc3RvY2tlZE91dEFudGlnZW5zO1xuXG4gICAgICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHtwYWdlOiAxLCBjb3VudDogMTB9O1xuICAgICAgICAgICAgICAgIHZhciBzZXR0aW5ncyA9IHtmaWx0ZXJEZWxheTogMCwgY291bnRzOiBbXSwgZGF0YTogdGFibGVkYXRhQWxsc3RvY2t9O1xuICAgICAgICAgICAgICAgIHZtLnRhYmxlUGFyYW1zU3RvY2sgPSBuZXcgTmdUYWJsZVBhcmFtcyhwYXJhbXMsIHNldHRpbmdzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgICAgICB2bS5nZXRVbmVwaVN0b2NrID0gZnVuY3Rpb24oZW5kTW9udGgsIGRpc3RyaWN0KSB7XG5cbiAgICAgICAgICAgICAgICB2bS5lbmRNb250aCA9IHZtLmVuZE1vbnRoID8gdm0uZW5kTW9udGggOiBcIlwiO1xuXG4gICAgICAgICAgICAgICAgU3RvY2tTZXJ2aWNlLmdldFVuZXBpU3RvY2soIGVuZE1vbnRoLCBkaXN0cmljdClcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmxlZGF0YUFsbHN0b2NrID0gW107XG4gICAgICAgICAgICAgICAgICAgIHZtLmRhdGEgPSBhbmd1bGFyLmNvcHkoZGF0YSk7XG5cblxuXG4gICAgICAgICAgICAgICAgICAgIHRhYmxlZGF0YUFsbHN0b2NrID0gdm0uZGF0YS5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdm0udGFibGVQYXJhbXNTdG9jayA9IG5ldyBOZ1RhYmxlUGFyYW1zKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50OiAxMFxuICAgICAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlckRlbGF5OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50czogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogdGFibGVkYXRhQWxsc3RvY2ssXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2hlbGxTY29wZS5jaGlsZC5BbnRpZ2VuX3N0b2NrZWRvdXQgPSAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZtLmRhdGEubGVuZ3RoIDsgaSsrKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodm0uZGF0YVtpXS5Nb250aHNfc3RvY2sgPT0gMCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoZWxsU2NvcGUuY2hpbGQuQW50aWdlbl9zdG9ja2Vkb3V0Kys7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgIENvbGQgQ2hhaW4gJiBVbmVwaSBEaXN0cmljdCBmaWx0ZXJzIHVzZWQgZGlmZmVyZW50IGRhdGEgc291cmNlc1xuICAgICAgICAgICAgICAgIEZvciB0aGF0IHJlYXNvbiB0byB1c2UgdGhlIENvbGQgQ2hhaW4gYXBpLCB0aGUgZGlzdHJpY3QgbmFtZVxuICAgICAgICAgICAgICAgIGhhcyB0byBiZSByZWZvcm1hdHRlZCB0byBtYXRjaCB0aGUgY29sZCBjaGFpbiBkaXN0cmljdCBmaWx0ZXIuXG4gICAgICAgICAgICAgICAgQFRvZG86IFN0YW5kYXJkaXplIHRoZSBkaXN0cmljdCB2YWx1ZXNcbiAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHZtLnBhcnNlRGlzdHJpY3QgPSBmdW5jdGlvbihkaXN0cmljdCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGlzdHJpY3QucmVwbGFjZShcIiBEaXN0cmljdFwiLCBcIlwiKS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB2bS5nZXRVbmVwaUNvbGRDaGFpbkNhcGFjaXR5ID0gZnVuY3Rpb24oZW5kTW9udGgsIGRpc3RyaWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3RyaWN0ID0gdm0ucGFyc2VEaXN0cmljdChkaXN0cmljdCk7XG5cbiAgICAgICAgICAgICAgICAgICAgRnJpZGdlU2VydmljZS5nZXRGcmlkZ2VGYWNpbGl0eUNhcGFjaXR5KHVuZGVmaW5lZCwgZW5kTW9udGgsIGRpc3RyaWN0LCB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtZXRyaWNzID0gRnJpZGdlU2VydmljZS5nZXRGcmlkZ2VDYXBhY2l0eU1ldHJpY3MoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaGVsbFNjb3BlLmNoaWxkLm1ldHJpY3MgPSBtZXRyaWNzO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hlbGxTY29wZS5jaGlsZC5wZXIgPSBhcHBIZWxwZXJzLnBlcjtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHZtLmdldFVuZXBpQ29sZENoYWluRnVuY3Rpb25hbGl0eSA9IGZ1bmN0aW9uKGVuZE1vbnRoLCBkaXN0cmljdCkge1xuICAgICAgICAgICAgICAgICAgICBkaXN0cmljdCA9IHZtLnBhcnNlRGlzdHJpY3QoZGlzdHJpY3QpO1xuXG4gICAgICAgICAgICAgICAgICAgIEZyaWRnZVNlcnZpY2UuZ2V0RnJpZGdlRGlzdHJpY3RSZWZyaWdlcmF0b3IodW5kZWZpbmVkLCBlbmRNb250aCwgZGlzdHJpY3QsIHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWdncmVnYXRlcyA9IGRhdGEucmVkdWNlKGZ1bmN0aW9uKGFjYywgaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjYy50b3RhbEVxdWlwbWVudCArPSBpdGVtLm51bWJlcl9leGlzdGluZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2MudG90YWxXb3JraW5nV2VsbCArPSBpdGVtLndvcmtpbmdfd2VsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2MudG90YWxOb3RXb3JraW5nV2VsbCArPSBpdGVtLm5vdF93b3JraW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjYy50b3RhbE5lZWRNYWludGVuYW5jZSArPSBpdGVtLm5lZWRzX21haW50ZW5hbmNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjYy50b3RhbEZhY2lsaXRpZXMgKz0gaXRlbS50b3RhbF9mYWNpbGl0aWVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB7dG90YWxFcXVpcG1lbnQ6MCwgdG90YWxGYWNpbGl0aWVzOjAsIHRvdGFsV29ya2luZ1dlbGw6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxOb3RXb3JraW5nV2VsbDowLCB0b3RhbE5lZWRNYWludGVuYW5jZTogMH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBzaGVsbFNjb3BlLmNoaWxkLm51bWJlck9mQ29sZGNoYWluRXF1aXBtZW50ID0gYWdncmVnYXRlcy50b3RhbEVxdWlwbWVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoZWxsU2NvcGUuY2hpbGQubnVtYmVyT2ZGYWNpbGl0aWVzID0gYWdncmVnYXRlcy50b3RhbEZhY2lsaXRpZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaGVsbFNjb3BlLmNoaWxkLm51bWJlcldvcmtpbmdXZWxsID0gYWdncmVnYXRlcy50b3RhbFdvcmtpbmdXZWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hlbGxTY29wZS5jaGlsZC5udW1iZXJOb3RXb3JraW5nV2VsbCA9IGFnZ3JlZ2F0ZXMudG90YWxOb3RXb3JraW5nV2VsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoZWxsU2NvcGUuY2hpbGQubnVtYmVyTmVlZE1haW50ZW5hbmNlID0gYWdncmVnYXRlcy50b3RhbE5lZWRNYWludGVuYW5jZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoZWxsU2NvcGUuY2hpbGQucGVyID0gYXBwSGVscGVycy5wZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaGVsbFNjb3BlLmNoaWxkLm51bWJlcldvcmtpbmcgPSBhZ2dyZWdhdGVzLnRvdGFsRXF1aXBtZW50IC0gYWdncmVnYXRlcy50b3RhbE5vdFdvcmtpbmdXZWxsO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgdm0uZW5hYmxlUERGRG93bmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoZWxsU2NvcGUuY2hpbGQuZG93bmxvYWRQREYgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGVsbFNjb3BlLmNoaWxkLnByaW50VmlldyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwZGYgPSBuZXcganNQREYoJ3AnLCAnbW0nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGRmLmFkZEhUTUwoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1bmVwaVJlcG9ydFwiKSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGRmLnNhdmUoJ3VuZXBpLXJlcG9ydC5wZGYnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoZWxsU2NvcGUuY2hpbGQucHJpbnRWaWV3ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICRzY29wZS4kb24oJ3JlZnJlc2gnLCBmdW5jdGlvbihlLCBzdGFydE1vbnRoLCBlbmRNb250aCwgZGlzdHJpY3QsIHZhY2NpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYoc3RhcnRNb250aC5uYW1lICYmIGVuZE1vbnRoLm5hbWUgJiYgZGlzdHJpY3QubmFtZSAmJiB2YWNjaW5lLm5hbWUpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZtLmdldFVuZXBpQ292ZXJhZ2UoZW5kTW9udGgucGVyaW9kLCBkaXN0cmljdC5uYW1lLCB2YWNjaW5lLm5hbWUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlzdHJpY3QubmFtZSA9PSBcIk5hdGlvbmFsXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2bS5nZXRVbmVwaU5hdGlvbmFsU3RvY2soZW5kTW9udGgubmFtZSwgZGlzdHJpY3QubmFtZSwgdmFjY2luZS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdm0uZ2V0VW5lcGlTdG9jayhlbmRNb250aC5uYW1lLCBkaXN0cmljdC5uYW1lLCB2YWNjaW5lLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdm0uZ2V0VW5lcGlDb2xkQ2hhaW5DYXBhY2l0eShlbmRNb250aC5uYW1lLCBkaXN0cmljdC5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZtLmdldFVuZXBpQ29sZENoYWluRnVuY3Rpb25hbGl0eShlbmRNb250aC5uYW1lLCBkaXN0cmljdC5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZtLmVuYWJsZVBERkRvd25sb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgfVxuICAgICAgICBdKTtcbn0pKHdpbmRvdy5hbmd1bGFyKTtcbiJdfQ==
